(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"+5ps":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"useGraphConfig\", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(\"BcGY\");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"KOBo\");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"RY7m\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__(\"mqVf\");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/lodash/lodash.js\nvar lodash = __webpack_require__(\"nsO7\");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/target-type/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: 'block',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: '',\n      stroke: '#A2B1C3',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2[\"a\" /* default */])({\n    id: 'node1',\n    label: '\u7b97\u6cd5\u8282\u70b9-1'\n  }, NODE_COMMON_PROPS), Object(objectSpread2[\"a\" /* default */])({\n    id: 'node2',\n    label: '\u7b97\u6cd5\u8282\u70b9-2'\n  }, NODE_COMMON_PROPS), Object(objectSpread2[\"a\" /* default */])({\n    id: 'node3',\n    label: '\u7b97\u6cd5\u8282\u70b9-3'\n  }, NODE_COMMON_PROPS), Object(objectSpread2[\"a\" /* default */])({\n    id: 'node4',\n    label: '\u7b97\u6cd5\u8282\u70b9-4'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2[\"a\" /* default */])({\n    id: Object(es[\"T\" /* uuidv4 */])(),\n    source: 'node1',\n    target: 'node2',\n    sourcePortId: 'node1-output-1',\n    targetPortId: 'node2-input-1'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2[\"a\" /* default */])({\n    id: Object(es[\"T\" /* uuidv4 */])(),\n    source: 'node1',\n    target: 'node3',\n    sourcePortId: 'node1-output-1',\n    targetPortId: 'node3-input-1'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2[\"a\" /* default */])({\n    id: Object(es[\"T\" /* uuidv4 */])(),\n    source: 'node1',\n    target: 'node4',\n    sourcePortId: 'node1-output-1',\n    targetPortId: 'node4-input-1'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/target-type/graph-config.tsx\n\n\n\n\nvar onLoad = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n    var res, _res$contextProvider$, graphData;\n\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return app.executeCommand(es[\"D\" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n              layoutType: 'dagre',\n              layoutOptions: {\n                type: 'dagre',\n\n                /** \u5e03\u5c40\u65b9\u5411 */\n                rankdir: 'TB',\n\n                /** \u8282\u70b9\u95f4\u8ddd */\n                nodesep: 60,\n\n                /** \u5c42\u95f4\u8ddd */\n                ranksep: 30\n              },\n              graphData: getGraphData()\n            });\n\n          case 2:\n            res = _context.sent;\n            _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n            _context.next = 6;\n            return app.executeCommand(es[\"D\" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n              graphData: graphData\n            });\n\n          case 6:\n            _context.next = 8;\n            return app.executeCommand(es[\"D\" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n              factor: 'real'\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onLoad(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__(\"1MRj\");\n\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/target-type/index.less\nvar target_type = __webpack_require__(\"D+MW\");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/target-type/index.tsx\n\n\n\n\n/**\n * title: \u914d\u7f6e\u8054\u52a8\u5bf9\u8c61\n * desc: |\n *  \u652f\u6301 'edge' \u9009\u4e2d\u65f6\u66f4\u65b0\u8868\u5355  <br>\n *  \u9ed8\u8ba4\u652f\u6301['node', 'canvas']\u9009\u4e2d\u65f6\uff0c\u66f4\u65b0\u8868\u5355\u7684\u6e32\u67d3\u3002 <br>\n *  \u53ef\u4ee5\u901a\u8fc7 targetType \u5c5e\u6027\u6765\u652f\u6301\u66f4\u591a\u5143\u7d20\u7684\u9009\u4e2d\u65f6\u66f4\u65b0\u8868\u5355\uff1a'edge','group' <br>\n */\n\n\n\n\n\n\n/**  Demo Props  */\n\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\nvar useGraphConfig = Object(es[\"I\" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: \"react-node\"\n    }, \" \", props.data.label, \" \");\n  });\n});\nvar NsJsonForm;\n\n(function (_NsJsonForm) {\n  /** ControlShape\u7684Enum */\n  var ControlShape = es[\"w\" /* NsJsonSchemaForm */].ControlShape;\n  /** \u4fdd\u5b58form\u7684values */\n\n  var formValueUpdateService = _NsJsonForm.formValueUpdateService = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(args) {\n      var values, commandService, targetData, updateNode, updateEdge, data;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              values = args.values, commandService = args.commandService, targetData = args.targetData;\n\n              updateNode = node => {\n                return commandService.executeCommand(es[\"F\" /* XFlowNodeCommands */].UPDATE_NODE.id, {\n                  nodeConfig: node\n                });\n              };\n\n              updateEdge = edge => {\n                return commandService.executeCommand(es[\"C\" /* XFlowEdgeCommands */].UPDATE_EDGE.id, {\n                  edgeConfig: edge\n                });\n              };\n\n              data = Object(objectSpread2[\"a\" /* default */])({}, targetData);\n              values.forEach(val => {\n                Object(lodash[\"set\"])(data, val.name, val.value);\n              });\n              console.log('formValueUpdateService  values:', values, data);\n\n              if (args.targetType === 'edge') {\n                updateEdge(data);\n              } else if (args.targetType === 'node') {\n                updateNode(data);\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var formSchemaService = _NsJsonForm.formSchemaService = /*#__PURE__*/function () {\n    var _ref2 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(args) {\n      var targetData, targetType;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              targetData = args.targetData, targetType = args.targetType;\n              console.log(\"formSchemaService args:\", args);\n\n              if (targetData) {\n                _context2.next = 4;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", {\n                tabs: [{\n                  /** Tab\u7684title */\n                  name: '\u753b\u5e03\u914d\u7f6e',\n                  groups: []\n                }]\n              });\n\n            case 4:\n              if (!(targetType === 'edge')) {\n                _context2.next = 6;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", {\n                /** \u914d\u7f6e\u4e00\u4e2aTab */\n                tabs: [{\n                  /** Tab\u7684title */\n                  name: '\u8fb9\u914d\u7f6e',\n                  groups: [{\n                    name: 'group1',\n                    controls: [{\n                      name: 'label',\n                      label: 'Edge Label',\n                      shape: ControlShape.INPUT,\n                      value: targetData.label\n                    }]\n                  }]\n                }]\n              });\n\n            case 6:\n              return _context2.abrupt(\"return\", {\n                /** \u914d\u7f6e\u4e00\u4e2aTab */\n                tabs: [{\n                  /** Tab\u7684title */\n                  name: '\u8282\u70b9\u914d\u7f6e',\n                  groups: [{\n                    name: 'group1',\n                    controls: [{\n                      name: 'label',\n                      label: '\u8282\u70b9Label',\n                      shape: ControlShape.INPUT,\n                      value: targetData.label\n                    }, {\n                      name: 'x',\n                      label: 'x',\n                      shape: ControlShape.FLOAT,\n                      value: targetData.x\n                    }, {\n                      name: 'y',\n                      label: 'y',\n                      shape: ControlShape.FLOAT,\n                      value: targetData.y\n                    }]\n                  }]\n                }]\n              });\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n})(NsJsonForm || (NsJsonForm = {}));\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  return /*#__PURE__*/react_default.a.createElement(es[\"y\" /* XFlow */], {\n    onLoad: onLoad,\n    className: \"xflow-workspace\"\n  }, /*#__PURE__*/react_default.a.createElement(es[\"A\" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 290\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es[\"p\" /* JsonSchemaForm */], {\n    targetType: ['node', 'edge', 'canvas'],\n    formSchemaService: NsJsonForm.formSchemaService,\n    formValueUpdateService: NsJsonForm.formValueUpdateService,\n    position: {\n      top: 0,\n      bottom: 0,\n      right: 0,\n      width: 290\n    }\n  }));\n};\n\n/* harmony default export */ var demos_target_type = __webpack_exports__[\"default\"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-config-form/demos/target-type/index.tsx_+_2_modules?")},"/9bf":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__(\"mqVf\");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"KOBo\");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"RY7m\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(\"BcGY\");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-node-panel/demos/search/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: 'block',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: '',\n      stroke: '#A2B1C3',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2[\"a\" /* default */])({\n    id: 'node1',\n    label: '\u7b97\u6cd5\u8282\u70b9-1'\n  }, NODE_COMMON_PROPS), Object(objectSpread2[\"a\" /* default */])({\n    id: 'node2',\n    label: '\u7b97\u6cd5\u8282\u70b9-2'\n  }, NODE_COMMON_PROPS), Object(objectSpread2[\"a\" /* default */])({\n    id: 'node3',\n    label: '\u7b97\u6cd5\u8282\u70b9-3'\n  }, NODE_COMMON_PROPS), Object(objectSpread2[\"a\" /* default */])({\n    id: 'node4',\n    label: '\u7b97\u6cd5\u8282\u70b9-4'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2[\"a\" /* default */])({\n    id: Object(es[\"T\" /* uuidv4 */])(),\n    source: 'node1',\n    target: 'node2',\n    sourcePortId: 'node1-output-1',\n    targetPortId: 'node2-input-1'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2[\"a\" /* default */])({\n    id: Object(es[\"T\" /* uuidv4 */])(),\n    source: 'node1',\n    target: 'node3',\n    sourcePortId: 'node1-output-1',\n    targetPortId: 'node3-input-1'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2[\"a\" /* default */])({\n    id: Object(es[\"T\" /* uuidv4 */])(),\n    source: 'node1',\n    target: 'node4',\n    sourcePortId: 'node1-output-1',\n    targetPortId: 'node4-input-1'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-node-panel/demos/search/graph-config.tsx\n\n\n\n\n\n\nvar onLoad = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n    var res, _res$contextProvider$, graphData;\n\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return app.executeCommand(es[\"D\" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n              layoutType: 'dagre',\n              layoutOptions: {\n                type: 'dagre',\n\n                /** \u5e03\u5c40\u65b9\u5411 */\n                rankdir: 'TB',\n\n                /** \u8282\u70b9\u95f4\u8ddd */\n                nodesep: 60,\n\n                /** \u5c42\u95f4\u8ddd */\n                ranksep: 30\n              },\n              graphData: getGraphData()\n            });\n\n          case 2:\n            res = _context.sent;\n            _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n            _context.next = 6;\n            return app.executeCommand(es[\"D\" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n              graphData: graphData\n            });\n\n          case 6:\n            _context.next = 8;\n            return app.executeCommand(es[\"D\" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n              factor: 'real'\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onLoad(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\n\nvar useGraphConfig = Object(es[\"I\" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: \"react-dnd-node\"\n    }, \" \", props.data.label, \" \");\n  });\n});\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-node-panel/demos/search/comannd-utils.tsx\n\n\nvar addNode = (cmd, nodeConfig) => {\n  return cmd.executeCommand(es[\"F\" /* XFlowNodeCommands */].ADD_NODE.id, {\n    nodeConfig: Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({}, nodeConfig), {}, {\n      id: Object(es[\"T\" /* uuidv4 */])(),\n      width: 190,\n      height: 32\n    })\n  });\n};\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-node-panel/demos/search/dnd-tree-config.tsx\n\n\n\n\n\nvar DND_RENDER_ID = 'DND_RENDER_ID';\nvar onNodeDrop = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(nodeConfig, commandService, modelService) {\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            addNode(commandService, nodeConfig);\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onNodeDrop(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar treeDataService = /*#__PURE__*/function () {\n  var _ref2 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(meta, modelService) {\n    return regenerator_default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", [{\n              id: '1',\n              label: '\u6570\u636e\u8bfb\u5199',\n              parentId: '',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '2',\n              label: '\u7b97\u6cd5\u7ec4\u4ef61',\n              parentId: '1',\n              width: 190,\n              height: 32,\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE,\n              popoverContent: /*#__PURE__*/react_default.a.createElement(\"div\", null, \" test \")\n            }, {\n              id: '3',\n              label: '\u7b97\u6cd5\u7ec4\u4ef62',\n              parentId: '1',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '4',\n              label: '\u7b97\u6cd5\u7ec4\u4ef63',\n              parentId: '1',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '5',\n              label: '\u6570\u636e\u52a0\u5de5',\n              parentId: '',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '6',\n              label: '\u7b97\u6cd5\u7ec4\u4ef64',\n              parentId: '5',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '7',\n              label: '\u7b97\u6cd5\u7ec4\u4ef65',\n              parentId: '5',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '8',\n              label: '\u7b97\u6cd5\u7ec4\u4ef66',\n              parentId: '5',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '9',\n              label: '\u6a21\u578b\u8bad\u7ec3',\n              parentId: '',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '10',\n              label: '\u7b97\u6cd5\u7ec4\u4ef67',\n              parentId: '9',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '11',\n              label: '\u7b97\u6cd5\u7ec4\u4ef68',\n              parentId: '9',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '12',\n              label: '\u7b97\u6cd5\u7ec4\u4ef69',\n              parentId: '9',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }]);\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function treeDataService(_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar searchService = /*#__PURE__*/function () {\n  var _ref3 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3() {\n    var treeNodeList,\n        keyword,\n        list,\n        _args3 = arguments;\n    return regenerator_default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            treeNodeList = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : [];\n            keyword = _args3.length > 1 ? _args3[1] : undefined;\n            list = treeNodeList.filter(i => i.isDirectory || i.label.includes(keyword));\n            console.log(list, keyword, treeNodeList);\n            return _context3.abrupt(\"return\", list);\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function searchService() {\n    return _ref3.apply(this, arguments);\n  };\n}();\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-node-panel/demos/search/index.less\nvar search = __webpack_require__(\"VJBD\");\n\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__(\"1MRj\");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-node-panel/demos/search/index.tsx\n/**\n * title: \u652f\u6301\u641c\u7d22\n * desc: |\n *  \u914d\u7f6e searchService \u4f1a\u652f\u6301\u641c\u7d22 <br>\n */\n\n\n\n\n\n\n\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  return /*#__PURE__*/react_default.a.createElement(es[\"y\" /* XFlow */], {\n    onLoad: onLoad,\n    className: \"xflow-workspace\"\n  }, /*#__PURE__*/react_default.a.createElement(es[\"u\" /* NodeTreePanel */], {\n    searchService: searchService,\n    onNodeDrop: onNodeDrop,\n    treeDataService: treeDataService,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      width: 290\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es[\"A\" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 290,\n      right: 0\n    }\n  }));\n};\n\n/* harmony default export */ var demos_search = __webpack_exports__[\"default\"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-node-panel/demos/search/index.tsx_+_4_modules?")},"4iYd":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-snapline/demos/basic/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-snapline/demos/basic/index.less\nvar basic = __webpack_require__("LzTH");\n\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-snapline/demos/basic/index.tsx\n\n\n\n/**\n * title: \u57fa\u7840\u4f7f\u7528\n * desc:  \u653e\u7f6e\u5728XFlowCanvas\u7ec4\u4ef6\u5185\u90e8\u751f\u6548\n */\n\n\n\n\n\n/**  Demo Props  */\n\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      var res, _res$contextProvider$, graphData;\n\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n                layoutType: \'dagre\',\n                layoutOptions: {\n                  type: \'dagre\',\n\n                  /** \u5e03\u5c40\u65b9\u5411 */\n                  rankdir: \'TB\',\n\n                  /** \u8282\u70b9\u95f4\u8ddd */\n                  nodesep: 60,\n\n                  /** \u5c42\u95f4\u8ddd */\n                  ranksep: 30\n                },\n                graphData: getGraphData()\n              });\n\n            case 2:\n              res = _context.sent;\n              _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n              _context.next = 6;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n                graphData: graphData\n              });\n\n            case 6:\n              _context.next = 8;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n                factor: \'real\'\n              });\n\n            case 8:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es["e" /* CanvasSnapline */], null)));\n};\n\n/* harmony default export */ var demos_basic = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-snapline/demos/basic/index.tsx_+_1_modules?')},"6Ya1":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "width", function() { return /* binding */ width; });\n__webpack_require__.d(__webpack_exports__, "height", function() { return /* binding */ height; });\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("jem/");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/switch/index.js + 1 modules\nvar es_switch = __webpack_require__("wb8e");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__("DuHN");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__("jMRu");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-select/demos/form.tsx\n\n\n\n\n\n\n\nvar formItems = [{\n  name: \'nodeIds\',\n  label: \'nodeIds\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */],\n  renderProps: {\n    disabled: true\n  }\n}, {\n  name: \'resetSelection\',\n  label: \'resetSelection\',\n  rules: [{\n    required: true\n  }],\n  render: es_switch["a" /* default */],\n  itemProps: {\n    valuePropName: \'checked\'\n  }\n}];\nvar nodeIdx = 1;\nvar CmdForm = () => {\n  var app = Object(es["S" /* useXFlowApp */])();\n\n  var _Form$useForm = es_form["a" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray["a" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(values) {\n      var args;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              args = {\n                nodeIds: [values.nodeIds],\n                resetSelection: values.resetSelection\n              };\n              app.commandService.executeCommand(es["F" /* XFlowNodeCommands */].SELECT_NODE.id, args);\n              console.log(\'executeCommand with args :\', args);\n              message["b" /* default */].success("".concat(es["F" /* XFlowNodeCommands */].DEL_NODE.label, ": \\u547D\\u4EE4\\u6267\\u884C\\u6210\\u529F")); // \u8f6e\u6d41\u9009\u4e2d\n\n              if (nodeIdx < 3) {\n                nodeIdx += 1;\n              } else {\n                nodeIdx = 1;\n              }\n\n              form.setFieldsValue({\n                nodeIds: "node".concat(nodeIdx)\n              });\n\n            case 6:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onFinish(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["l" /* FormBuilder */], {\n    layout: "vertical",\n    form: form,\n    formItems: formItems,\n    onFinish: onFinish,\n    initialValues: {\n      nodeIds: "node".concat(nodeIdx),\n      resetSelection: true\n    }\n  });\n};\nvar FormPanel = () => {\n  return /*#__PURE__*/react_default.a.createElement(es["x" /* WorkspacePanel */], {\n    position: {\n      top: 0,\n      left: 0,\n      bottom: 0,\n      width: 230\n    },\n    className: "panel"\n  }, /*#__PURE__*/react_default.a.createElement(card["a" /* default */], {\n    title: "NodeConfig Options",\n    size: "small",\n    bordered: false\n  }, /*#__PURE__*/react_default.a.createElement(CmdForm, null)));\n};\n// EXTERNAL MODULE: ./docs/api/commands/nodes/node-select/demos/index.less\nvar demos = __webpack_require__("LMeG");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-select/demos/index.tsx\n\n\n\n\n\n\nvar width = 120;\nvar height = 40;\n/**  graphConfig hook  */\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setX6Config({\n    grid: true\n  });\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar NodeAddDemo = () => {\n  var graphConfig = useGraphConfig();\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'node1\',\n                  x: 100,\n                  y: 30,\n                  label: \'Hello World 1\',\n                  width,\n                  height\n                }\n              });\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'node2\',\n                  x: 50,\n                  y: 150,\n                  label: \'Hello World 2\',\n                  width,\n                  height\n                }\n              });\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'node3\',\n                  x: 200,\n                  y: 150,\n                  label: \'Hello World 3\',\n                  width,\n                  height\n                }\n              });\n              return _context.abrupt("return", app);\n\n            case 4:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(FormPanel, null), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    className: "app-main-content",\n    config: graphConfig,\n    position: {\n      top: 0,\n      left: 230,\n      right: 0,\n      bottom: 0\n    }\n  }));\n};\n\n/* harmony default export */ var node_select_demos = __webpack_exports__["default"] = (NodeAddDemo);\n\n//# sourceURL=webpack:///./docs/api/commands/nodes/node-select/demos/index.tsx_+_1_modules?')},"6cNV":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("jem/");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__("DuHN");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__("SCaQ");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__("jMRu");\n\n// CONCATENATED MODULE: ./docs/api/commands/group/group-collapse/basic/form.tsx\n\n\n\n\n\n\n\nvar formItems = [{\n  name: \'nodeId\',\n  label: \'nodeId\',\n  rules: [{\n    required: true\n  }],\n  renderProps: {\n    disabled: true\n  },\n  render: input["a" /* default */]\n}, {\n  name: \'isCollapsed\',\n  label: \'isCollapsed\',\n  rules: [{\n    required: true\n  }],\n  renderProps: {\n    disabled: true\n  },\n  render: input["a" /* default */]\n}];\nvar CmdForm = () => {\n  var app = Object(es["S" /* useXFlowApp */])();\n\n  var _Form$useForm = es_form["a" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray["a" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _React$useState = react_default.a.useState(false),\n      _React$useState2 = Object(slicedToArray["a" /* default */])(_React$useState, 2),\n      isCollpase = _React$useState2[0],\n      setCollapsed = _React$useState2[1];\n\n  react_default.a.useEffect(() => {\n    var setFormValue = /*#__PURE__*/function () {\n      var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n        var graph, nodes;\n        return regenerator_default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Object(es["N" /* delay */])(1000);\n\n              case 2:\n                _context.next = 4;\n                return app.getGraphInstance();\n\n              case 4:\n                graph = _context.sent;\n                nodes = graph.getCells().filter(c => c.getProp(\'isGroup\'));\n\n                if (nodes[0]) {\n                  form.setFieldsValue({\n                    nodeId: nodes[0].id\n                  });\n                }\n\n              case 7:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function setFormValue() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    setFormValue();\n  }, [app, form]);\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(values) {\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(values);\n              setCollapsed(values.isCollapsed === true);\n              _context2.next = 4;\n              return app.commandService.executeCommand(es["E" /* XFlowGroupCommands */].COLLAPSE_GROUP.id, {\n                nodeId: values.nodeId,\n                isCollapsed: values.isCollapsed\n              });\n\n            case 4:\n              form.setFieldsValue({\n                isCollapsed: !values.isCollapsed\n              });\n              message["b" /* default */].success("".concat(es["E" /* XFlowGroupCommands */].COLLAPSE_GROUP.label, ": \\u547D\\u4EE4\\u6267\\u884C\\u6210\\u529F"));\n\n            case 6:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onFinish(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["l" /* FormBuilder */], {\n    form: form,\n    formItems: formItems,\n    onFinish: onFinish,\n    initialValues: {\n      nodeId: null,\n      isCollapsed: true\n    },\n    submitButton: /*#__PURE__*/react_default.a.createElement(es_button["a" /* default */], {\n      type: "primary",\n      htmlType: "submit",\n      style: {\n        width: \'100%\'\n      }\n    }, "\\u6267\\u884C", isCollpase ? \'\u5c55\u5f00\' : \'\u6298\u53e0\', "\\u547D\\u4EE4")\n  });\n};\nvar FormPanel = () => {\n  return /*#__PURE__*/react_default.a.createElement(es["x" /* WorkspacePanel */], {\n    position: {\n      top: 0,\n      left: 0,\n      bottom: 0,\n      width: 230\n    },\n    className: "panel"\n  }, /*#__PURE__*/react_default.a.createElement(card["a" /* default */], {\n    title: "Group Options",\n    size: "small",\n    bordered: false\n  }, /*#__PURE__*/react_default.a.createElement(CmdForm, null)));\n};\n// CONCATENATED MODULE: ./docs/api/commands/group/group-collapse/basic/constant.ts\nvar DND_NODE_RENDER_ID = \'DND_NDOE\';\nvar GROUP_NODE_RENDER_ID = \'GROUP_NODE_RENDER_ID\';\nvar GROUP_COLLAPSED_SIZE = {\n  width: 160,\n  height: 40\n};\n// EXTERNAL MODULE: ./docs/api/commands/group/group-collapse/basic/react-node/index.less\nvar react_node = __webpack_require__("eKmg");\n\n// CONCATENATED MODULE: ./docs/api/commands/group/group-collapse/basic/react-node/index.tsx\n\n\nvar DndNode = props => {\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: "xflow-dnd-node"\n  }, props.data.label);\n};\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/PlusSquareOutlined.js + 1 modules\nvar PlusSquareOutlined = __webpack_require__("29vH");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/MinusSquareOutlined.js + 1 modules\nvar MinusSquareOutlined = __webpack_require__("xCK6");\n\n// EXTERNAL MODULE: ./docs/api/commands/group/group-collapse/basic/react-group-node/index.less\nvar react_group_node = __webpack_require__("HjDz");\n\n// CONCATENATED MODULE: ./docs/api/commands/group/group-collapse/basic/react-group-node/index.tsx\n\n\n\n\nvar GroupNode = props => {\n  var cell = props.cell;\n  var app = Object(es["S" /* useXFlowApp */])();\n  var isCollapse = cell.getProp(\'isCollapsed\') || false;\n\n  var onExpand = e => {\n    app.executeCommand(es["E" /* XFlowGroupCommands */].COLLAPSE_GROUP.id, {\n      nodeId: cell.id,\n      isCollapsed: false\n    });\n  };\n\n  var onCollapse = e => {\n    app.executeCommand(es["E" /* XFlowGroupCommands */].COLLAPSE_GROUP.id, {\n      nodeId: cell.id,\n      isCollapsed: true,\n      gap: 3\n    });\n  };\n\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: "xflow-group-node"\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: "xflow-group-header"\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: "header-left"\n  }, props.data.label), /*#__PURE__*/react_default.a.createElement("div", {\n    className: "header-right"\n  }, isCollapse && /*#__PURE__*/react_default.a.createElement(PlusSquareOutlined["a" /* default */], {\n    onClick: onExpand\n  }), !isCollapse && /*#__PURE__*/react_default.a.createElement(MinusSquareOutlined["a" /* default */], {\n    onClick: onCollapse\n  }))));\n};\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// CONCATENATED MODULE: ./docs/api/commands/group/group-collapse/basic/mock.ts\n\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 40,\n  renderKey: DND_NODE_RENDER_ID\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: [...nodes],\n    edges: edges\n  };\n};\n// CONCATENATED MODULE: ./docs/api/commands/group/group-collapse/basic/config-graph.tsx\n\n\n\n\n\n\n\n\nvar onLoad = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n    var res, _res$contextProvider$, graphData;\n\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n              layoutType: \'dagre\',\n              layoutOptions: {\n                type: \'dagre\',\n\n                /** \u5e03\u5c40\u65b9\u5411 */\n                rankdir: \'TB\',\n\n                /** \u8282\u70b9\u95f4\u8ddd */\n                nodesep: 60,\n\n                /** \u5c42\u95f4\u8ddd */\n                ranksep: 30\n              },\n              graphData: getGraphData()\n            });\n\n          case 2:\n            res = _context.sent;\n            _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n            _context.next = 6;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n              graphData: graphData\n            });\n\n          case 6:\n            _context.next = 8;\n            return app.executeCommand(es["E" /* XFlowGroupCommands */].ADD_GROUP.id, {\n              nodeConfig: {\n                id: \'group1\',\n                label: \'Group1\',\n                groupChildren: [\'node1\', \'node2\', \'node3\', \'node4\'],\n                isCollapsed: false,\n                renderKey: GROUP_NODE_RENDER_ID,\n                groupCollapsedSize: GROUP_COLLAPSED_SIZE\n              }\n            });\n\n          case 8:\n            _context.next = 10;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n              factor: \'real\'\n            });\n\n          case 10:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onLoad(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  /**  graphConfig\uff1a\u914d\u7f6eNode\u8282\u70b9\u7ec4\u4ef6  */\n  graphConfig.setNodeRender(DND_NODE_RENDER_ID, DndNode);\n  /**  graphConfig\uff1a\u914d\u7f6eGroup\u8282\u70b9\u7ec4\u4ef6 h  */\n\n  graphConfig.setNodeRender(GROUP_NODE_RENDER_ID, GroupNode);\n});\n// EXTERNAL MODULE: ./docs/api/commands/group/group-collapse/basic/index.less\nvar basic = __webpack_require__("o1oI");\n\n// CONCATENATED MODULE: ./docs/api/commands/group/group-collapse/basic/index.tsx\n/**\n * title: \u57fa\u7840\u4f7f\u7528\n * desc: |\n *  \u6298\u53e0\u6307\u5b9a\u7684\u7fa4\u7ec4\n */\n\n\n\n\n\n/**  Demo Props  */\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(FormPanel, null), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      left: 230,\n      right: 0,\n      bottom: 0\n    }\n  }));\n};\n\n/* harmony default export */ var group_collapse_basic = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/api/commands/group/group-collapse/basic/index.tsx_+_6_modules?')},"6svi":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__("Uwx9");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("jem/");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/extends.js\nvar esm_extends = __webpack_require__("BoRD");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js + 1 modules\nvar PlusCircleOutlined = __webpack_require__("Uhj0");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/LinkOutlined.js + 1 modules\nvar LinkOutlined = __webpack_require__("5BO1");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/DeleteOutlined.js + 1 modules\nvar DeleteOutlined = __webpack_require__("UmCv");\n\n// EXTERNAL MODULE: ./docs/tutorial/solutions/er/demos/GraphToolbar/index.less\nvar GraphToolbar = __webpack_require__("K7If");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/er/demos/GraphToolbar/index.tsx\n\n\n\n\n\n\n\n\n\nvar GraphToolbar_GraphToolbar = props => {\n  var onAddNodeClick = props.onAddNodeClick,\n      onDeleteNodeClick = props.onDeleteNodeClick,\n      onConnectEdgeClick = props.onConnectEdgeClick;\n\n  var _React$useState = react_default.a.useState([]),\n      _React$useState2 = Object(slicedToArray["a" /* default */])(_React$useState, 2),\n      selectedNodes = _React$useState2[0],\n      setSelectedNodes = _React$useState2[1];\n  /** \u76d1\u542c\u753b\u5e03\u4e2d\u9009\u4e2d\u7684\u8282\u70b9 */\n\n\n  var watchModelService = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2() {\n      var appRef, modelService, model;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              appRef = Object(es["S" /* useXFlowApp */])();\n              modelService = appRef && (appRef === null || appRef === void 0 ? void 0 : appRef.modelService);\n\n              if (!modelService) {\n                _context2.next = 7;\n                break;\n              }\n\n              _context2.next = 5;\n              return es["r" /* MODELS */].SELECTED_NODES.getModel(modelService);\n\n            case 5:\n              model = _context2.sent;\n              model.watch( /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n                var nodes;\n                return regenerator_default.a.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return es["r" /* MODELS */].SELECTED_NODES.useValue(modelService);\n\n                      case 2:\n                        nodes = _context.sent;\n                        setSelectedNodes(nodes);\n\n                      case 4:\n                      case "end":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              })));\n\n            case 7:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function watchModelService() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  watchModelService();\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: "xflow-er-solution-toolbar"\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: "icon",\n    onClick: () => onAddNodeClick()\n  }, /*#__PURE__*/react_default.a.createElement("span", null, "\\u6DFB\\u52A0\\u8282\\u70B9"), /*#__PURE__*/react_default.a.createElement(PlusCircleOutlined["a" /* default */], null)), /*#__PURE__*/react_default.a.createElement("div", {\n    className: "icon",\n    onClick: () => onConnectEdgeClick()\n  }, /*#__PURE__*/react_default.a.createElement("span", null, "\\u6DFB\\u52A0\\u5173\\u7CFB"), /*#__PURE__*/react_default.a.createElement(LinkOutlined["a" /* default */], null)), /*#__PURE__*/react_default.a.createElement("div", {\n    className: "icon ".concat((selectedNodes === null || selectedNodes === void 0 ? void 0 : selectedNodes.length) > 0 ? \'\' : \'disabled\'),\n    onClick: () => onDeleteNodeClick()\n  }, /*#__PURE__*/react_default.a.createElement("span", null, "\\u5220\\u9664\\u8282\\u70B9"), /*#__PURE__*/react_default.a.createElement(DeleteOutlined["a" /* default */], null)));\n};\n\n/* harmony default export */ var demos_GraphToolbar = (GraphToolbar_GraphToolbar);\n// CONCATENATED MODULE: ./docs/tutorial/solutions/er/demos/config-graph.tsx\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(config => {\n  /** \u9884\u8bbeXFlow\u753b\u5e03\u914d\u7f6e\u9879 */\n  config.setX6Config({\n    grid: true,\n    scroller: {\n      enabled: true\n    },\n    scaling: {\n      min: 0.2,\n      max: 3\n    },\n    connecting: {\n      /** \u8fde\u7ebf\u8fc7\u7a0b\u4e2d\u8ddd\u79bb\u76ee\u6807\u8282\u70b950px\u65f6\u81ea\u52a8\u5438\u9644 */\n      snap: {\n        radius: 50\n      },\n      connector: {\n        name: \'rounded\',\n        args: {\n          radius: 50\n        }\n      },\n      router: {\n        name: \'er\'\n      },\n\n      /** \u4e0d\u5141\u8bb8\u8fde\u63a5\u5230\u753b\u5e03\u7a7a\u767d\u4f4d\u7f6e, \u5373\u6ca1\u6709\u76ee\u6807\u8282\u70b9\u65f6\u8fde\u7ebf\u4f1a\u81ea\u52a8\u6d88\u5931 */\n      allowBlank: false\n    }\n  });\n});\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/er/demos/mock.ts\nvar mockProperties = [{\n  propertyId: \'propertyId1\',\n  propertyName: \'\u4e1a\u52a1\u65e5\u671f\',\n  propertyType: \'string\',\n  isPK: true\n}, {\n  propertyId: \'propertyId2\',\n  propertyName: \'\u4ea4\u6613\u53f71\',\n  propertyType: \'bigint\',\n  isFK: true\n}, {\n  propertyId: \'propertyId3\',\n  propertyName: \'\u6700\u957f\u663e\u793a\u7684\u8868\u5355\u540d\u6700\u957f\u663e\u793a\u7684\u8868\u5355\u540d\',\n  propertyType: \'string\'\n}, {\n  propertyId: \'propertyId4\',\n  propertyName: \'\u4ea4\u6613\u652f\u4ed8\u5916\u952e\',\n  propertyType: \'string\'\n}, {\n  propertyId: \'propertyId5\',\n  propertyName: \'\u5356\u5bb6\u652f\u4ed8\u65e5\u671f\',\n  propertyType: \'string\'\n}, {\n  propertyId: \'propertyId6\',\n  propertyName: \'\u7f51\u5546\u94f6\u884c\',\n  propertyType: \'string\'\n}, {\n  propertyId: \'propertyId7\',\n  propertyName: \'\u4e1a\u52a1\u65e5\u671f\',\n  propertyType: \'string\'\n}, {\n  propertyId: \'propertyId8\',\n  propertyName: \'\u4e1a\u52a1\u65e5\u671f111\',\n  propertyType: \'string\'\n}, {\n  propertyId: \'propertyId9\',\n  propertyName: \'\u4e1a\u52a1\u65e5\u671f222\',\n  propertyType: \'string\'\n}, {\n  propertyId: \'propertyId10\',\n  propertyName: \'\u4e1a\u52a1\u65e5\u671f333\',\n  propertyType: \'string\'\n}];\nvar mockEntityData = [{\n  id: \'fact1\',\n  x: 450,\n  y: 150,\n  width: 214,\n  height: 252,\n  entityId: \'fact1\',\n  entityName: \'\u4e8b\u5b9e\u88681\',\n  entityType: \'FACT\',\n  properties: mockProperties\n}, {\n  id: \'fact2\',\n  x: 0,\n  y: -20,\n  width: 214,\n  height: 252,\n  entityId: \'fact2\',\n  entityName: \'\u4e8b\u5b9e\u88682\',\n  entityType: \'FACT\',\n  properties: mockProperties\n}, {\n  id: \'dim1\',\n  x: 0,\n  y: 300,\n  width: 214,\n  height: 252,\n  entityId: \'dim1\',\n  entityName: \'\u7ef4\u5ea6\u88681\',\n  entityType: \'DIM\',\n  properties: mockProperties\n}, {\n  id: \'other1\',\n  x: 180,\n  y: 500,\n  width: 214,\n  height: 252,\n  entityId: \'other1\',\n  entityName: \'\u5176\u4ed6\u88681\',\n  entityType: \'OTHER\',\n  properties: mockProperties\n}, {\n  id: \'other2\',\n  x: 810,\n  y: 0,\n  width: 214,\n  height: 252,\n  entityId: \'other2\',\n  entityName: \'\u5176\u4ed6\u88682\',\n  entityType: \'OTHER\',\n  properties: mockProperties\n}];\nvar mockRelationData = [{\n  id: \'fact1-fact2\',\n  source: \'fact1\',\n  target: \'fact2\'\n}, {\n  id: \'fact1-dim1\',\n  source: \'fact1\',\n  target: \'dim1\'\n}];\n// CONCATENATED MODULE: ./docs/tutorial/solutions/er/demos/service.ts\n\n\n\n\n/** mock\u540e\u7aef\u63a5\u53e3\u8c03\u7528 */\n\nvar MockApi;\n\n(function (_MockApi) {\n  var loadGraphData = _MockApi.loadGraphData = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n    var promise, res;\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            promise = new Promise(resolve => {\n              setTimeout(() => {\n                /** \u94fe\u63a5\u6869\u6837\u5f0f\u914d\u7f6e, \u5c06\u5177\u6709\u76f8\u540c\u884c\u4e3a\u548c\u5916\u89c2\u7684\u94fe\u63a5\u6869\u5f52\u4e3a\u540c\u4e00\u7ec4 */\n                var portAttrs = {\n                  circle: {\n                    r: 7,\n                    stroke: \'#31d0c6\',\n                    strokeWidth: 2,\n                    fill: \'#fff\',\n\n                    /** \u94fe\u63a5\u6869\u5728\u8fde\u7ebf\u4ea4\u4e92\u65f6\u53ef\u4ee5\u88ab\u8fde\u63a5\u4e0a */\n                    magnet: true\n                  }\n                };\n                var nodes = mockEntityData === null || mockEntityData === void 0 ? void 0 : mockEntityData.map(entity => {\n                  var nodeConfig = Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, entity), {}, {\n                    renderKey: \'NODE1\',\n                    ports: {\n                      groups: {\n                        top: {\n                          position: \'top\',\n                          attrs: portAttrs\n                        },\n                        right: {\n                          position: \'right\',\n                          attrs: portAttrs\n                        },\n                        bottom: {\n                          position: \'bottom\',\n                          attrs: portAttrs\n                        },\n                        left: {\n                          position: \'left\',\n                          attrs: portAttrs\n                        }\n                      },\n                      items: [{\n                        id: \'top_port\',\n                        group: \'top\'\n                      }, {\n                        id: \'right_port\',\n                        group: \'right\'\n                      }, {\n                        id: \'bottom_port\',\n                        group: \'bottom\'\n                      }, {\n                        id: \'left_port\',\n                        group: \'left\'\n                      }]\n                    }\n                  });\n\n                  return nodeConfig;\n                });\n                var edges = mockRelationData === null || mockRelationData === void 0 ? void 0 : mockRelationData.map(relation => {\n                  var edgeConfig = Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, relation), {}, {\n                    renderKey: \'EDGE1\',\n                    edgeContentWidth: 20,\n                    edgeContentHeigt: 20,\n\n                    /** \u8bbe\u7f6e\u8fde\u7ebf\u6837\u5f0f */\n                    attrs: {\n                      line: {\n                        stroke: \'#d8d8d8\',\n                        strokeWidth: 1,\n                        targetMarker: {\n                          name: \'classic\'\n                        }\n                      }\n                    }\n                  });\n\n                  return edgeConfig;\n                });\n                var graphData = {\n                  nodes,\n                  edges\n                };\n                resolve(graphData);\n              }, 100);\n            });\n            _context.next = 3;\n            return promise;\n\n          case 3:\n            res = _context.sent;\n            return _context.abrupt("return", res);\n\n          case 5:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  var addNode = _MockApi.addNode = /*#__PURE__*/function () {\n    var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(args) {\n      var nodeConfig, promise, res;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              nodeConfig = args.nodeConfig;\n              promise = new Promise(resolve => {\n                setTimeout(() => {\n                  resolve(Object(objectSpread2["a" /* default */])({}, nodeConfig));\n                }, 1000);\n              });\n              _context2.next = 4;\n              return promise;\n\n            case 4:\n              res = _context2.sent;\n              return _context2.abrupt("return", res);\n\n            case 6:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var delNode = _MockApi.delNode = /*#__PURE__*/function () {\n    var _ref3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(args) {\n      var nodeConfig, promise, res;\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              nodeConfig = args.nodeConfig;\n              promise = new Promise(resolve => {\n                setTimeout(() => {\n                  resolve(true);\n                }, 1000);\n              });\n              _context3.next = 4;\n              return promise;\n\n            case 4:\n              res = _context3.sent;\n              return _context3.abrupt("return", res);\n\n            case 6:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var addEdge = _MockApi.addEdge = /*#__PURE__*/function () {\n    var _ref4 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(args) {\n      var edgeConfig, promise, res;\n      return regenerator_default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              edgeConfig = args.edgeConfig;\n              promise = new Promise(resolve => {\n                setTimeout(() => {\n                  resolve(Object(objectSpread2["a" /* default */])({}, edgeConfig));\n                }, 1000);\n              });\n              _context4.next = 4;\n              return promise;\n\n            case 4:\n              res = _context4.sent;\n              return _context4.abrupt("return", res);\n\n            case 6:\n            case "end":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var delEdge = _MockApi.delEdge = /*#__PURE__*/function () {\n    var _ref5 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee5(args) {\n      var edgeConfig, promise, res;\n      return regenerator_default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              edgeConfig = args.edgeConfig;\n              promise = new Promise(resolve => {\n                setTimeout(() => {\n                  resolve(true);\n                }, 1000);\n              });\n              _context5.next = 4;\n              return promise;\n\n            case 4:\n              res = _context5.sent;\n              return _context5.abrupt("return", res);\n\n            case 6:\n            case "end":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x4) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n})(MockApi || (MockApi = {}));\n// CONCATENATED MODULE: ./docs/tutorial/solutions/er/demos/config-cmd.ts\n\n\n\n\nvar useCmdConfig = Object(es["G" /* createCmdConfig */])(config => {\n  /** \u8bbe\u7f6ehook */\n  config.setRegisterHookFn(hooks => {\n    var list = [hooks.addNode.registerHook({\n      name: \'addNodeHook\',\n      handler: function () {\n        var _handler = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(args) {\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  args.createNodeService = MockApi.addNode;\n\n                case 1:\n                case "end":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function handler(_x) {\n          return _handler.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    }), hooks.addEdge.registerHook({\n      name: \'addEdgeHook\',\n      handler: function () {\n        var _handler2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(args) {\n          return regenerator_default.a.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  args.createEdgeService = MockApi.addEdge;\n\n                case 1:\n                case "end":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        function handler(_x2) {\n          return _handler2.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    })];\n    var toDispose = new es["j" /* DisposableCollection */]();\n    toDispose.pushAll(list);\n    return toDispose;\n  });\n});\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@antv/x6/es/index.js + 518 modules\nvar x6_es = __webpack_require__("xShM");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__("DuHN");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/er/demos/config-keybinding.ts\n\n\n\n\n\n\n/** \u5feb\u6377\u952e */\n\nvar ShortCut;\n\n(function (ShortCut) {\n  ShortCut["DELETE"] = "Backspace";\n  ShortCut["CmdDelete"] = "Cmd+Delete";\n  ShortCut["CtrlDelete"] = "Ctrl+Delete";\n})(ShortCut || (ShortCut = {}));\n\nvar useKeybindingConfig = Object(es["K" /* createKeybindingConfig */])(config => {\n  config.setKeybindingFunc(registry => {\n    return registry.registerKeybinding([{\n      id: \'delete\',\n      keybinding: ShortCut.DELETE,\n      callback: function () {\n        var _callback = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(item, modelService, commandService, e) {\n          var target, cells, nodes, edges;\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  /** \u5982\u679c\u662finput\u7684delete\u4e8b\u4ef6, \u5219\u4e0d\u8d70\u5220\u9664\u7684\u56de\u8c03 */\n                  target = e && (e === null || e === void 0 ? void 0 : e.target);\n\n                  if (!(target && target.tagName && target.tagName.toLowerCase() === \'input\')) {\n                    _context.next = 3;\n                    break;\n                  }\n\n                  return _context.abrupt("return");\n\n                case 3:\n                  _context.next = 5;\n                  return es["r" /* MODELS */].SELECTED_CELLS.useValue(modelService);\n\n                case 5:\n                  cells = _context.sent;\n                  nodes = cells === null || cells === void 0 ? void 0 : cells.filter(cell => cell.isNode());\n                  edges = cells === null || cells === void 0 ? void 0 : cells.filter(cell => cell.isEdge());\n\n                  if ((edges === null || edges === void 0 ? void 0 : edges.length) > 0) {\n                    deleteEdges(commandService, edges);\n                  }\n\n                  if ((nodes === null || nodes === void 0 ? void 0 : nodes.length) > 0) {\n                    deleteNodes(commandService, nodes);\n                  }\n\n                case 10:\n                case "end":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function callback(_x, _x2, _x3, _x4) {\n          return _callback.apply(this, arguments);\n        }\n\n        return callback;\n      }()\n    }, {\n      id: \'deleteAll\',\n      keybinding: x6_es["k" /* Platform */].IS_MAC ? ShortCut.CmdDelete : ShortCut.CtrlDelete,\n      callback: function () {\n        var _callback2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(item, modelService, commandService, e) {\n          var cells, nodes, edges;\n          return regenerator_default.a.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return es["r" /* MODELS */].SELECTED_CELLS.useValue(modelService);\n\n                case 2:\n                  cells = _context2.sent;\n                  nodes = cells === null || cells === void 0 ? void 0 : cells.filter(cell => cell.isNode());\n                  edges = cells === null || cells === void 0 ? void 0 : cells.filter(cell => cell.isEdge());\n                  deleteEdges(commandService, edges);\n                  deleteNodes(commandService, nodes);\n\n                case 7:\n                case "end":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        function callback(_x5, _x6, _x7, _x8) {\n          return _callback2.apply(this, arguments);\n        }\n\n        return callback;\n      }()\n    }]);\n  });\n});\nvar deleteNodes = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(commandService, nodes) {\n    var promiseList, res;\n    return regenerator_default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            promiseList = nodes === null || nodes === void 0 ? void 0 : nodes.map(node => {\n              return commandService.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                nodeConfig: Object(objectSpread2["a" /* default */])({}, node.getData())\n              });\n            });\n            _context3.next = 3;\n            return Promise.all(promiseList);\n\n          case 3:\n            res = _context3.sent;\n\n            if (res.length > 0) {\n              message["b" /* default */].success(\'\u5220\u9664\u8282\u70b9\u6210\u529f\uff01\');\n            }\n\n          case 5:\n          case "end":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function deleteNodes(_x9, _x10) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar deleteEdges = /*#__PURE__*/function () {\n  var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(commandServce, edges) {\n    var _edges$filter;\n\n    var promiseList, res;\n    return regenerator_default.a.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            promiseList = edges === null || edges === void 0 ? void 0 : (_edges$filter = edges.filter(edge => edge.isEdge())) === null || _edges$filter === void 0 ? void 0 : _edges$filter.map(edge => {\n              return commandServce.executeCommand(es["C" /* XFlowEdgeCommands */].DEL_EDGE.id, {\n                edgeConfig: Object(objectSpread2["a" /* default */])({}, edge.getData())\n              });\n            });\n            _context4.next = 3;\n            return Promise.all(promiseList);\n\n          case 3:\n            res = _context4.sent;\n\n            if (res.length > 0) {\n              message["b" /* default */].success(\'\u5220\u9664\u8fde\u7ebf\u6210\u529f\uff01\');\n            }\n\n          case 5:\n          case "end":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function deleteEdges(_x11, _x12) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/modal/index.js + 8 modules\nvar modal = __webpack_require__("/zI6");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/radio/index.js + 5 modules\nvar es_radio = __webpack_require__("NwOV");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/lodash/lodash.js\nvar lodash = __webpack_require__("nsO7");\nvar lodash_default = /*#__PURE__*/__webpack_require__.n(lodash);\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/er/demos/const.ts\nvar GraphMode;\n\n(function (GraphMode) {\n  GraphMode["INFO"] = "INFO";\n  GraphMode["DETAIL"] = "DETAIL";\n})(GraphMode || (GraphMode = {}));\n\nvar EntityType;\n\n(function (EntityType) {\n  EntityType["FACT"] = "FACT";\n  EntityType["DIM"] = "DIM";\n  EntityType["OTHER"] = "OTHER";\n})(EntityType || (EntityType = {}));\n\nvar EntityTypeDisplay = {\n  [EntityType.FACT]: \'\u4e8b\u5b9e\u8868\',\n  [EntityType.DIM]: \'\u7ef4\u5ea6\u8868\',\n  [EntityType.OTHER]: \'\u5176\u4ed6\u8868\'\n};\n// EXTERNAL MODULE: ./docs/tutorial/solutions/er/demos/CreateNodeModal/index.less\nvar CreateNodeModal = __webpack_require__("g7ws");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/er/demos/CreateNodeModal/index.tsx\n\n\n\n\n\n\n\n\nvar formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 6\n    }\n  },\n  wrapperCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 16\n    }\n  }\n};\n\n/** \u521b\u5efa\u6a21\u578b\u5f39\u7a97 */\nvar CreateEntityModal = props => {\n  var visible = props.visible,\n      onOk = props.onOk,\n      _onCancel = props.onCancel;\n\n  var _React$useState = react_default.a.useState(false),\n      _React$useState2 = Object(slicedToArray["a" /* default */])(_React$useState, 2),\n      confirmLoading = _React$useState2[0],\n      setConfirmLoading = _React$useState2[1];\n\n  var _React$useState3 = react_default.a.useState(EntityType.FACT),\n      _React$useState4 = Object(slicedToArray["a" /* default */])(_React$useState3, 2),\n      currentEntityType = _React$useState4[0],\n      setCurrentEntityType = _React$useState4[1];\n\n  var _Form$useForm = es_form["a" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray["a" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var hanldeOk = () => {\n    form.validateFields().then(values => {\n      var callback = result => {\n        setConfirmLoading(false);\n\n        if (result) {\n          _onCancel();\n        }\n      };\n\n      setConfirmLoading(true);\n      onOk(Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, values), {}, {\n        cb: callback\n      }));\n    });\n  };\n\n  var onChange = e => {\n    /** \u5207\u6362\u6a21\u578b\u7c7b\u578b\u91cd\u7f6e\u8868\u5355 */\n    form.resetFields();\n    setCurrentEntityType(e.target.value);\n  };\n\n  return /*#__PURE__*/react_default.a.createElement(modal["a" /* default */], {\n    title: "\\u521B\\u5EFA\\u6A21\\u578B",\n    visible: visible,\n    confirmLoading: confirmLoading,\n    wrapClassName: "create-entity-container",\n    okText: "\\u786E\\u5B9A",\n    cancelText: "\\u53D6\\u6D88",\n    onOk: hanldeOk,\n    onCancel: () => _onCancel(),\n    mask: false,\n    centered: true,\n    destroyOnClose: true\n  }, /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */], {\n    form: form\n  }, /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */].Item, Object(esm_extends["a" /* default */])({}, formItemLayout, {\n    name: "entityType",\n    label: "\\u6A21\\u578B\\u7C7B\\u578B",\n    rules: [{\n      required: true\n    }],\n    initialValue: currentEntityType\n  }), /*#__PURE__*/react_default.a.createElement(es_radio["a" /* default */].Group, {\n    onChange: onChange\n  }, lodash_default.a.map(EntityType, type => {\n    return /*#__PURE__*/react_default.a.createElement(es_radio["a" /* default */], {\n      value: type,\n      key: type\n    }, EntityTypeDisplay[type]);\n  }))), /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */].Item, Object(esm_extends["a" /* default */])({}, formItemLayout, {\n    name: "displayName",\n    label: "\\u4E2D\\u6587\\u540D",\n    rules: [{\n      required: true,\n      validator: (rule, v, callback) => {\n        if (!v) {\n          callback(\'\u8bf7\u8f93\u5165\u4e2d\u6587\u540d\u79f0\');\n        }\n\n        var reg1 = new RegExp("^[a-zA-Z0-9_]*$");\n\n        if (reg1.test(v)) {\n          callback(\'\u5fc5\u987b\u5305\u542b\u4e2d\u6587\');\n        }\n\n        var reg2 = new RegExp(\'^[\\\\u4e00-\\\\u9fa5a-zA-Z0-9_]*$\');\n\n        if (reg2.test(v)) {\n          callback();\n        } else {\n          callback(\'\u53ea\u80fd\u5305\u542b\u4e2d\u6587\u3001\u5b57\u7b26\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\');\n        }\n      }\n    }],\n    initialValue: \'\u7528\u6237\u521b\u5efa\u7684\u8868\'\n  }), /*#__PURE__*/react_default.a.createElement(input["a" /* default */], {\n    placeholder: "\\u8BF7\\u8F93\\u5165\\u4E2D\\u6587\\u540D\\u79F0",\n    autoComplete: "off"\n  })), /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */].Item, Object(esm_extends["a" /* default */])({}, formItemLayout, {\n    name: "name",\n    label: "\\u82F1\\u6587\\u540D",\n    rules: [{\n      required: true,\n      validator: (rule, v, callback) => {\n        if (!v) {\n          callback(\'\u8bf7\u8f93\u5165\u82f1\u6587\u540d\');\n        } else if (v.includes(\' \')) {\n          callback(\'\u4e0d\u80fd\u5305\u542b\u7a7a\u683c\');\n        }\n\n        var reg = new RegExp("^[a-zA-Z0-9_]*$");\n\n        if (reg.test(v)) {\n          callback();\n        } else {\n          callback(\'\u53ea\u80fd\u5305\u542b\u6570\u5b57\u3001\u5b57\u7b26\u3001\u4e0b\u5212\u7ebf\');\n        }\n      }\n    }],\n    initialValue: \'customNode\'\n  }), /*#__PURE__*/react_default.a.createElement(input["a" /* default */], {\n    placeholder: "\\u8BF7\\u8F93\\u5165\\u82F1\\u6587\\u540D",\n    autoComplete: "off"\n  }))));\n};\n\n/* harmony default export */ var demos_CreateNodeModal = (CreateEntityModal);\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/select/index.js + 10 modules\nvar es_select = __webpack_require__("x2dm");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/er/demos/CreateRelationModal/index.tsx\n\n\n\n\n\nvar CreateRelationModal_formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 6\n    }\n  },\n  wrapperCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 16\n    }\n  }\n};\n\nvar CreateRelationModal = props => {\n  var visible = props.visible,\n      sourceEntity = props.sourceEntity,\n      targetEntity = props.targetEntity,\n      onOk = props.onOk,\n      onCancel = props.onCancel;\n\n  var _useState = Object(react["useState"])(false),\n      _useState2 = Object(slicedToArray["a" /* default */])(_useState, 2),\n      confirmLoading = _useState2[0],\n      setConfirmLoading = _useState2[1];\n\n  var _Form$useForm = es_form["a" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray["a" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var handleOK = () => {\n    form.validateFields().then(values => {\n      setConfirmLoading(true);\n\n      var cb = () => {\n        setConfirmLoading(false);\n      };\n\n      onOk(Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, values), {}, {\n        cb\n      }));\n    });\n  };\n\n  return /*#__PURE__*/react_default.a.createElement(modal["a" /* default */], {\n    title: "\\u5173\\u8054\\u6A21\\u578B",\n    visible: visible,\n    confirmLoading: confirmLoading,\n    wrapClassName: "create-relation-container",\n    okText: "\\u786E\\u5B9A",\n    cancelText: "\\u53D6\\u6D88",\n    onOk: handleOK,\n    onCancel: onCancel,\n    mask: false,\n    centered: true,\n    destroyOnClose: true\n  }, /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */], {\n    form: form\n  }, /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */].Item, Object(esm_extends["a" /* default */])({}, CreateRelationModal_formItemLayout, {\n    name: "SOURCE_GUID",\n    label: "SOURCE_GUID",\n    rules: [{\n      required: true\n    }],\n    initialValue: "".concat(sourceEntity === null || sourceEntity === void 0 ? void 0 : sourceEntity.entityName, "(").concat(sourceEntity === null || sourceEntity === void 0 ? void 0 : sourceEntity.entityId, ")")\n  }), /*#__PURE__*/react_default.a.createElement(input["a" /* default */], null)), /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */].Item, Object(esm_extends["a" /* default */])({}, CreateRelationModal_formItemLayout, {\n    name: "TARGET_GUID",\n    label: "TARGET_GUID",\n    rules: [{\n      required: true\n    }],\n    initialValue: "".concat(targetEntity === null || targetEntity === void 0 ? void 0 : targetEntity.entityName, "(").concat(targetEntity === null || targetEntity === void 0 ? void 0 : targetEntity.entityId, ")")\n  }), /*#__PURE__*/react_default.a.createElement(input["a" /* default */], null)), /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */].Item, Object(esm_extends["a" /* default */])({}, CreateRelationModal_formItemLayout, {\n    name: "RELATION_TYPE",\n    label: "\\u9009\\u62E9\\u5173\\u8054\\u5173\\u7CFB",\n    rules: [{\n      required: true\n    }],\n    initialValue: \'N:1\'\n  }), /*#__PURE__*/react_default.a.createElement(es_select["a" /* default */], {\n    placeholder: "\\u8BF7\\u9009\\u62E9\\u5173\\u8054\\u5173\\u7CFB"\n  }, /*#__PURE__*/react_default.a.createElement(es_select["a" /* default */].Option, {\n    value: "N:1"\n  }, "\\u591A\\u5BF9\\u4E00"), /*#__PURE__*/react_default.a.createElement(es_select["a" /* default */].Option, {\n    value: "1:N"\n  }, "\\u4E00\\u5BF9\\u591A")))));\n};\n\n/* harmony default export */ var demos_CreateRelationModal = (CreateRelationModal);\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/BarsOutlined.js + 1 modules\nvar BarsOutlined = __webpack_require__("h/wu");\n\n// EXTERNAL MODULE: ./docs/tutorial/solutions/er/demos/react-node/Entity.less\nvar Entity = __webpack_require__("2Yg5");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/er/demos/react-node/Entity.tsx\n\n\n\n\n\nvar Entity_Entity = props => {\n  var _entity$properties;\n\n  var entity = props === null || props === void 0 ? void 0 : props.data;\n\n  var getCls = () => {\n    if ((entity === null || entity === void 0 ? void 0 : entity.entityType) === EntityType.FACT) {\n      return \'fact\';\n    }\n\n    if ((entity === null || entity === void 0 ? void 0 : entity.entityType) === EntityType.DIM) {\n      return \'dim\';\n    }\n\n    if ((entity === null || entity === void 0 ? void 0 : entity.entityType) === EntityType.OTHER) {\n      return \'other\';\n    }\n\n    return \'\';\n  };\n\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: "entity-container ".concat(getCls())\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: "content ".concat(getCls())\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: "head"\n  }, /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement(BarsOutlined["a" /* default */], {\n    className: "type"\n  }), /*#__PURE__*/react_default.a.createElement("span", null, entity === null || entity === void 0 ? void 0 : entity.entityName)), /*#__PURE__*/react_default.a.createElement("div", {\n    className: "del-icon",\n    onClick: () => props.deleteNode(entity === null || entity === void 0 ? void 0 : entity.id)\n  }, /*#__PURE__*/react_default.a.createElement(DeleteOutlined["a" /* default */], null))), /*#__PURE__*/react_default.a.createElement("div", {\n    className: "body"\n  }, entity === null || entity === void 0 ? void 0 : (_entity$properties = entity.properties) === null || _entity$properties === void 0 ? void 0 : _entity$properties.map(property => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "body-item",\n      key: property.propertyId\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "name"\n    }, (property === null || property === void 0 ? void 0 : property.isPK) && /*#__PURE__*/react_default.a.createElement("span", {\n      className: "pk"\n    }, "PK"), (property === null || property === void 0 ? void 0 : property.isFK) && /*#__PURE__*/react_default.a.createElement("span", {\n      className: "fk"\n    }, "FK"), property === null || property === void 0 ? void 0 : property.propertyName), /*#__PURE__*/react_default.a.createElement("div", {\n      className: "type"\n    }, property.propertyType));\n  }))));\n};\n\n/* harmony default export */ var react_node_Entity = (Entity_Entity);\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/tooltip/index.js + 1 modules\nvar tooltip = __webpack_require__("9xBf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/popconfirm/index.js\nvar popconfirm = __webpack_require__("NjSG");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/popover/index.js\nvar popover = __webpack_require__("excc");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/ScissorOutlined.js + 1 modules\nvar ScissorOutlined = __webpack_require__("H4RT");\n\n// EXTERNAL MODULE: ./docs/tutorial/solutions/er/demos/react-edge/Relation.less\nvar Relation = __webpack_require__("5EOj");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/er/demos/react-edge/Relation.tsx\n\n\n\n\n\nvar Relation_Relation = props => {\n  var relation = props === null || props === void 0 ? void 0 : props.data;\n\n  var renderRelationOperationItem = relation => {\n    var sourcePropertyName = relation === null || relation === void 0 ? void 0 : relation.source;\n    var targetPropertyName = relation === null || relation === void 0 ? void 0 : relation.target;\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "relation-operation-item",\n      key: relation.id\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "relation-operation-item-content"\n    }, /*#__PURE__*/react_default.a.createElement(tooltip["a" /* default */], {\n      placement: "top",\n      title: sourcePropertyName\n    }, /*#__PURE__*/react_default.a.createElement("span", {\n      className: "relation-property-source"\n    }, sourcePropertyName)), "(N:1)", /*#__PURE__*/react_default.a.createElement(tooltip["a" /* default */], {\n      placement: "top",\n      title: targetPropertyName\n    }, /*#__PURE__*/react_default.a.createElement("span", {\n      className: "relation-property-target"\n    }, targetPropertyName))), /*#__PURE__*/react_default.a.createElement(popconfirm["a" /* default */], {\n      placement: "leftTop",\n      title: "\\u4F60\\u786E\\u5B9A\\u8981\\u5220\\u9664\\u8BE5\\u5173\\u7CFB\\u5417",\n      okText: "\\u786E\\u5B9A",\n      cancelText: "\\u53D6\\u6D88",\n      onConfirm: () => {\n        props === null || props === void 0 ? void 0 : props.deleteRelation(relation.id);\n      }\n    }, /*#__PURE__*/react_default.a.createElement(ScissorOutlined["a" /* default */], null)));\n  };\n\n  var renderPopoverContent = () => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "relation-operation-container"\n    }, renderRelationOperationItem(relation));\n  };\n\n  return /*#__PURE__*/react_default.a.createElement(popover["a" /* default */], {\n    trigger: \'hover\',\n    content: renderPopoverContent(),\n    overlayClassName: "relation-operation-popover"\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: "relation-count-container"\n  }, 1));\n};\n\n/* harmony default export */ var react_edge_Relation = (Relation_Relation);\n// EXTERNAL MODULE: ./docs/tutorial/solutions/er/demos/index.less\nvar demos = __webpack_require__("HEaf");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/er/demos/index.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n/** \u914d\u7f6e\u753b\u5e03 */\n\n\n/** \u914d\u7f6eCommand */\n\n\n/** \u914d\u7f6e\u5feb\u6377\u952e */\n\n\n\n\n\n\n\n\n/** Mock\u6240\u6709\u4e0e\u670d\u52a1\u7aef\u4ea4\u4e92\u7684\u63a5\u53e3 */\n\n\n\n/** \u9f20\u6807\u7684\u5f15\u7528 */\nvar cursorTipRef;\n/** \u9f20\u6807\u5728\u753b\u5e03\u7684\u4f4d\u7f6e */\n\nvar cursorLocation;\n\nvar Demo = props => {\n  /** XFlow\u5e94\u7528\u5b9e\u4f8b */\n  var app = Object(es["S" /* useXFlowApp */])();\n  /** \u753b\u5e03\u914d\u7f6e\u9879 */\n\n  var graphConfig = useGraphConfig();\n  /** \u9884\u8bbeXFlow\u753b\u5e03\u9700\u8981\u6e32\u67d3\u7684React\u8282\u70b9 / \u8fb9 */\n\n  graphConfig.setNodeRender(\'NODE1\', props => {\n    return /*#__PURE__*/react_default.a.createElement(react_node_Entity, Object(esm_extends["a" /* default */])({}, props, {\n      deleteNode: handleDeleteNode\n    }));\n  });\n  graphConfig.setEdgeRender(\'EDGE1\', props => {\n    return /*#__PURE__*/react_default.a.createElement(react_edge_Relation, Object(esm_extends["a" /* default */])({}, props, {\n      deleteRelation: handleDeleteEdge\n    }));\n  });\n  /** \u547d\u4ee4\u914d\u7f6e\u9879 */\n\n  var cmdConfig = useCmdConfig();\n  /** \u5feb\u6377\u952e\u914d\u7f6e\u9879 */\n\n  var keybindingConfig = useKeybindingConfig();\n  /** \u662f\u5426\u753b\u5e03\u5904\u4e8e\u53ef\u4ee5\u65b0\u5efa\u8282\u70b9\u72b6\u6001 */\n\n  var _useState = Object(react["useState"])(\'NORMAL\'),\n      _useState2 = Object(slicedToArray["a" /* default */])(_useState, 2),\n      graphStatuts = _useState2[0],\n      setGraphStatus = _useState2[1];\n  /** \u662f\u5426\u5c55\u793a\u65b0\u5efa\u8282\u70b9\u5f39\u7a97 */\n\n\n  var _useState3 = Object(react["useState"])(false),\n      _useState4 = Object(slicedToArray["a" /* default */])(_useState3, 2),\n      isShowCreateNodeModal = _useState4[0],\n      setIsShowCreateNodeModal = _useState4[1];\n  /** \u662f\u5426\u5c55\u793a\u65b0\u5efa\u5173\u8054\u5173\u7cfb\u5f39\u7a97 */\n\n\n  var _useState5 = Object(react["useState"])(false),\n      _useState6 = Object(slicedToArray["a" /* default */])(_useState5, 2),\n      isShowCreateRelationModal = _useState6[0],\n      setIsShowCreateRelationModal = _useState6[1];\n  /** \u8fde\u7ebfsource\u6570\u636e */\n\n\n  var _useState7 = Object(react["useState"])(undefined),\n      _useState8 = Object(slicedToArray["a" /* default */])(_useState7, 2),\n      relationSourceData = _useState8[0],\n      setRelationSourceData = _useState8[1];\n  /** \u8fde\u7ebftarget\u6570\u636e */\n\n\n  var _useState9 = Object(react["useState"])(undefined),\n      _useState10 = Object(slicedToArray["a" /* default */])(_useState9, 2),\n      relationTargetData = _useState10[0],\n      setRelationTargetData = _useState10[1];\n  /** XFlow\u521d\u59cb\u5316\u5b8c\u6210\u7684\u56de\u8c03 */\n\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      var graph, graphData;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return app.getGraphInstance();\n\n            case 2:\n              graph = _context.sent;\n              graph.zoom(-0.2);\n              /** Mock\u4ece\u670d\u52a1\u7aef\u83b7\u53d6\u6570\u636e */\n\n              _context.next = 6;\n              return MockApi.loadGraphData();\n\n            case 6:\n              graphData = _context.sent;\n              _context.next = 9;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n                graphData\n              });\n\n            case 9:\n              _context.next = 11;\n              return watchEvent(app);\n\n            case 11:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  /** \u76d1\u542c\u4e8b\u4ef6 */\n\n\n  var watchEvent = /*#__PURE__*/function () {\n    var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(appRef) {\n      var graph;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!appRef) {\n                _context2.next = 9;\n                break;\n              }\n\n              _context2.next = 3;\n              return appRef.getGraphInstance();\n\n            case 3:\n              graph = _context2.sent;\n              graph.on(\'node:mousedown\', _ref3 => {\n                var _node$getData;\n\n                var e = _ref3.e,\n                    x = _ref3.x,\n                    y = _ref3.y,\n                    node = _ref3.node,\n                    view = _ref3.view;\n                appRef.executeCommand(es["F" /* XFlowNodeCommands */].FRONT_NODE.id, {\n                  nodeId: node === null || node === void 0 ? void 0 : (_node$getData = node.getData()) === null || _node$getData === void 0 ? void 0 : _node$getData.id\n                });\n              });\n              graph.on(\'edge:connected\', _ref4 => {\n                var _edge$getSourceNode, _edge$getTargetNode;\n\n                var edge = _ref4.edge;\n                var relationSourceData = edge === null || edge === void 0 ? void 0 : (_edge$getSourceNode = edge.getSourceNode()) === null || _edge$getSourceNode === void 0 ? void 0 : _edge$getSourceNode.data;\n                var relationTargetData = edge === null || edge === void 0 ? void 0 : (_edge$getTargetNode = edge.getTargetNode()) === null || _edge$getTargetNode === void 0 ? void 0 : _edge$getTargetNode.data;\n                setRelationSourceData(relationSourceData);\n                setRelationTargetData(relationTargetData);\n                setIsShowCreateRelationModal(true);\n                /** \u62d6\u62fd\u8fc7\u7a0b\u4e2d\u4f1a\u751f\u6210\u4e00\u6761\u65e0\u5b9e\u9645\u4e1a\u52a1\u542b\u4e49\u7684\u7ebf, \u9700\u8981\u624b\u52a8\u5220\u9664 */\n\n                var edgeData = edge === null || edge === void 0 ? void 0 : edge.getData();\n\n                if (!edgeData) {\n                  appRef.executeCommand(es["C" /* XFlowEdgeCommands */].DEL_EDGE.id, {\n                    x6Edge: edge\n                  });\n                }\n              });\n              graph.on(\'node:mouseenter\', _ref5 => {\n                var e = _ref5.e,\n                    node = _ref5.node,\n                    view = _ref5.view;\n                changePortsVisible(true);\n              });\n              graph.on(\'node:mouseleave\', _ref6 => {\n                var e = _ref6.e,\n                    node = _ref6.node,\n                    view = _ref6.view;\n                changePortsVisible(false);\n              });\n              graph.on(\'edge:click\', _ref7 => {\n                var edge = _ref7.edge;\n                edge.toFront();\n              });\n\n            case 9:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function watchEvent(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var changePortsVisible = visible => {\n    var ports = document.body.querySelectorAll(\'.x6-port-body\');\n\n    for (var i = 0, len = ports.length; i < len; i = i + 1) {\n      ports[i].style.visibility = visible ? \'visible\' : \'hidden\';\n    }\n  };\n  /** \u521b\u5efa\u753b\u5e03\u8282\u70b9 */\n\n\n  var handleCreateNode = /*#__PURE__*/function () {\n    var _ref8 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(values) {\n      var cb, rest, graph, graphLoc, res;\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              cb = values.cb, rest = Object(objectWithoutProperties["a" /* default */])(values, ["cb"]);\n              _context3.next = 3;\n              return app.getGraphInstance();\n\n            case 3:\n              graph = _context3.sent;\n\n              /** div\u5757\u9f20\u6807\u7684\u4f4d\u7f6e\u8f6c\u6362\u4e3a\u753b\u5e03\u7684\u4f4d\u7f6e */\n              graphLoc = graph.clientToLocal(cursorLocation.x, cursorLocation.y - 200);\n              _context3.next = 7;\n              return app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'customNode\',\n                  x: graphLoc.x,\n                  y: graphLoc.y,\n                  width: 214,\n                  height: 252,\n                  renderKey: \'NODE1\',\n                  entityId: values === null || values === void 0 ? void 0 : values.name,\n                  entityName: values === null || values === void 0 ? void 0 : values.displayName,\n                  entityType: \'FACT\'\n                }\n              });\n\n            case 7:\n              res = _context3.sent;\n\n              if (res) {\n                cb && cb();\n                setIsShowCreateNodeModal(false);\n                message["b" /* default */].success(\'\u6dfb\u52a0\u8282\u70b9\u6210\u529f!\');\n              }\n\n            case 9:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleCreateNode(_x3) {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n  /** \u5220\u9664\u753b\u5e03\u8282\u70b9 */\n\n\n  var handleDeleteNode = /*#__PURE__*/function () {\n    var _ref9 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(nodeId) {\n      var res;\n      return regenerator_default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return app.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                nodeConfig: {\n                  id: nodeId\n                }\n              });\n\n            case 2:\n              res = _context4.sent;\n\n              if (res) {\n                message["b" /* default */].success(\'\u5220\u9664\u8282\u70b9\u6210\u529f!\');\n              }\n\n            case 4:\n            case "end":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function handleDeleteNode(_x4) {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n  /** \u521b\u5efa\u5173\u8054\u5173\u7cfb */\n\n\n  var handleCreateEdge = /*#__PURE__*/function () {\n    var _ref10 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee5(values) {\n      var cb, rest, res;\n      return regenerator_default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              cb = values.cb, rest = Object(objectWithoutProperties["a" /* default */])(values, ["cb"]);\n              _context5.next = 3;\n              return app.executeCommand(es["C" /* XFlowEdgeCommands */].ADD_EDGE.id, {\n                edgeConfig: {\n                  id: \'fact1-other2\',\n                  source: \'fact1\',\n                  target: \'other2\',\n                  renderKey: \'EDGE1\',\n                  edgeContentWidth: 20,\n                  edgeContentHeigt: 20,\n\n                  /** \u8bbe\u7f6e\u8fde\u7ebf\u6837\u5f0f */\n                  attrs: {\n                    line: {\n                      stroke: \'#d8d8d8\',\n                      strokeWidth: 1,\n                      targetMarker: {\n                        name: \'classic\'\n                      }\n                    }\n                  }\n                }\n              });\n\n            case 3:\n              res = _context5.sent;\n\n              if (res) {\n                cb && cb();\n                setIsShowCreateRelationModal(false);\n                message["b" /* default */].success(\'\u6dfb\u52a0\u8fde\u7ebf\u6210\u529f!\');\n              }\n\n            case 5:\n            case "end":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function handleCreateEdge(_x5) {\n      return _ref10.apply(this, arguments);\n    };\n  }();\n  /** \u5220\u9664\u5173\u8054\u5173\u7cfb */\n\n\n  var handleDeleteEdge = /*#__PURE__*/function () {\n    var _ref11 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee6(relationId) {\n      var res;\n      return regenerator_default.a.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return app.executeCommand(es["C" /* XFlowEdgeCommands */].DEL_EDGE.id, {\n                edgeConfig: {\n                  id: relationId\n                }\n              });\n\n            case 2:\n              res = _context6.sent;\n\n              if (res) {\n                message["b" /* default */].success(\'\u5220\u9664\u8fde\u7ebf\u6210\u529f!\');\n              }\n\n            case 4:\n            case "end":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function handleDeleteEdge(_x6) {\n      return _ref11.apply(this, arguments);\n    };\n  }();\n  /** \u8bbe\u7f6e\u9f20\u6807\u6837\u5f0f */\n\n\n  var configCursorTip = _ref12 => {\n    var left = _ref12.left,\n        top = _ref12.top,\n        display = _ref12.display;\n    cursorTipRef.style.left = left;\n    cursorTipRef.style.top = top;\n    cursorTipRef.style.display = display;\n  };\n\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    onMouseMove: e => {\n      if (graphStatuts === \'CREATE\') {\n        configCursorTip({\n          left: "".concat(e.pageX, "px"),\n          top: "".concat(e.pageY - 180, "px"),\n          display: \'block\'\n        });\n      }\n    },\n    onMouseDown: e => {\n      if (graphStatuts === \'CREATE\') {\n        cursorLocation = {\n          x: e.pageX,\n          y: e.pageY\n        };\n        setIsShowCreateNodeModal(true);\n        configCursorTip({\n          left: \'0px\',\n          top: \'0px\',\n          display: \'none\'\n        });\n        setGraphStatus(\'NORMAL\');\n      }\n    },\n    onMouseLeave: e => {\n      if (graphStatuts === \'CREATE\') {\n        configCursorTip({\n          left: \'0px\',\n          top: \'0px\',\n          display: \'none\'\n        });\n      }\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    className: "xflow-er-solution-container",\n    commandConfig: cmdConfig,\n    onLoad: onLoad\n  }, /*#__PURE__*/react_default.a.createElement(demos_GraphToolbar, {\n    onAddNodeClick: () => {\n      message["b" /* default */].info(\'\u9f20\u6807\u79fb\u52a8\u5230\u753b\u5e03\u7a7a\u767d\u4f4d\u7f6e, \u518d\u6b21\u70b9\u51fb\u9f20\u6807\u5b8c\u6210\u521b\u5efa\', 2);\n      setGraphStatus(\'CREATE\');\n    },\n    onDeleteNodeClick: /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee7() {\n      var modelService, nodes;\n      return regenerator_default.a.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              modelService = app.modelService;\n              _context7.next = 3;\n              return es["r" /* MODELS */].SELECTED_NODES.useValue(modelService);\n\n            case 3:\n              nodes = _context7.sent;\n              nodes.forEach(node => {\n                handleDeleteNode(node === null || node === void 0 ? void 0 : node.id);\n              });\n\n            case 5:\n            case "end":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    })),\n    onConnectEdgeClick: () => {\n      setIsShowCreateRelationModal(true);\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig\n  }, /*#__PURE__*/react_default.a.createElement(es["b" /* CanvasMiniMap */], {\n    nodeFillColor: "#ced4de",\n    minimapOptions: {}\n  }), /*#__PURE__*/react_default.a.createElement(es["d" /* CanvasScaleToolbar */], {\n    position: {\n      top: 12,\n      left: 20\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["e" /* CanvasSnapline */], null)), /*#__PURE__*/react_default.a.createElement(es["q" /* KeyBindings */], {\n    config: keybindingConfig\n  }), graphStatuts === \'CREATE\' && /*#__PURE__*/react_default.a.createElement("div", {\n    className: "cursor-tip-container",\n    ref: _ref14 => {\n      _ref14 && (cursorTipRef = _ref14);\n    }\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: "draft-entity-container"\n  }, /*#__PURE__*/react_default.a.createElement("div", null, "\\u672A\\u547D\\u540D\\u6A21\\u578B"))), /*#__PURE__*/react_default.a.createElement(demos_CreateNodeModal, {\n    visible: isShowCreateNodeModal,\n    onOk: handleCreateNode,\n    onCancel: () => {\n      setIsShowCreateNodeModal(false);\n    }\n  }), /*#__PURE__*/react_default.a.createElement(demos_CreateRelationModal, {\n    visible: isShowCreateRelationModal,\n    sourceEntity: relationSourceData,\n    targetEntity: relationTargetData,\n    onOk: handleCreateEdge,\n    onCancel: () => {\n      setIsShowCreateRelationModal(false);\n    }\n  })));\n};\n\n/* harmony default export */ var er_demos = __webpack_exports__["default"] = (props => /*#__PURE__*/react_default.a.createElement(es["z" /* XFlowAppProvider */], null, /*#__PURE__*/react_default.a.createElement(Demo, props)));\n\n//# sourceURL=webpack:///./docs/tutorial/solutions/er/demos/index.tsx_+_11_modules?')},"77Ab":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("jem/");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__("DuHN");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__("jMRu");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-add/demos/form.tsx\n\n\n\n\n\n\n\nvar width = 100;\nvar height = 40;\nvar formItems = [{\n  name: \'id\',\n  label: \'id\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */]\n}, {\n  name: \'label\',\n  label: \'label\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */]\n}, {\n  name: \'x\',\n  label: \'x\',\n  render: input["a" /* default */]\n}, {\n  name: \'y\',\n  label: \'y\',\n  render: input["a" /* default */]\n}, {\n  name: \'width\',\n  label: \'width\',\n  render: input["a" /* default */]\n}, {\n  name: \'height\',\n  label: \'height\',\n  render: input["a" /* default */]\n}];\nvar nodeId = 1;\nvar CmdForm = () => {\n  var _usePanelContext = Object(es["R" /* usePanelContext */])(),\n      commandService = _usePanelContext.commandService;\n\n  var _Form$useForm = es_form["a" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray["a" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  react_default.a.useEffect(() => {\n    nodeId = 1;\n  }, []);\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(values) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              commandService.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: values\n              });\n              nodeId += 1;\n              form.setFieldsValue({\n                id: \'node_\' + nodeId,\n                x: Object(es["O" /* randomInt */])(20, 600),\n                y: Object(es["O" /* randomInt */])(50, 270),\n                width,\n                height,\n                label: \'Node_\' + nodeId\n              });\n              message["b" /* default */].success("".concat(es["F" /* XFlowNodeCommands */].ADD_NODE.label, ": \\u547D\\u4EE4\\u6267\\u884C\\u6210\\u529F"));\n\n            case 4:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onFinish(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["l" /* FormBuilder */], {\n    form: form,\n    formItems: formItems,\n    onFinish: onFinish,\n    initialValues: {\n      id: \'node_\' + nodeId,\n      x: Object(es["O" /* randomInt */])(20, 100),\n      y: Object(es["O" /* randomInt */])(50, 150),\n      width,\n      height,\n      label: \'Node_\' + nodeId\n    }\n  });\n};\nvar FormPanel = () => {\n  return /*#__PURE__*/react_default.a.createElement(es["x" /* WorkspacePanel */], {\n    position: {\n      top: 0,\n      left: 0,\n      bottom: 0,\n      width: 230\n    },\n    className: "panel"\n  }, /*#__PURE__*/react_default.a.createElement(card["a" /* default */], {\n    title: "NodeConfig Options",\n    size: "small",\n    bordered: false\n  }, /*#__PURE__*/react_default.a.createElement(CmdForm, null)));\n};\n// EXTERNAL MODULE: ./docs/api/commands/nodes/node-add/demos/index.less\nvar demos = __webpack_require__("ZtLe");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-add/demos/index.tsx\n\n\n\n\n\n\n/**  graphConfig hook  */\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setX6Config({\n    grid: true\n  });\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar NodeAddDemo = () => {\n  var graphConfig = useGraphConfig();\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // \u5728appReadyCallback\u4e2d\u53ef\u4ee5\u901a\u8fc7app\u6267\u884ccommand\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'node1\',\n                  x: 100,\n                  y: 30,\n                  label: \'Hello World\',\n                  width: width,\n                  height: height\n                }\n              });\n              return _context.abrupt("return", app);\n\n            case 2:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    meta: {\n      flowId: \'add-node-demo\'\n    },\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(FormPanel, null), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    className: "app-main-content",\n    config: graphConfig,\n    position: {\n      top: 0,\n      left: 230,\n      right: 0,\n      bottom: 0\n    }\n  }));\n};\n\n/* harmony default export */ var node_add_demos = __webpack_exports__["default"] = (NodeAddDemo);\n\n//# sourceURL=webpack:///./docs/api/commands/nodes/node-add/demos/index.tsx_+_1_modules?')},"7L2j":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/context-menu/demos/custom-render/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/context-menu/demos/custom-render/graph-config.tsx\n\n\n\n\n\n\nvar onLoad = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n    var res, _res$contextProvider$, graphData;\n\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n              layoutType: \'dagre\',\n              layoutOptions: {\n                type: \'dagre\',\n\n                /** \u5e03\u5c40\u65b9\u5411 */\n                rankdir: \'TB\',\n\n                /** \u8282\u70b9\u95f4\u8ddd */\n                nodesep: 60,\n\n                /** \u5c42\u95f4\u8ddd */\n                ranksep: 30\n              },\n              graphData: getGraphData()\n            });\n\n          case 2:\n            res = _context.sent;\n            _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n            _context.next = 6;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n              graphData: graphData\n            });\n\n          case 6:\n            _context.next = 8;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n              factor: \'real\'\n            });\n\n          case 8:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onLoad(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/DeleteOutlined.js + 1 modules\nvar DeleteOutlined = __webpack_require__("UmCv");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/EditOutlined.js + 1 modules\nvar EditOutlined = __webpack_require__("xdJY");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/StopOutlined.js + 1 modules\nvar StopOutlined = __webpack_require__("PJfV");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/context-menu/demos/custom-render/menu-config.tsx\n\n\n\n\n\n\n\n/** menuitem \u914d\u7f6e */\n\nvar NsCustomMenuItems;\n\n(function (_NsCustomMenuItems) {\n  /** \u6ce8\u518c\u83dc\u5355\u4f9d\u8d56\u7684icon */\n  es["o" /* IconStore */].set(\'DeleteOutlined\', DeleteOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'EditOutlined\', EditOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'StopOutlined\', StopOutlined["a" /* default */]);\n  var DELETE_EDGE = _NsCustomMenuItems.DELETE_EDGE = {\n    id: es["C" /* XFlowEdgeCommands */].DEL_EDGE.id,\n    label: \'\u5220\u9664\u8fb9\',\n    hotkey: \'Delete\',\n    iconName: \'DeleteOutlined\',\n    onClick: function () {\n      var _onClick = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(_ref2) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                target = _ref2.target, commandService = _ref2.commandService;\n                commandService.executeCommand(es["C" /* XFlowEdgeCommands */].DEL_EDGE.id, {\n                  edgeConfig: target.data\n                });\n\n              case 2:\n              case "end":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function onClick(_x5) {\n        return _onClick.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var DELETE_NODE = _NsCustomMenuItems.DELETE_NODE = {\n    id: es["F" /* XFlowNodeCommands */].DEL_NODE.id,\n    label: \'\u5220\u9664\u8282\u70b9\',\n    iconName: \'DeleteOutlined\',\n    hotkey: \'Delete\',\n    onClick: function () {\n      var _onClick2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(_ref3) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                target = _ref3.target, commandService = _ref3.commandService;\n                commandService.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                  nodeConfig: {\n                    id: target.data.id\n                  }\n                });\n\n              case 2:\n              case "end":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function onClick(_x6) {\n        return _onClick2.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var NODE_LINK = _NsCustomMenuItems.NODE_LINK = {\n    id: \'NODE_LINK\',\n    label: \'NODE_LINK\',\n    render: _ref4 => {\n      var children = _ref4.children;\n      return /*#__PURE__*/react_default.a.createElement("a", {\n        target: "_blank",\n        href: "https://x6.antv.vision/",\n        style: {\n          padding: \'0 16px\'\n        }\n      }, "\\u4E00\\u4E2A\\u81EA\\u5B9A\\u4E49\\u6E32\\u67D3\\u7684\\u8FDE\\u63A5");\n    }\n  };\n  var EMPTY_MENU = _NsCustomMenuItems.EMPTY_MENU = {\n    id: \'EMPTY_MENU_ITEM\',\n    label: \'\u6682\u65e0\u53ef\u7528\',\n    isEnabled: false,\n    iconName: \'DeleteOutlined\',\n    onClick: function () {\n      var _onClick3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(_ref5) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                target = _ref5.target, commandService = _ref5.commandService;\n                commandService.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                  nodeConfig: {\n                    id: target.data.id\n                  }\n                });\n\n              case 2:\n              case "end":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function onClick(_x7) {\n        return _onClick3.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var SEPARATOR = _NsCustomMenuItems.SEPARATOR = {\n    id: \'separator\',\n    type: es["t" /* MenuItemType */].Separator\n  };\n})(NsCustomMenuItems || (NsCustomMenuItems = {}));\n\nvar useMenuConfig = Object(es["H" /* createCtxMenuConfig */])(config => {\n  config.setMenuModelService( /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(data, model, modelService, toDispose) {\n      var type, cell;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              type = data.type, cell = data.cell;\n              console.log(type);\n              _context.t0 = type;\n              _context.next = _context.t0 === \'node\' ? 5 : _context.t0 === \'edge\' ? 7 : _context.t0 === \'blank\' ? 9 : 11;\n              break;\n\n            case 5:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.DELETE_NODE, NsCustomMenuItems.SEPARATOR, NsCustomMenuItems.NODE_LINK]\n              });\n              return _context.abrupt("break", 13);\n\n            case 7:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.DELETE_EDGE]\n              });\n              return _context.abrupt("break", 13);\n\n            case 9:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.EMPTY_MENU]\n              });\n              return _context.abrupt("break", 13);\n\n            case 11:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.EMPTY_MENU]\n              });\n              return _context.abrupt("break", 13);\n\n            case 13:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2, _x3, _x4) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n});\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/context-menu/demos/custom-render/index.less\nvar custom_render = __webpack_require__("yZTE");\n\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/context-menu/demos/custom-render/index.tsx\n/**\n *  title: \u81ea\u5b9a\u4e49\u6e32\u67d3\n *  desc: |\n *    \u5185\u7f6e\u7684\u83dc\u5355\u8865\u6ee1\u8db3\u65f6\uff0c\u53ef\u4ee5\u914d\u7f6e\u81ea\u5b9a\u4e49\u7ec4\u4ef6 <br>\n */\n\n\n\n\n\n\n/**  Demo Props  */\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  var menucConfig = useMenuConfig(props);\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es["a" /* CanvasContextMenu */], {\n    config: menucConfig\n  })));\n};\n\n/* harmony default export */ var demos_custom_render = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/context-menu/demos/custom-render/index.tsx_+_3_modules?')},"91QT":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-scale-toolbar/demos/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#909090\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-scale-toolbar/demos/index.less\nvar demos = __webpack_require__("zvaq");\n\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-scale-toolbar/demos/index.tsx\n\n\n\n/**\n * title: \u4f7f\u7528\u65b9\u6cd5\n * desc: CanvasScaleToolbar\u7ec4\u4ef6\u7684\u4f7f\u7528\uff0c\u53ea\u9700\u8981\u914d\u7f6e\u4e0bposition\u5c5e\u6027\n */\n\n\n\n\n\n\n/**  Demo Props  */\n\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      var res, _res$contextProvider$, graphData;\n\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n                layoutType: \'dagre\',\n                layoutOptions: {\n                  type: \'dagre\',\n\n                  /** \u5e03\u5c40\u65b9\u5411 */\n                  rankdir: \'TB\',\n\n                  /** \u8282\u70b9\u95f4\u8ddd */\n                  nodesep: 60,\n\n                  /** \u5c42\u95f4\u8ddd */\n                  ranksep: 30\n                },\n                graphData: getGraphData()\n              });\n\n            case 2:\n              res = _context.sent;\n              _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n              _context.next = 6;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n                graphData: graphData\n              });\n\n            case 6:\n              _context.next = 8;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n                factor: \'real\'\n              });\n\n            case 8:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es["d" /* CanvasScaleToolbar */], {\n    position: {\n      top: 12,\n      left: 12\n    }\n  })));\n};\n\n/* harmony default export */ var canvas_scale_toolbar_demos = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-scale-toolbar/demos/index.tsx_+_1_modules?')},"A8/L":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/context-menu/demos/basic/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/context-menu/demos/basic/graph-config.tsx\n\n\n\n\n\n\nvar onLoad = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n    var res, _res$contextProvider$, graphData;\n\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n              layoutType: \'dagre\',\n              layoutOptions: {\n                type: \'dagre\',\n\n                /** \u5e03\u5c40\u65b9\u5411 */\n                rankdir: \'TB\',\n\n                /** \u8282\u70b9\u95f4\u8ddd */\n                nodesep: 60,\n\n                /** \u5c42\u95f4\u8ddd */\n                ranksep: 30\n              },\n              graphData: getGraphData()\n            });\n\n          case 2:\n            res = _context.sent;\n            _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n            _context.next = 6;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n              graphData: graphData\n            });\n\n          case 6:\n            _context.next = 8;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n              factor: \'real\'\n            });\n\n          case 8:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onLoad(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/DeleteOutlined.js + 1 modules\nvar DeleteOutlined = __webpack_require__("UmCv");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/EditOutlined.js + 1 modules\nvar EditOutlined = __webpack_require__("xdJY");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/StopOutlined.js + 1 modules\nvar StopOutlined = __webpack_require__("PJfV");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/context-menu/demos/basic/menu-config.tsx\n\n\n\n\n\n\n/** menuitem \u914d\u7f6e */\n\nvar NsCustomMenuItems;\n\n(function (_NsCustomMenuItems) {\n  /** \u6ce8\u518c\u83dc\u5355\u4f9d\u8d56\u7684icon */\n  es["o" /* IconStore */].set(\'DeleteOutlined\', DeleteOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'EditOutlined\', EditOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'StopOutlined\', StopOutlined["a" /* default */]);\n  var DELETE_EDGE = _NsCustomMenuItems.DELETE_EDGE = {\n    id: es["C" /* XFlowEdgeCommands */].DEL_EDGE.id,\n    label: \'\u5220\u9664\u8fb9\',\n    hotkey: \'Delete\',\n    iconName: \'DeleteOutlined\',\n    onClick: function () {\n      var _onClick = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(_ref2) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                target = _ref2.target, commandService = _ref2.commandService;\n                commandService.executeCommand(es["C" /* XFlowEdgeCommands */].DEL_EDGE.id, {\n                  edgeConfig: target.data\n                });\n\n              case 2:\n              case "end":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function onClick(_x5) {\n        return _onClick.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var DELETE_NODE = _NsCustomMenuItems.DELETE_NODE = {\n    id: es["F" /* XFlowNodeCommands */].DEL_NODE.id,\n    label: \'\u5220\u9664\u8282\u70b9\',\n    iconName: \'DeleteOutlined\',\n    hotkey: \'Delete\',\n    onClick: function () {\n      var _onClick2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(_ref3) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                target = _ref3.target, commandService = _ref3.commandService;\n                commandService.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                  nodeConfig: {\n                    id: target.data.id\n                  }\n                });\n\n              case 2:\n              case "end":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function onClick(_x6) {\n        return _onClick2.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var EMPTY_MENU = _NsCustomMenuItems.EMPTY_MENU = {\n    id: \'EMPTY_MENU_ITEM\',\n    label: \'\u6682\u65e0\u53ef\u7528\',\n    isEnabled: false,\n    iconName: \'DeleteOutlined\',\n    onClick: function () {\n      var _onClick3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(_ref4) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                target = _ref4.target, commandService = _ref4.commandService;\n                commandService.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                  nodeConfig: {\n                    id: target.data.id\n                  }\n                });\n\n              case 2:\n              case "end":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function onClick(_x7) {\n        return _onClick3.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var SEPARATOR = _NsCustomMenuItems.SEPARATOR = {\n    id: \'separator\',\n    type: es["t" /* MenuItemType */].Separator\n  };\n})(NsCustomMenuItems || (NsCustomMenuItems = {}));\n\nvar useMenuConfig = Object(es["H" /* createCtxMenuConfig */])(config => {\n  config.setMenuModelService( /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(data, model, modelService, toDispose) {\n      var type, cell;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              type = data.type, cell = data.cell;\n              console.log(type);\n              _context.t0 = type;\n              _context.next = _context.t0 === \'node\' ? 5 : _context.t0 === \'edge\' ? 7 : _context.t0 === \'blank\' ? 9 : 11;\n              break;\n\n            case 5:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.DELETE_NODE]\n              });\n              return _context.abrupt("break", 13);\n\n            case 7:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.DELETE_EDGE]\n              });\n              return _context.abrupt("break", 13);\n\n            case 9:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.EMPTY_MENU]\n              });\n              return _context.abrupt("break", 13);\n\n            case 11:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.EMPTY_MENU]\n              });\n              return _context.abrupt("break", 13);\n\n            case 13:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2, _x3, _x4) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n});\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/context-menu/demos/basic/index.less\nvar basic = __webpack_require__("iu/z");\n\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/context-menu/demos/basic/index.tsx\n/**\n *  title: \u57fa\u7840\u4f7f\u7528\uff08\u53f3\u952e\u5220\u9664\u8282\u70b9/\u5220\u9664\u8fb9/\u753b\u5e03\u83dc\u5355\uff09\n *  desc: |\n *    \u53ef\u4ee5\u5728\u8282\u70b9/\u8fb9/\u753b\u5e03\u4e0a\u914d\u7f6e\u83dc\u5355 <br>\n *    \u83dc\u5355\u914d\u7f6e\u4e2d\u53ef\u4ee5\u914d\u7f6e\u70b9\u51fb\u65f6\u6267\u884c xflow \u547d\u4ee4 <br>\n *    \u70b9\u51fb\u67e5\u770b [\u6240\u6709\u53ef\u7528\u7684\u547d\u4ee4](/api/commands) <br>\n */\n\n\n\n\n\n\n/**  Demo Props  */\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  var menucConfig = useMenuConfig(props);\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es["a" /* CanvasContextMenu */], {\n    config: menucConfig\n  })));\n};\n\n/* harmony default export */ var demos_basic = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/context-menu/demos/basic/index.tsx_+_3_modules?')},BXxw:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/context-menu/demos/hotkey/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/context-menu/demos/hotkey/graph-config.tsx\n\n\n\n\n\n\nvar onLoad = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n    var res, _res$contextProvider$, graphData;\n\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n              layoutType: \'dagre\',\n              layoutOptions: {\n                type: \'dagre\',\n\n                /** \u5e03\u5c40\u65b9\u5411 */\n                rankdir: \'TB\',\n\n                /** \u8282\u70b9\u95f4\u8ddd */\n                nodesep: 60,\n\n                /** \u5c42\u95f4\u8ddd */\n                ranksep: 30\n              },\n              graphData: getGraphData()\n            });\n\n          case 2:\n            res = _context.sent;\n            _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n            _context.next = 6;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n              graphData: graphData\n            });\n\n          case 6:\n            _context.next = 8;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n              factor: \'real\'\n            });\n\n          case 8:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onLoad(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/DeleteOutlined.js + 1 modules\nvar DeleteOutlined = __webpack_require__("UmCv");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/EditOutlined.js + 1 modules\nvar EditOutlined = __webpack_require__("xdJY");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/StopOutlined.js + 1 modules\nvar StopOutlined = __webpack_require__("PJfV");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/context-menu/demos/hotkey/menu-config.tsx\n\n\n\n\n\n\nvar useMenuConfig = Object(es["H" /* createCtxMenuConfig */])(config => {\n  config.setMenuModelService( /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(data, model, modelService, toDispose) {\n      var type, cell;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              type = data.type, cell = data.cell;\n              console.log(type);\n              _context.t0 = type;\n              _context.next = _context.t0 === \'node\' ? 5 : _context.t0 === \'edge\' ? 7 : _context.t0 === \'blank\' ? 9 : 11;\n              break;\n\n            case 5:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.DELETE_NODE]\n              });\n              return _context.abrupt("break", 13);\n\n            case 7:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.DELETE_EDGE]\n              });\n              return _context.abrupt("break", 13);\n\n            case 9:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.EMPTY_MENU]\n              });\n              return _context.abrupt("break", 13);\n\n            case 11:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.EMPTY_MENU]\n              });\n              return _context.abrupt("break", 13);\n\n            case 13:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2, _x3, _x4) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n});\n/** menuitem \u914d\u7f6e */\n\nvar NsCustomMenuItems;\n\n(function (_NsCustomMenuItems) {\n  /** \u6ce8\u518c\u83dc\u5355\u4f9d\u8d56\u7684icon */\n  es["o" /* IconStore */].set(\'DeleteOutlined\', DeleteOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'EditOutlined\', EditOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'StopOutlined\', StopOutlined["a" /* default */]);\n  var DELETE_EDGE = _NsCustomMenuItems.DELETE_EDGE = {\n    id: es["C" /* XFlowEdgeCommands */].DEL_EDGE.id,\n    label: \'\u5220\u9664\u8fb9\',\n    hotkey: \'Delete\',\n    iconName: \'DeleteOutlined\',\n    onClick: function () {\n      var _onClick = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(_ref2) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                target = _ref2.target, commandService = _ref2.commandService;\n                commandService.executeCommand(es["C" /* XFlowEdgeCommands */].DEL_EDGE.id, {\n                  edgeConfig: target.data\n                });\n\n              case 2:\n              case "end":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function onClick(_x5) {\n        return _onClick.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var DELETE_NODE = _NsCustomMenuItems.DELETE_NODE = {\n    id: es["F" /* XFlowNodeCommands */].DEL_NODE.id,\n    label: \'\u5220\u9664\u8282\u70b9\',\n    iconName: \'DeleteOutlined\',\n    hotkey: \'Delete\',\n    onClick: function () {\n      var _onClick2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(_ref3) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                target = _ref3.target, commandService = _ref3.commandService;\n                commandService.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                  nodeConfig: {\n                    id: target.data.id\n                  }\n                });\n\n              case 2:\n              case "end":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function onClick(_x6) {\n        return _onClick2.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var EMPTY_MENU = _NsCustomMenuItems.EMPTY_MENU = {\n    id: \'EMPTY_MENU_ITEM\',\n    label: \'\u6682\u65e0\u53ef\u7528\',\n    isEnabled: false,\n    iconName: \'DeleteOutlined\',\n    onClick: function () {\n      var _onClick3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(_ref4) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                target = _ref4.target, commandService = _ref4.commandService;\n                commandService.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                  nodeConfig: {\n                    id: target.data.id\n                  }\n                });\n\n              case 2:\n              case "end":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function onClick(_x7) {\n        return _onClick3.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var SEPARATOR = _NsCustomMenuItems.SEPARATOR = {\n    id: \'separator\',\n    type: es["t" /* MenuItemType */].Separator\n  };\n})(NsCustomMenuItems || (NsCustomMenuItems = {}));\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/context-menu/demos/hotkey/hotkey-config.tsx\n\n\n\n\n\n/**  keybindings  */\nvar useKeybindingConfig = Object(es["K" /* createKeybindingConfig */])((config, getProps) => {\n  config.setKeybindingFunc(reg => {\n    return reg.registerKeybinding([{\n      id: \'delete node or edge\',\n      keybinding: \'backspace\',\n      callback: function () {\n        var _callback = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(item, modelService, cmd, e) {\n          var cells, nodes, edges, delEdge, delNode;\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return es["r" /* MODELS */].SELECTED_CELLS.useValue(modelService);\n\n                case 2:\n                  cells = _context.sent;\n                  nodes = cells.filter(cell => cell.isEdge());\n                  edges = cells.filter(cell => cell.isNode()); // \u8c03\u7528\u5220\u9664Edge\u7684Command\n\n                  delEdge = cell => {\n                    return cmd.executeCommand(es["C" /* XFlowEdgeCommands */].DEL_EDGE.id, {\n                      edgeConfig: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, cell.getData()), {}, {\n                        id: cell.id\n                      })\n                    });\n                  }; // \u8c03\u7528\u5220\u9664Node\u7684Command\n\n\n                  delNode = cell => {\n                    return cmd.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                      nodeConfig: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, cell.getData()), {}, {\n                        id: cell.id\n                      })\n                    });\n                  };\n\n                  if (cells.length === 0) {\n                    console.warn(\'\u6ca1\u6709\u9009\u4e2d\u7684\u8282\u70b9\');\n                  } // \u5148\u5220\u9664edges\n\n\n                  _context.next = 10;\n                  return Promise.all(nodes.map(cell => delEdge(cell)));\n\n                case 10:\n                  _context.next = 12;\n                  return Promise.all(edges.map(cell => delNode(cell)));\n\n                case 12:\n                case "end":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function callback(_x, _x2, _x3, _x4) {\n          return _callback.apply(this, arguments);\n        }\n\n        return callback;\n      }()\n    }]);\n  });\n});\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/context-menu/demos/hotkey/index.less\nvar hotkey = __webpack_require__("ZInU");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/context-menu/demos/hotkey/index.tsx\n/**\n *  title: \u642d\u914d\u5feb\u6377\u952e\n *  desc: |\n *    \u4e0eKeyBindings\u7ec4\u4ef6\u914d\u5408\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5feb\u6377\u952e\u548c\u83dc\u5355\u90fd\u89e6\u53d1Command <br>\n */\n\n\n\n\n\n\n/**  Demo Props  */\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  var menucConfig = useMenuConfig(props);\n  var keybindingConfig = useKeybindingConfig(props);\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es["a" /* CanvasContextMenu */], {\n    config: menucConfig\n  }), /*#__PURE__*/react_default.a.createElement(es["q" /* KeyBindings */], {\n    config: keybindingConfig\n  })));\n};\n\n/* harmony default export */ var demos_hotkey = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/context-menu/demos/hotkey/index.tsx_+_4_modules?')},DiY4:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("jem/");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__("DuHN");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__("SCaQ");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__("jMRu");\n\n// CONCATENATED MODULE: ./docs/api/commands/group/group-add/basic/constant.ts\nvar DND_NODE_RENDER_ID = \'DND_NDOE\';\nvar GROUP_NODE_RENDER_ID = \'GROUP_NODE_RENDER_ID\';\nvar GROUP_COLLAPSED_SIZE = {\n  width: 160,\n  height: 40\n};\n// CONCATENATED MODULE: ./docs/api/commands/group/group-add/basic/form.tsx\n\n\n\n\n\n\n\n\n\nvar width = 100;\nvar height = 40;\n\n/**\n  // \u5b50\u8282\u70b9\u5143\u7d20\u96c6\u5408  \n  groupChildren?: string[]\n  // group Header \n  groupHeaderHeight?: number\n  // group \u5185\u8fb9\u8ddd  \n  groupPadding?: number\n */\nvar formItems = [{\n  name: \'id\',\n  label: \'id\',\n  rules: [{\n    required: true\n  }],\n  renderProps: {\n    disabled: true\n  },\n  render: input["a" /* default */]\n}, {\n  name: \'groupChildren\',\n  label: \'groupChildren\',\n  rules: [{\n    required: true\n  }],\n  renderProps: {\n    disabled: true\n  },\n  render: input["a" /* default */]\n}, {\n  name: \'renderKey\',\n  label: \'renderKey\',\n  rules: [{\n    required: true\n  }],\n  renderProps: {\n    disabled: true\n  },\n  render: input["a" /* default */]\n}, {\n  name: \'groupHeaderHeight\',\n  label: \'groupHeaderHeight\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */]\n}, {\n  name: \'groupPadding\',\n  label: \'groupPadding\',\n  render: input["a" /* default */]\n}, {\n  name: \'label\',\n  label: \'label\',\n  render: input["a" /* default */]\n}];\nvar CmdForm = () => {\n  var _usePanelContext = Object(es["R" /* usePanelContext */])(),\n      commandService = _usePanelContext.commandService;\n\n  var _Form$useForm = es_form["a" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray["a" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _React$useState = react_default.a.useState(false),\n      _React$useState2 = Object(slicedToArray["a" /* default */])(_React$useState, 2),\n      hasGroup = _React$useState2[0],\n      setGroup = _React$useState2[1];\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(values) {\n      var nodeConfig;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              nodeConfig = Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, values), {}, {\n                groupHeaderHeight: parseInt(values.groupHeaderHeight, 10),\n                groupPadding: parseInt(values.groupPadding, 10),\n                groupCollapsedSize: GROUP_COLLAPSED_SIZE\n              });\n              setGroup(true);\n              console.log(nodeConfig);\n              _context.next = 5;\n              return commandService.executeCommand(es["E" /* XFlowGroupCommands */].ADD_GROUP.id, {\n                nodeConfig: nodeConfig\n              });\n\n            case 5:\n              message["b" /* default */].success("".concat(es["E" /* XFlowGroupCommands */].ADD_GROUP.label, ": \\u547D\\u4EE4\\u6267\\u884C\\u6210\\u529F"));\n\n            case 6:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onFinish(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["l" /* FormBuilder */], {\n    form: form,\n    formItems: formItems,\n    onFinish: onFinish,\n    initialValues: {\n      id: Object(es["T" /* uuidv4 */])(),\n      groupChildren: [\'node1\', \'node2\', \'node3\', \'node4\'],\n      label: \'Group_1\',\n      groupHeaderHeight: 40,\n      groupPadding: 12,\n      renderKey: GROUP_NODE_RENDER_ID\n    },\n    submitButton: /*#__PURE__*/react_default.a.createElement(es_button["a" /* default */], {\n      type: "primary",\n      htmlType: "submit",\n      style: {\n        width: \'100%\'\n      },\n      disabled: hasGroup\n    }, "\\u6267\\u884C\\u547D\\u4EE4")\n  });\n};\nvar FormPanel = () => {\n  return /*#__PURE__*/react_default.a.createElement(es["x" /* WorkspacePanel */], {\n    position: {\n      top: 0,\n      left: 0,\n      bottom: 0,\n      width: 230\n    },\n    className: "panel"\n  }, /*#__PURE__*/react_default.a.createElement(card["a" /* default */], {\n    title: "Group Options",\n    size: "small",\n    bordered: false\n  }, /*#__PURE__*/react_default.a.createElement(CmdForm, null)));\n};\n// EXTERNAL MODULE: ./docs/api/commands/group/group-add/basic/react-node/index.less\nvar react_node = __webpack_require__("bFnv");\n\n// CONCATENATED MODULE: ./docs/api/commands/group/group-add/basic/react-node/index.tsx\n\n\nvar DndNode = props => {\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: "xflow-dnd-node"\n  }, props.data.label);\n};\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/PlusSquareOutlined.js + 1 modules\nvar PlusSquareOutlined = __webpack_require__("29vH");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/MinusSquareOutlined.js + 1 modules\nvar MinusSquareOutlined = __webpack_require__("xCK6");\n\n// EXTERNAL MODULE: ./docs/api/commands/group/group-add/basic/react-group-node/index.less\nvar react_group_node = __webpack_require__("IQNr");\n\n// CONCATENATED MODULE: ./docs/api/commands/group/group-add/basic/react-group-node/index.tsx\n\n\n\n\nvar GroupNode = props => {\n  var cell = props.cell;\n  var app = Object(es["S" /* useXFlowApp */])();\n  var isCollapsed = props.data.isCollapsed || false;\n\n  var onExpand = e => {\n    app.executeCommand(es["E" /* XFlowGroupCommands */].COLLAPSE_GROUP.id, {\n      nodeId: cell.id,\n      isCollapsed: false\n    });\n  };\n\n  var onCollapse = e => {\n    app.executeCommand(es["E" /* XFlowGroupCommands */].COLLAPSE_GROUP.id, {\n      nodeId: cell.id,\n      isCollapsed: true,\n      gap: 3\n    });\n  };\n\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: "xflow-group-node"\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: "xflow-group-header"\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: "header-left"\n  }, props.data.label), /*#__PURE__*/react_default.a.createElement("div", {\n    className: "header-right"\n  }, isCollapsed && /*#__PURE__*/react_default.a.createElement(PlusSquareOutlined["a" /* default */], {\n    onClick: onExpand\n  }), !isCollapsed && /*#__PURE__*/react_default.a.createElement(MinusSquareOutlined["a" /* default */], {\n    onClick: onCollapse\n  }))));\n};\n// CONCATENATED MODULE: ./docs/api/commands/group/group-add/basic/mock.ts\n\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 40,\n  renderKey: DND_NODE_RENDER_ID\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// CONCATENATED MODULE: ./docs/api/commands/group/group-add/basic/config-graph.tsx\n\n\n\n\n\n\n\n\nvar onLoad = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n    var res, _res$contextProvider$, graphData;\n\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n              layoutType: \'dagre\',\n              layoutOptions: {\n                type: \'dagre\',\n\n                /** \u5e03\u5c40\u65b9\u5411 */\n                rankdir: \'TB\',\n\n                /** \u8282\u70b9\u95f4\u8ddd */\n                nodesep: 60,\n\n                /** \u5c42\u95f4\u8ddd */\n                ranksep: 30\n              },\n              graphData: getGraphData()\n            });\n\n          case 2:\n            res = _context.sent;\n            _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n            _context.next = 6;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n              graphData: graphData\n            });\n\n          case 6:\n            _context.next = 8;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n              factor: \'real\'\n            });\n\n          case 8:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onLoad(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  /**  graphConfig\uff1a\u914d\u7f6eNode\u8282\u70b9\u7ec4\u4ef6  */\n  graphConfig.setNodeRender(DND_NODE_RENDER_ID, DndNode);\n  /**  graphConfig\uff1a\u914d\u7f6eGroup\u8282\u70b9\u7ec4\u4ef6 h  */\n\n  graphConfig.setNodeRender(GROUP_NODE_RENDER_ID, GroupNode);\n});\n// EXTERNAL MODULE: ./docs/api/commands/group/group-add/basic/index.less\nvar basic = __webpack_require__("+l5t");\n\n// CONCATENATED MODULE: ./docs/api/commands/group/group-add/basic/index.tsx\n/**\n * title: \u57fa\u7840\u4f7f\u7528\n * desc: |\n *   \u628a\u8282\u70b9\u548c\u8fb9\u7ec4\u5408\u6210\u7fa4\u7ec4 <br>\n */\n\n\n\n\n\n/**  Demo Props  */\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(FormPanel, null), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      left: 230,\n      right: 0,\n      bottom: 0\n    }\n  }));\n};\n\n/* harmony default export */ var group_add_basic = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/api/commands/group/group-add/basic/index.tsx_+_6_modules?')},DvfK:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js + 1 modules\nvar PlusCircleOutlined = __webpack_require__("Uhj0");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/DeleteOutlined.js + 1 modules\nvar DeleteOutlined = __webpack_require__("UmCv");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/SaveOutlined.js + 1 modules\nvar SaveOutlined = __webpack_require__("GcFv");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__("SCaQ");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-toolbar/demos/toolbar-custom-render/toolbar-config.tsx\n\n\n\n\n\n\n\nvar NSToolbarConfig;\n/** toolbar\u4f9d\u8d56\u7684\u914d\u7f6e\u9879 */\n\n(function (_NSToolbarConfig) {\n  /** \u6ce8\u518cicon \u7c7b\u578b */\n  es["o" /* IconStore */].set(\'PlusCircleOutlined\', PlusCircleOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'DeleteOutlined\', DeleteOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'SaveOutlined\', SaveOutlined["a" /* default */]);\n  /** toolbar\u4f9d\u8d56\u7684\u72b6\u6001 */\n\n  var getToolbarState = _NSToolbarConfig.getToolbarState = /*#__PURE__*/function () {\n    var _ref4 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(modelService) {\n      var nodes;\n      return regenerator_default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return es["r" /* MODELS */].SELECTED_NODES.useValue(modelService);\n\n            case 2:\n              nodes = _context4.sent;\n              return _context4.abrupt("return", {\n                isNodeSelected: nodes.length > 0\n              });\n\n            case 4:\n            case "end":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x6) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var getToolbarItems = _NSToolbarConfig.getToolbarItems = /*#__PURE__*/function () {\n    var _ref5 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee5(state) {\n      var toolbarGroup1;\n      return regenerator_default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              toolbarGroup1 = [];\n              toolbarGroup1.push({\n                id: es["F" /* XFlowNodeCommands */].MOVE_NODE.id,\n                text: \'\u9009\u4e2d\u8282\u70b9\u65f6\u4f1a\u4f7f\u7528\u81ea\u5b9a\u4e49\u6e32\u67d3\',\n                iconName: \'DeleteOutlined\',\n                tooltip: \'\u9009\u4e2d\u8282\u70b9\u65f6\u4f1a\u89e6\u53d1\u81ea\u5b9a\u4e49\u6e32\u67d3\',\n                isEnabled: state.isNodeSelected\n              });\n              return _context5.abrupt("return", [{\n                name: \'toolbar\',\n                items: toolbarGroup1\n              }]);\n\n            case 3:\n            case "end":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x7) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n})(NSToolbarConfig || (NSToolbarConfig = {}));\n\nvar useToolbarConfig = Object(es["M" /* createToolbarConfig */])(toolbarConfig => {\n  /** \u751f\u4ea7 toolbar item */\n  toolbarConfig.setToolbarModelService( /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(toolbarModel, modelService, toDispose) {\n      var updateToolbarState, model, d;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              // \u66f4\u65b0toolbar model\n              updateToolbarState = /*#__PURE__*/function () {\n                var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n                  var toolbarState, toolbarItems;\n                  return regenerator_default.a.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return NSToolbarConfig.getToolbarState(modelService);\n\n                        case 2:\n                          toolbarState = _context.sent;\n                          _context.next = 5;\n                          return NSToolbarConfig.getToolbarItems(toolbarState);\n\n                        case 5:\n                          toolbarItems = _context.sent;\n                          toolbarModel.setValue(toolbar => {\n                            toolbar.mainGroups = toolbarItems;\n                          });\n\n                        case 7:\n                        case "end":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function updateToolbarState() {\n                  return _ref2.apply(this, arguments);\n                };\n              }(); // \u76d1\u542c\u5bf9\u5e94\u7684model\n\n\n              _context2.next = 3;\n              return es["r" /* MODELS */].SELECTED_NODES.getModel(modelService);\n\n            case 3:\n              model = _context2.sent;\n              d = model.watch(() => {\n                updateToolbarState();\n              });\n              toDispose.push(d);\n\n            case 6:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x, _x2, _x3) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  toolbarConfig.setCustomToolbarRender( /*#__PURE__*/function () {\n    var _ref3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(modelService, updateComponent) {\n      var model;\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return es["r" /* MODELS */].SELECTED_NODES.getModel(modelService);\n\n            case 2:\n              model = _context3.sent;\n              model.watch(nodes => {\n                if (nodes.length > 0) {\n                  var CustomRender = () => /*#__PURE__*/react_default.a.createElement("div", {\n                    className: "custom-toolbar"\n                  }, /*#__PURE__*/react_default.a.createElement(es_button["a" /* default */], null, " \\u652F\\u6301\\u81EA\\u5B9A\\u4E49\\u6E32\\u67D3 "));\n\n                  updateComponent(CustomRender);\n                } else {\n                  updateComponent(null);\n                }\n              });\n              return _context3.abrupt("return", null);\n\n            case 5:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x4, _x5) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n});\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-toolbar/demos/toolbar-custom-render/index.less\nvar toolbar_custom_render = __webpack_require__("aQxa");\n\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-toolbar/demos/toolbar-custom-render/index.tsx\n\n\n\n/**\n * title: \u81ea\u5b9a\u4e49\u6e32\u67d3\n * desc: \u9009\u4e2d\u8282\u70b9\u65f6\u4f1a\u89e6\u53d1\u81ea\u5b9a\u4e49\u6e32\u67d3\u66ff\u6362ToolbarItem\n */\n\n\n\n\n\n\n/**  Demo Props  */\n\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  var toolbarConfig = useToolbarConfig(props);\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(app);\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: "Node-1",\n                  label: "Node-1",\n                  x: 100,\n                  y: 50,\n                  width: 160,\n                  height: 32\n                }\n              });\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: "Node-2",\n                  label: "Node-2",\n                  x: 110,\n                  y: 60,\n                  width: 160,\n                  height: 32\n                }\n              });\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: "Node-3",\n                  label: "Node-3",\n                  x: 120,\n                  y: 70,\n                  width: 160,\n                  height: 32\n                }\n              });\n\n            case 4:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["f" /* CanvasToolbar */], {\n    layout: "horizontal",\n    config: toolbarConfig,\n    position: {\n      top: 0,\n      left: 0,\n      right: 0,\n      height: 40\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 40,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n  }));\n};\n\n/* harmony default export */ var demos_toolbar_custom_render = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-toolbar/demos/toolbar-custom-render/index.tsx_+_1_modules?')},Fm8e:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/custom-shape/custom-shapes/custom-editor.tsx\n\n\n\n\n\n\nvar Editor = props => {\n  var placeholder = props.placeholder,\n      disabled = props.disabled,\n      onChange = props.onChange,\n      value = props.value;\n\n  var _useXFlowApp = Object(es["S" /* useXFlowApp */])(),\n      commandService = _useXFlowApp.commandService,\n      modelService = _useXFlowApp.modelService;\n\n  react_default.a.useEffect(() => {\n    commandService.executeCommand(es["D" /* XFlowGraphCommands */].SAVE_GRAPH_DATA.id, {\n      saveGraphDataService: function () {\n        var _saveGraphDataService = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(meta, graph) {\n          var nodes;\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return es["r" /* MODELS */].SELECTED_NODES.useValue(modelService);\n\n                case 2:\n                  nodes = _context.sent;\n                  console.log(graph);\n                  /** \u62ff\u5230\u6570\u636e\uff0c\u89e6\u53d1onChange*/\n\n                  onChange(JSON.stringify(graph));\n                  return _context.abrupt("return", {\n                    err: null,\n                    data: graph,\n                    meta\n                  });\n\n                case 6:\n                case "end":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function saveGraphDataService(_x, _x2) {\n          return _saveGraphDataService.apply(this, arguments);\n        }\n\n        return saveGraphDataService;\n      }()\n    });\n  });\n  return /*#__PURE__*/react_default.a.createElement(input["a" /* default */].TextArea, {\n    value: value,\n    placeholder: placeholder,\n    disabled: disabled,\n    rows: 10\n  });\n};\n\nvar EditorShape = props => {\n  var controlSchema = props.controlSchema;\n  var required = controlSchema.required,\n      tooltip = controlSchema.tooltip,\n      extra = controlSchema.extra,\n      name = controlSchema.name,\n      label = controlSchema.label,\n      placeholder = controlSchema.placeholder;\n  return /*#__PURE__*/react_default.a.createElement(es["m" /* FormItemWrapper */], {\n    schema: controlSchema\n  }, _ref => {\n    var disabled = _ref.disabled,\n        hidden = _ref.hidden,\n        initialValue = _ref.initialValue;\n    return /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */].Item, {\n      name: name,\n      label: label,\n      initialValue: initialValue,\n      tooltip: tooltip,\n      extra: extra,\n      required: required,\n      hidden: hidden\n    }, /*#__PURE__*/react_default.a.createElement(Editor, {\n      controlSchema: controlSchema,\n      placeholder: placeholder,\n      disabled: disabled\n    }));\n  });\n};\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/custom-shape/custom-shapes/custom-link.tsx\n\nvar LinkShape = props => {\n  var controlSchema = props.controlSchema;\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    style: {\n      padding: \'8px 0px\',\n      marginBottom: \'8px\'\n    }\n  }, /*#__PURE__*/react_default.a.createElement("a", {\n    href: controlSchema.value,\n    target: "_blank"\n  }, controlSchema.label));\n};\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/custom-shape/custom-shapes/index.tsx\n\n\n/** \u81ea\u5b9a\u4e49form\u63a7\u4ef6 */\n\nvar ControlShapeEnum;\n\n(function (ControlShapeEnum) {\n  ControlShapeEnum["EDITOR_SHAPE"] = "EDITOR";\n  ControlShapeEnum["LINK_SHAPE"] = "LINKSHAPE";\n})(ControlShapeEnum || (ControlShapeEnum = {}));\n\nvar controlMapService = controlMap => {\n  controlMap.set(ControlShapeEnum.EDITOR_SHAPE, EditorShape);\n  controlMap.set(ControlShapeEnum.LINK_SHAPE, LinkShape);\n  return controlMap;\n};\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/custom-shape/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/custom-shape/graph-config.tsx\n\n\n\n\nvar onLoad = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n    var res, _res$contextProvider$, graphData;\n\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n              layoutType: \'dagre\',\n              layoutOptions: {\n                type: \'dagre\',\n\n                /** \u5e03\u5c40\u65b9\u5411 */\n                rankdir: \'TB\',\n\n                /** \u8282\u70b9\u95f4\u8ddd */\n                nodesep: 60,\n\n                /** \u5c42\u95f4\u8ddd */\n                ranksep: 30\n              },\n              graphData: getGraphData()\n            });\n\n          case 2:\n            res = _context.sent;\n            _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n            _context.next = 6;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n              graphData: graphData\n            });\n\n          case 6:\n            _context.next = 8;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n              factor: \'real\'\n            });\n\n          case 8:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onLoad(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/custom-shape/index.less\nvar custom_shape = __webpack_require__("24Qu");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/custom-shape/index.tsx\n\n\n\n/**\n * title: \u57fa\u7840\u4f7f\u7528\n * desc: |\n *  \u901a\u8fc7 Schema \u4e2d\u7684 shape \u5b57\u6bb5\u548c controlMapService \u914d\u5408\u53ef\u4ee5\u6e32\u67d3\u81ea\u5b9a\u4e49\u7684\u8868\u5355\u9879\u76ee\n */\n\n\n\n\n\n\n/**  Demo Props  */\n\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\nvar NsJsonForm;\n\n(function (_NsJsonForm) {\n  var formSchemaService = _NsJsonForm.formSchemaService = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(args) {\n      var targetData;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              targetData = args.targetData;\n              console.log("formSchemaService args:", args);\n\n              if (targetData) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt("return", {\n                tabs: [{\n                  /** Tab\u7684title */\n                  name: \'\u753b\u5e03\u914d\u7f6e\',\n                  groups: [{\n                    name: \'group1\',\n                    controls: [{\n                      name: \'link\',\n                      label: \'\u8fd9\u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684Shape\',\n                      shape: ControlShapeEnum.LINK_SHAPE\n                    }, {\n                      name: \'graph-json\',\n                      label: \'\u81ea\u5b9a\u4e49Shape: \u5c55\u793aGraph\u7684JSON\u6570\u636e\',\n                      shape: ControlShapeEnum.EDITOR_SHAPE\n                    }]\n                  }]\n                }]\n              });\n\n            case 4:\n              return _context.abrupt("return", {\n                /** \u914d\u7f6e\u4e00\u4e2aTab */\n                tabs: [{\n                  /** Tab\u7684title */\n                  name: \'\u8282\u70b9\u914d\u7f6e\',\n                  groups: []\n                }]\n              });\n\n            case 5:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n})(NsJsonForm || (NsJsonForm = {}));\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 290\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["p" /* JsonSchemaForm */], {\n    controlMapService: controlMapService,\n    formSchemaService: NsJsonForm.formSchemaService,\n    footerPosition: {\n      bottom: 0,\n      left: 0,\n      right: 0,\n      height: 0\n    },\n    position: {\n      top: 0,\n      bottom: 0,\n      right: 0,\n      width: 290\n    }\n  }));\n};\n\n/* harmony default export */ var demos_custom_shape = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-config-form/demos/custom-shape/index.tsx_+_5_modules?')},H0s4:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("jem/");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input-number/index.js + 11 modules\nvar input_number = __webpack_require__("gJMY");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__("DuHN");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__("jMRu");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-highlight/demos/form.tsx\n\n\n\n\n\n\n\n\nvar width = 100;\nvar height = 40;\nvar formItems = [{\n  name: \'nodeId\',\n  label: \'nodeId\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */]\n}, {\n  name: \'stroke\',\n  label: \'stroke\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */]\n}, {\n  name: \'strokeWidth\',\n  label: \'strokeWidth\',\n  render: input_number["a" /* default */],\n  renderProps: {\n    min: 1,\n    max: 7\n  }\n}];\nvar CmdForm = () => {\n  var _usePanelContext = Object(es["R" /* usePanelContext */])(),\n      commandService = _usePanelContext.commandService;\n\n  var _Form$useForm = es_form["a" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray["a" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(values) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              commandService.executeCommand(es["F" /* XFlowNodeCommands */].HIGHLIGHT_NODE.id, Object(objectSpread2["a" /* default */])({}, values));\n              console.log(\'XFlowNodeCommands.HIGHLIGHT_NODE.id\', values);\n              message["b" /* default */].success("".concat(es["F" /* XFlowNodeCommands */].HIGHLIGHT_NODE.label, ": \\u547D\\u4EE4\\u6267\\u884C\\u6210\\u529F"));\n\n            case 3:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onFinish(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["l" /* FormBuilder */], {\n    form: form,\n    formItems: formItems,\n    onFinish: onFinish,\n    initialValues: {\n      nodeId: \'node1\',\n      stroke: \'#873bf4\',\n      strokeWidth: 3\n    }\n  });\n};\nvar FormPanel = () => {\n  return /*#__PURE__*/react_default.a.createElement(es["x" /* WorkspacePanel */], {\n    position: {\n      top: 0,\n      left: 0,\n      bottom: 0,\n      width: 230\n    },\n    className: "panel"\n  }, /*#__PURE__*/react_default.a.createElement(card["a" /* default */], {\n    title: "NodeConfig Options",\n    size: "small",\n    bordered: false\n  }, /*#__PURE__*/react_default.a.createElement(CmdForm, null)));\n};\n// EXTERNAL MODULE: ./docs/api/commands/nodes/node-highlight/demos/index.less\nvar demos = __webpack_require__("GOo8");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-highlight/demos/index.tsx\n\n\n\n\n\n\n/**  graphConfig hook  */\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setX6Config({\n    grid: true\n  });\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar NodeAddDemo = () => {\n  var graphConfig = useGraphConfig();\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // \u5728appReadyCallback\u4e2d\u53ef\u4ee5\u901a\u8fc7app\u6267\u884ccommand\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'node1\',\n                  x: 100,\n                  y: 30,\n                  shape: \'rect\',\n                  label: \'Hello World\',\n                  width: width,\n                  height: height\n                }\n              });\n              return _context.abrupt("return", app);\n\n            case 2:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    meta: {\n      flowId: \'add-node-demo\'\n    },\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(FormPanel, null), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    className: "app-main-content",\n    config: graphConfig,\n    position: {\n      top: 0,\n      left: 230,\n      right: 0,\n      bottom: 0\n    }\n  }));\n};\n\n/* harmony default export */ var node_highlight_demos = __webpack_exports__["default"] = (NodeAddDemo);\n\n//# sourceURL=webpack:///./docs/api/commands/nodes/node-highlight/demos/index.tsx_+_1_modules?')},KDqh:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("jem/");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__("DuHN");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__("SCaQ");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__("jMRu");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-move/demos/form.tsx\n\n\n\n\n\n\n\nvar formItems = [{\n  name: \'id\',\n  label: \'id\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */],\n  renderProps: {\n    disabled: true\n  }\n}, {\n  name: \'dx\',\n  label: \'position.dx\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */]\n}, {\n  name: \'dy\',\n  label: \'position.dy\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */]\n}];\nvar CmdForm = () => {\n  var app = Object(es["S" /* useXFlowApp */])();\n\n  var _Form$useForm = es_form["a" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray["a" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useModelAsync = Object(es["Q" /* useModelAsync */])({\n    getModel: function () {\n      var _getModel = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n        return regenerator_default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt("return", es["r" /* MODELS */].SELECTED_NODE.getModel(app.modelService));\n\n              case 1:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getModel() {\n        return _getModel.apply(this, arguments);\n      }\n\n      return getModel;\n    }(),\n    initialState: null\n  }),\n      _useModelAsync2 = Object(slicedToArray["a" /* default */])(_useModelAsync, 1),\n      selectNode = _useModelAsync2[0];\n\n  react_default.a.useEffect(() => {\n    if (selectNode) {\n      var node = selectNode.getData();\n      form.setFieldsValue({\n        id: node.id,\n        dx: \'20\',\n        dy: \'20\'\n      });\n    }\n  }, [form, selectNode]);\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(values) {\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              app.commandService.executeCommand(es["F" /* XFlowNodeCommands */].MOVE_NODE.id, {\n                id: values.id,\n                position: {\n                  dx: parseInt(values.dx, 10),\n                  dy: parseInt(values.dy, 10)\n                }\n              });\n              message["b" /* default */].success("".concat(es["F" /* XFlowNodeCommands */].CENTER_NODE.label, ": \\u547D\\u4EE4\\u6267\\u884C\\u6210\\u529F"));\n\n            case 2:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onFinish(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["l" /* FormBuilder */], {\n    form: form,\n    formItems: formItems,\n    onFinish: onFinish,\n    initialValues: {\n      id: null,\n      dx: \'10\',\n      dy: \'10\'\n    },\n    submitButton: /*#__PURE__*/react_default.a.createElement(es_button["a" /* default */], {\n      type: "primary",\n      htmlType: "submit",\n      style: {\n        width: \'100%\'\n      },\n      disabled: !selectNode\n    }, "\\u9009\\u4E2D\\u8282\\u70B9\\u6267\\u884C\\u547D\\u4EE4")\n  });\n};\nvar FormPanel = () => {\n  return /*#__PURE__*/react_default.a.createElement(es["x" /* WorkspacePanel */], {\n    position: {\n      top: 0,\n      left: 0,\n      bottom: 0,\n      width: 230\n    },\n    className: "panel"\n  }, /*#__PURE__*/react_default.a.createElement(card["a" /* default */], {\n    title: "NodeConfig Options",\n    size: "small",\n    bordered: false\n  }, /*#__PURE__*/react_default.a.createElement(CmdForm, null)));\n};\n// EXTERNAL MODULE: ./docs/api/commands/nodes/node-move/demos/index.less\nvar demos = __webpack_require__("m1Ez");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-move/demos/index.tsx\n\n\n\n\n\n\n/**  graphConfig hook  */\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setX6Config({\n    grid: true\n  });\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar NodeAddDemo = () => {\n  var graphConfig = useGraphConfig();\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'node1\',\n                  x: 100,\n                  y: 30,\n                  label: \'Hello World 1\',\n                  width: 160,\n                  height: 32\n                }\n              });\n              return _context.abrupt("return", app);\n\n            case 2:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(FormPanel, null), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    className: "app-main-content",\n    config: graphConfig,\n    position: {\n      top: 0,\n      left: 230,\n      right: 0,\n      bottom: 0\n    }\n  }));\n};\n\n/* harmony default export */ var node_move_demos = __webpack_exports__["default"] = (NodeAddDemo);\n\n//# sourceURL=webpack:///./docs/api/commands/nodes/node-move/demos/index.tsx_+_1_modules?')},KKXM:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("jem/");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__("DuHN");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__("SCaQ");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__("jMRu");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-update/demos/form.tsx\n\n\n\n\n\n\n\n\nvar formItems = [{\n  name: \'id\',\n  label: \'id\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */],\n  renderProps: {\n    disabled: true\n  }\n}, {\n  name: \'label\',\n  label: \'label\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */]\n}, {\n  name: \'x\',\n  label: \'x\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */]\n}, {\n  name: \'y\',\n  label: \'y\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */]\n}];\nvar CmdForm = () => {\n  var app = Object(es["S" /* useXFlowApp */])();\n\n  var _Form$useForm = es_form["a" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray["a" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useModelAsync = Object(es["Q" /* useModelAsync */])({\n    getModel: function () {\n      var _getModel = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n        return regenerator_default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt("return", es["r" /* MODELS */].SELECTED_NODE.getModel(app.modelService));\n\n              case 1:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getModel() {\n        return _getModel.apply(this, arguments);\n      }\n\n      return getModel;\n    }(),\n    initialState: null\n  }),\n      _useModelAsync2 = Object(slicedToArray["a" /* default */])(_useModelAsync, 1),\n      selectNode = _useModelAsync2[0];\n\n  react_default.a.useEffect(() => {\n    if (selectNode) {\n      var nodeConfig = selectNode.getData();\n      form.setFieldsValue({\n        id: nodeConfig.id,\n        label: nodeConfig.label,\n        x: nodeConfig.x,\n        y: nodeConfig.y\n      });\n    }\n  }, [form, selectNode]);\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(values) {\n      var nodeConfig;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              nodeConfig = selectNode.getData();\n              app.commandService.executeCommand(es["F" /* XFlowNodeCommands */].UPDATE_NODE.id, {\n                nodeConfig: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, nodeConfig), values)\n              });\n              message["b" /* default */].success("".concat(es["F" /* XFlowNodeCommands */].DEL_NODE.label, ": \\u547D\\u4EE4\\u6267\\u884C\\u6210\\u529F"));\n\n            case 3:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onFinish(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["l" /* FormBuilder */], {\n    form: form,\n    formItems: formItems,\n    onFinish: onFinish,\n    initialValues: {\n      id: null,\n      label: null,\n      x: null,\n      y: null\n    },\n    submitButton: /*#__PURE__*/react_default.a.createElement(es_button["a" /* default */], {\n      type: "primary",\n      htmlType: "submit",\n      style: {\n        width: \'100%\'\n      },\n      disabled: !selectNode\n    }, "\\u9009\\u4E2D\\u8282\\u70B9\\u6267\\u884C\\u547D\\u4EE4")\n  });\n};\nvar FormPanel = () => {\n  return /*#__PURE__*/react_default.a.createElement(es["x" /* WorkspacePanel */], {\n    position: {\n      top: 0,\n      left: 0,\n      bottom: 0,\n      width: 230\n    },\n    className: "panel"\n  }, /*#__PURE__*/react_default.a.createElement(card["a" /* default */], {\n    title: "NodeConfig Options",\n    size: "small",\n    bordered: false\n  }, /*#__PURE__*/react_default.a.createElement(CmdForm, null)));\n};\n// EXTERNAL MODULE: ./docs/api/commands/nodes/node-update/demos/index.less\nvar demos = __webpack_require__("RTcG");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-update/demos/index.tsx\n\n\n\n\n\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setX6Config({\n    grid: true\n  });\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar Demo = () => {\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'node1\',\n                  x: 280,\n                  y: 130,\n                  width: 120,\n                  height: 40,\n                  label: \'Hello World\'\n                }\n              });\n\n            case 1:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-node-update-demo",\n    meta: {\n      flowId: \'node-update-demo\'\n    }\n  }, /*#__PURE__*/react_default.a.createElement(FormPanel, null), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: useGraphConfig(),\n    position: {\n      top: 0,\n      left: 230,\n      right: 0,\n      bottom: 0\n    }\n  }));\n};\n\n/* harmony default export */ var node_update_demos = __webpack_exports__["default"] = (Demo);\n\n//# sourceURL=webpack:///./docs/api/commands/nodes/node-update/demos/index.tsx_+_1_modules?')},KU79:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useGraphConfig\", function() { return useGraphConfig; });\n/* harmony import */ var _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"KOBo\");\n/* harmony import */ var _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"RY7m\");\n/* harmony import */ var _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _antv_xflow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"mqVf\");\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"FtWD\");\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_index_less__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\nvar useGraphConfig = Object(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* createGraphConfig */ \"I\"])(config => {\n  config.setX6Config({\n    grid: true\n  });\n  config.setNodeRender('NODE1', props => {\n    var _props$data;\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"react-node\"\n    }, (_props$data = props.data) === null || _props$data === void 0 ? void 0 : _props$data.info);\n  });\n  config.setEdgeRender('EDGE1', props => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"react-edge\"\n  }, props.data.info));\n});\nvar appRef;\n\nvar Demo = () => {\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(_Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(app) {\n      var nodes, edges, graphData;\n      return _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              appRef = app;\n              nodes = [{\n                id: 'root11',\n                x: 200,\n                y: 50,\n                width: 120,\n                height: 40,\n                renderKey: 'NODE1',\n                info: 'React\u8282\u70b91'\n              }, {\n                id: 'down11',\n                x: 550,\n                y: 50,\n                width: 120,\n                height: 40,\n                renderKey: 'NODE1',\n                info: 'React\u8282\u70b92'\n              }, {\n                id: 'root12',\n                x: 200,\n                y: 120,\n                width: 120,\n                height: 40,\n                renderKey: 'NODE1',\n                info: 'React\u8282\u70b91'\n              }, {\n                id: 'down12',\n                x: 550,\n                y: 120,\n                width: 120,\n                height: 40,\n                renderKey: 'NODE1',\n                info: 'React\u8282\u70b92'\n              }];\n              edges = [{\n                id: 'root11-down11',\n                source: 'root11',\n                target: 'down11',\n                label: 'text'\n              }, {\n                id: 'root12-down12',\n                source: 'root12',\n                target: 'down12',\n                edgeContentWidth: 60,\n                edgeContentHeigt: 30,\n                info: 'text',\n                renderKey: 'EDGE1'\n              }];\n              graphData = {\n                nodes,\n                edges\n              };\n              /** \u6267\u884c\u753b\u5e03\u6e32\u67d3\u547d\u4ee4 */\n\n              app.executeCommand(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* XFlowGraphCommands */ \"D\"].GRAPH_RENDER.id, {\n                graphData\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* XFlow */ \"y\"], {\n    onLoad: onLoad,\n    className: \"xflow-edge-update-demo\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"btn\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"div\",\n    onClick: () => {\n      appRef.executeCommand(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* XFlowEdgeCommands */ \"C\"].UPDATE_EDGE.id, {\n        edgeConfig: {\n          id: 'root11-down11',\n          label: 'new-text'\n        }\n      });\n    }\n  }, '\u66f4\u65b0\u8fde\u7ebf\u4e0alabel\u7684\u5185\u5bb9'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"div\",\n    onClick: () => {\n      appRef.executeCommand(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* XFlowEdgeCommands */ \"C\"].UPDATE_EDGE.id, {\n        edgeConfig: {\n          id: 'root12-down12',\n          source: 'root12',\n          target: 'down12',\n          edgeContentWidth: 60,\n          edgeContentHeigt: 30,\n          info: 'new-text',\n          renderKey: 'EDGE1'\n        }\n      });\n    }\n  }, '\u66f4\u65b0\u8fde\u7ebf\u4e0areact\u8282\u70b9\u7684\u5185\u5bb9')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* XFlowCanvas */ \"A\"], {\n    config: useGraphConfig()\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Demo);\n\n//# sourceURL=webpack:///./docs/api/commands/edges/edge-update/demos/index.tsx?")},MROq:function(module,exports,__webpack_require__){eval('var map = {\n\t"./af": "8GSH",\n\t"./af.js": "8GSH",\n\t"./ar": "NcOb",\n\t"./ar-dz": "1ors",\n\t"./ar-dz.js": "1ors",\n\t"./ar-kw": "Sc1Y",\n\t"./ar-kw.js": "Sc1Y",\n\t"./ar-ly": "GzvP",\n\t"./ar-ly.js": "GzvP",\n\t"./ar-ma": "hH25",\n\t"./ar-ma.js": "hH25",\n\t"./ar-sa": "u2jB",\n\t"./ar-sa.js": "u2jB",\n\t"./ar-tn": "5Mza",\n\t"./ar-tn.js": "5Mza",\n\t"./ar.js": "NcOb",\n\t"./az": "ZVVJ",\n\t"./az.js": "ZVVJ",\n\t"./be": "kQaN",\n\t"./be.js": "kQaN",\n\t"./bg": "+n5x",\n\t"./bg.js": "+n5x",\n\t"./bm": "TTiN",\n\t"./bm.js": "TTiN",\n\t"./bn": "aIF2",\n\t"./bn-bd": "lTqY",\n\t"./bn-bd.js": "lTqY",\n\t"./bn.js": "aIF2",\n\t"./bo": "QWb5",\n\t"./bo.js": "QWb5",\n\t"./br": "iQoZ",\n\t"./br.js": "iQoZ",\n\t"./bs": "EL7g",\n\t"./bs.js": "EL7g",\n\t"./ca": "vd/2",\n\t"./ca.js": "vd/2",\n\t"./cs": "K+3W",\n\t"./cs.js": "K+3W",\n\t"./cv": "Jt3X",\n\t"./cv.js": "Jt3X",\n\t"./cy": "sWi3",\n\t"./cy.js": "sWi3",\n\t"./da": "YcFX",\n\t"./da.js": "YcFX",\n\t"./de": "BKZ+",\n\t"./de-at": "Oq9h",\n\t"./de-at.js": "Oq9h",\n\t"./de-ch": "hHY4",\n\t"./de-ch.js": "hHY4",\n\t"./de.js": "BKZ+",\n\t"./dv": "w8Ej",\n\t"./dv.js": "w8Ej",\n\t"./el": "tSbB",\n\t"./el.js": "tSbB",\n\t"./en-au": "HgyJ",\n\t"./en-au.js": "HgyJ",\n\t"./en-ca": "ZyTy",\n\t"./en-ca.js": "ZyTy",\n\t"./en-gb": "exaB",\n\t"./en-gb.js": "exaB",\n\t"./en-ie": "yKzn",\n\t"./en-ie.js": "yKzn",\n\t"./en-il": "TB59",\n\t"./en-il.js": "TB59",\n\t"./en-in": "S70V",\n\t"./en-in.js": "S70V",\n\t"./en-nz": "iDxo",\n\t"./en-nz.js": "iDxo",\n\t"./en-sg": "zS0P",\n\t"./en-sg.js": "zS0P",\n\t"./eo": "4bvN",\n\t"./eo.js": "4bvN",\n\t"./es": "GNPT",\n\t"./es-do": "R7mU",\n\t"./es-do.js": "R7mU",\n\t"./es-mx": "FkqR",\n\t"./es-mx.js": "FkqR",\n\t"./es-us": "Nstw",\n\t"./es-us.js": "Nstw",\n\t"./es.js": "GNPT",\n\t"./et": "ZOjb",\n\t"./et.js": "ZOjb",\n\t"./eu": "kFC9",\n\t"./eu.js": "kFC9",\n\t"./fa": "8Cju",\n\t"./fa.js": "8Cju",\n\t"./fi": "vcN1",\n\t"./fi.js": "vcN1",\n\t"./fil": "3g1g",\n\t"./fil.js": "3g1g",\n\t"./fo": "8Ygf",\n\t"./fo.js": "8Ygf",\n\t"./fr": "Y8Ij",\n\t"./fr-ca": "t+Zl",\n\t"./fr-ca.js": "t+Zl",\n\t"./fr-ch": "SPXN",\n\t"./fr-ch.js": "SPXN",\n\t"./fr.js": "Y8Ij",\n\t"./fy": "T3MF",\n\t"./fy.js": "T3MF",\n\t"./ga": "NowM",\n\t"./ga.js": "NowM",\n\t"./gd": "GJYX",\n\t"./gd.js": "GJYX",\n\t"./gl": "MdC8",\n\t"./gl.js": "MdC8",\n\t"./gom-deva": "QJjq",\n\t"./gom-deva.js": "QJjq",\n\t"./gom-latn": "5j0y",\n\t"./gom-latn.js": "5j0y",\n\t"./gu": "fY0S",\n\t"./gu.js": "fY0S",\n\t"./he": "ACAV",\n\t"./he.js": "ACAV",\n\t"./hi": "3WqV",\n\t"./hi.js": "3WqV",\n\t"./hr": "OnNk",\n\t"./hr.js": "OnNk",\n\t"./hu": "EQmw",\n\t"./hu.js": "EQmw",\n\t"./hy-am": "MNf7",\n\t"./hy-am.js": "MNf7",\n\t"./id": "0yow",\n\t"./id.js": "0yow",\n\t"./is": "TmOJ",\n\t"./is.js": "TmOJ",\n\t"./it": "xD/0",\n\t"./it-ch": "foQf",\n\t"./it-ch.js": "foQf",\n\t"./it.js": "xD/0",\n\t"./ja": "jOnb",\n\t"./ja.js": "jOnb",\n\t"./jv": "lOtj",\n\t"./jv.js": "lOtj",\n\t"./ka": "BAN/",\n\t"./ka.js": "BAN/",\n\t"./kk": "iNiw",\n\t"./kk.js": "iNiw",\n\t"./km": "TUxt",\n\t"./km.js": "TUxt",\n\t"./kn": "hQzt",\n\t"./kn.js": "hQzt",\n\t"./ko": "ZNZT",\n\t"./ko.js": "ZNZT",\n\t"./ku": "S0Tg",\n\t"./ku.js": "S0Tg",\n\t"./ky": "JO+T",\n\t"./ky.js": "JO+T",\n\t"./lb": "vn/h",\n\t"./lb.js": "vn/h",\n\t"./lo": "gnIm",\n\t"./lo.js": "gnIm",\n\t"./lt": "6PD3",\n\t"./lt.js": "6PD3",\n\t"./lv": "YKe2",\n\t"./lv.js": "YKe2",\n\t"./me": "d3TR",\n\t"./me.js": "d3TR",\n\t"./mi": "hTlv",\n\t"./mi.js": "hTlv",\n\t"./mk": "ffVN",\n\t"./mk.js": "ffVN",\n\t"./ml": "ejL1",\n\t"./ml.js": "ejL1",\n\t"./mn": "RIsM",\n\t"./mn.js": "RIsM",\n\t"./mr": "CPJk",\n\t"./mr.js": "CPJk",\n\t"./ms": "d5Hy",\n\t"./ms-my": "t4T9",\n\t"./ms-my.js": "t4T9",\n\t"./ms.js": "d5Hy",\n\t"./mt": "1KVU",\n\t"./mt.js": "1KVU",\n\t"./my": "LsNb",\n\t"./my.js": "LsNb",\n\t"./nb": "h+U8",\n\t"./nb.js": "h+U8",\n\t"./ne": "2JSI",\n\t"./ne.js": "2JSI",\n\t"./nl": "jsZ8",\n\t"./nl-be": "+h6j",\n\t"./nl-be.js": "+h6j",\n\t"./nl.js": "jsZ8",\n\t"./nn": "mh29",\n\t"./nn.js": "mh29",\n\t"./oc-lnc": "zX+o",\n\t"./oc-lnc.js": "zX+o",\n\t"./pa-in": "O6bP",\n\t"./pa-in.js": "O6bP",\n\t"./pl": "8Bez",\n\t"./pl.js": "8Bez",\n\t"./pt": "DDip",\n\t"./pt-br": "uHm5",\n\t"./pt-br.js": "uHm5",\n\t"./pt.js": "DDip",\n\t"./ro": "baBi",\n\t"./ro.js": "baBi",\n\t"./ru": "ecsu",\n\t"./ru.js": "ecsu",\n\t"./sd": "e9KM",\n\t"./sd.js": "e9KM",\n\t"./se": "CZRU",\n\t"./se.js": "CZRU",\n\t"./si": "TO58",\n\t"./si.js": "TO58",\n\t"./sk": "K+Lk",\n\t"./sk.js": "K+Lk",\n\t"./sl": "QK6v",\n\t"./sl.js": "QK6v",\n\t"./sq": "v3Qg",\n\t"./sq.js": "v3Qg",\n\t"./sr": "Ndyf",\n\t"./sr-cyrl": "PGvg",\n\t"./sr-cyrl.js": "PGvg",\n\t"./sr.js": "Ndyf",\n\t"./ss": "2B8G",\n\t"./ss.js": "2B8G",\n\t"./sv": "WF5B",\n\t"./sv.js": "WF5B",\n\t"./sw": "4VvY",\n\t"./sw.js": "4VvY",\n\t"./ta": "dw3T",\n\t"./ta.js": "dw3T",\n\t"./te": "4MAb",\n\t"./te.js": "4MAb",\n\t"./tet": "/hi0",\n\t"./tet.js": "/hi0",\n\t"./tg": "PoVJ",\n\t"./tg.js": "PoVJ",\n\t"./th": "OY2w",\n\t"./th.js": "OY2w",\n\t"./tk": "zO4H",\n\t"./tk.js": "zO4H",\n\t"./tl-ph": "UC+K",\n\t"./tl-ph.js": "UC+K",\n\t"./tlh": "cWLW",\n\t"./tlh.js": "cWLW",\n\t"./tr": "EqYs",\n\t"./tr.js": "EqYs",\n\t"./tzl": "fN8o",\n\t"./tzl.js": "fN8o",\n\t"./tzm": "6cYq",\n\t"./tzm-latn": "pdAN",\n\t"./tzm-latn.js": "pdAN",\n\t"./tzm.js": "6cYq",\n\t"./ug-cn": "J+SV",\n\t"./ug-cn.js": "J+SV",\n\t"./uk": "6Olw",\n\t"./uk.js": "6Olw",\n\t"./ur": "QNGR",\n\t"./ur.js": "QNGR",\n\t"./uz": "hLzJ",\n\t"./uz-latn": "KqOT",\n\t"./uz-latn.js": "KqOT",\n\t"./uz.js": "hLzJ",\n\t"./vi": "EnIJ",\n\t"./vi.js": "EnIJ",\n\t"./x-pseudo": "W7dU",\n\t"./x-pseudo.js": "W7dU",\n\t"./yo": "QDhB",\n\t"./yo.js": "QDhB",\n\t"./zh-cn": "bjMe",\n\t"./zh-cn.js": "bjMe",\n\t"./zh-hk": "JFCg",\n\t"./zh-hk.js": "JFCg",\n\t"./zh-mo": "5BRa",\n\t"./zh-mo.js": "5BRa",\n\t"./zh-tw": "xBDH",\n\t"./zh-tw.js": "xBDH"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error("Cannot find module \'" + req + "\'");\n\t\te.code = \'MODULE_NOT_FOUND\';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = "MROq";\n\n//# sourceURL=webpack:////Users/lyn/github/xflow-github/node_modules/moment/locale_sync_^\\.\\/.*$?')},MSDE:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("jem/");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: ./docs/tutorial/getting-started/demo/react-node/node1.less\nvar node1 = __webpack_require__("kdK0");\n\n// CONCATENATED MODULE: ./docs/tutorial/getting-started/demo/react-node/node1.tsx\n\n\n\nvar Node1 = props => {\n  /**\n   * 1. \u8282\u70b9\u7684\u6570\u636e\u3001\u4f4d\u7f6e\u4fe1\u606f\u901a\u8fc7props\u53d6\n   * 2. \u5f53\u8282\u70b9\u88ab\u89e6\u53d1\u66f4\u65b0\u65f6, props\u8fd4\u56de\u7684\u6570\u636e\u4e5f\u4f1a\u52a8\u6001\u66f4\u65b0, \u89e6\u53d1\u8282\u70b9\u91cd\u65b0\u6e32\u67d3\n   */\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: "node1-container"\n  }, /*#__PURE__*/react_default.a.createElement("div", null, \'React\u8282\u70b91\'));\n};\n\n/* harmony default export */ var react_node_node1 = (Node1);\n// EXTERNAL MODULE: ./docs/tutorial/getting-started/demo/react-node/node2.less\nvar node2 = __webpack_require__("iXYd");\n\n// CONCATENATED MODULE: ./docs/tutorial/getting-started/demo/react-node/node2.tsx\n\n\n\n\nvar Node2 = props => {\n  var ctx = Object(es["P" /* useAppContext */])();\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: "node2-container"\n  }, /*#__PURE__*/react_default.a.createElement("div", null, \'React\u8282\u70b92\'));\n};\n\n/* harmony default export */ var react_node_node2 = (Node2);\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/tooltip/index.js + 1 modules\nvar tooltip = __webpack_require__("9xBf");\n\n// EXTERNAL MODULE: ./docs/tutorial/getting-started/demo/react-edge/edge1.less\nvar edge1 = __webpack_require__("JluQ");\n\n// CONCATENATED MODULE: ./docs/tutorial/getting-started/demo/react-edge/edge1.tsx\n\n\n\n\n\nvar Edge1 = props => {\n  var ctx = Object(es["P" /* useAppContext */])(); // console.log(\'edge useAppContext\', ctx);\n  // console.log(\'edge props:\', props);\n\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: "edge1-container"\n  }, /*#__PURE__*/react_default.a.createElement(tooltip["a" /* default */], {\n    title: "\\u8FD9\\u662F\\u8FDE\\u7EBF\\u4E0A\\u6E32\\u67D3\\u7684React\\u5185\\u5BB9" // defaultVisible={true}\n\n  }, /*#__PURE__*/react_default.a.createElement("div", null, "hover\\u6211")));\n};\n\n/* harmony default export */ var react_edge_edge1 = (Edge1);\n// EXTERNAL MODULE: ./docs/tutorial/getting-started/demo/react-edge/edge2.less\nvar edge2 = __webpack_require__("FdDH");\n\n// CONCATENATED MODULE: ./docs/tutorial/getting-started/demo/react-edge/edge2.tsx\n\n\n\nvar Edge2 = props => {\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: "edge2-container"\n  }, "React2");\n};\n\n/* harmony default export */ var react_edge_edge2 = (Edge2);\n// CONCATENATED MODULE: ./docs/tutorial/getting-started/demo/config-graph.tsx\n\n\n/** \u81ea\u5b9a\u4e49React\u8282\u70b9/\u8fb9 */\n\n\n\n\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(config => {\n  /** \u9884\u8bbeXFlow\u753b\u5e03\u914d\u7f6e\u9879 */\n  config.setX6Config({\n    /** \u753b\u5e03\u7f51\u683c */\n    grid: true,\n\n    /** \u753b\u5e03\u7f29\u653e\u7b49\u7ea7 */\n    scaling: {\n      min: 0.2,\n      max: 3\n    },\n\n    /** \u753b\u5e03\u6eda\u8f6e\u7f29\u653e */\n    mousewheel: {\n      enabled: true,\n\n      /** \u5c06\u9f20\u6807\u4f4d\u7f6e\u4f5c\u4e3a\u4e2d\u5fc3\u7f29\u653e */\n      zoomAtMousePosition: true\n    }\n  });\n  /** \u9884\u8bbeXFlow\u753b\u5e03\u9700\u8981\u6e32\u67d3\u7684React\u8282\u70b9/\u8fb9 */\n\n  config.setNodeRender(\'NODE1\', props => /*#__PURE__*/react_default.a.createElement(react_node_node1, props));\n  config.setNodeRender(\'NODE2\', react_node_node2);\n  config.setEdgeRender(\'EDGE1\', props => /*#__PURE__*/react_default.a.createElement(react_edge_edge1, props));\n  config.setEdgeRender(\'EDGE2\', props => /*#__PURE__*/react_default.a.createElement(react_edge_edge2, props));\n});\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/DeleteOutlined.js + 1 modules\nvar DeleteOutlined = __webpack_require__("UmCv");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/EditOutlined.js + 1 modules\nvar EditOutlined = __webpack_require__("xdJY");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/StopOutlined.js + 1 modules\nvar StopOutlined = __webpack_require__("PJfV");\n\n// CONCATENATED MODULE: ./docs/tutorial/getting-started/demo/menu-config.tsx\n\n\n\n\n\n\n/** menuitem \u914d\u7f6e */\n\nvar NsCustomMenuItems;\n\n(function (_NsCustomMenuItems) {\n  /** \u6ce8\u518c\u83dc\u5355\u4f9d\u8d56\u7684icon */\n  es["o" /* IconStore */].set(\'DeleteOutlined\', DeleteOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'EditOutlined\', EditOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'StopOutlined\', StopOutlined["a" /* default */]);\n  var DELETE_EDGE = _NsCustomMenuItems.DELETE_EDGE = {\n    id: es["C" /* XFlowEdgeCommands */].DEL_EDGE.id,\n    label: \'\u5220\u9664\u8fb9\',\n    iconName: \'DeleteOutlined\',\n    onClick: function () {\n      var _onClick = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(_ref2) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                target = _ref2.target, commandService = _ref2.commandService;\n                commandService.executeCommand(es["C" /* XFlowEdgeCommands */].DEL_EDGE.id, {\n                  edgeConfig: target.data\n                });\n\n              case 2:\n              case "end":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function onClick(_x5) {\n        return _onClick.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var DELETE_NODE = _NsCustomMenuItems.DELETE_NODE = {\n    id: es["F" /* XFlowNodeCommands */].DEL_NODE.id,\n    label: \'\u5220\u9664\u8282\u70b9\',\n    iconName: \'DeleteOutlined\',\n    onClick: function () {\n      var _onClick2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(_ref3) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                target = _ref3.target, commandService = _ref3.commandService;\n                commandService.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                  nodeConfig: {\n                    id: target.data.id\n                  }\n                });\n\n              case 2:\n              case "end":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function onClick(_x6) {\n        return _onClick2.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var EMPTY_MENU = _NsCustomMenuItems.EMPTY_MENU = {\n    id: \'EMPTY_MENU_ITEM\',\n    label: \'\u6682\u65e0\u53ef\u7528\',\n    isEnabled: false,\n    iconName: \'DeleteOutlined\',\n    onClick: function () {\n      var _onClick3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(_ref4) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                target = _ref4.target, commandService = _ref4.commandService;\n                commandService.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                  nodeConfig: {\n                    id: target.data.id\n                  }\n                });\n\n              case 2:\n              case "end":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function onClick(_x7) {\n        return _onClick3.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var SEPARATOR = _NsCustomMenuItems.SEPARATOR = {\n    id: \'separator\',\n    type: es["t" /* MenuItemType */].Separator\n  };\n})(NsCustomMenuItems || (NsCustomMenuItems = {}));\n\nvar useMenuConfig = Object(es["H" /* createCtxMenuConfig */])(config => {\n  config.setMenuModelService( /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(data, model, modelService, toDispose) {\n      var type, cell;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              type = data.type, cell = data.cell;\n              console.log(type);\n              _context.t0 = type;\n              _context.next = _context.t0 === \'node\' ? 5 : _context.t0 === \'edge\' ? 7 : _context.t0 === \'blank\' ? 9 : 11;\n              break;\n\n            case 5:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.DELETE_NODE]\n              });\n              return _context.abrupt("break", 13);\n\n            case 7:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.DELETE_EDGE]\n              });\n              return _context.abrupt("break", 13);\n\n            case 9:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.EMPTY_MENU]\n              });\n              return _context.abrupt("break", 13);\n\n            case 11:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.EMPTY_MENU]\n              });\n              return _context.abrupt("break", 13);\n\n            case 13:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2, _x3, _x4) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n});\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__("DuHN");\n\n// EXTERNAL MODULE: ./docs/tutorial/getting-started/demo/index.less\nvar demo = __webpack_require__("fgE+");\n\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// CONCATENATED MODULE: ./docs/tutorial/getting-started/demo/index.tsx\n\n\n\n\n/** \u56fe\u6838\u5fc3\u7ec4\u4ef6 & \u7c7b\u578b\u5b9a\u4e49 */\n\n\n/** \u56fe\u7684\u5404\u79cd\u6269\u5c55\u4ea4\u4e92\u7ec4\u4ef6 */\n\n\n/** \u56fe\u7684\u914d\u7f6e\u9879 */\n\n\n/** \u53f3\u952e\u83dc\u5355\u680f */\n\n\n\n\n\n\nvar Demo = () => {\n  /** \u753b\u5e03\u914d\u7f6e */\n  var graphConfig = useGraphConfig();\n  /** \u53f3\u952e\u83dc\u5355\u914d\u7f6e */\n\n  var menuConfig = useMenuConfig();\n  /** \u753b\u5e03\u6e32\u67d3\u6570\u636e */\n\n  var _useState = Object(react["useState"])(undefined),\n      _useState2 = Object(slicedToArray["a" /* default */])(_useState, 2),\n      graphData = _useState2[0],\n      setGraphData = _useState2[1];\n  /** XFlow\u521d\u59cb\u5316\u5b8c\u6210\u7684\u56de\u8c03 */\n\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      var nodes, edges, newGraphData, graph;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              nodes = [{\n                id: \'root1\',\n                width: 150,\n                height: 40,\n                renderKey: \'NODE1\',\n                info: {\n                  text: \'root1\'\n                }\n              }, {\n                id: \'down1\',\n                width: 150,\n                height: 40,\n                renderKey: \'NODE2\',\n                info: {\n                  text: \'down1\'\n                }\n              }, {\n                id: \'down2\',\n                width: 150,\n                height: 40,\n                renderKey: \'NODE2\',\n                info: {\n                  text: \'down2\'\n                }\n              }, {\n                id: \'down3\',\n                width: 150,\n                height: 40,\n                renderKey: \'NODE2\',\n                info: {\n                  text: \'down3\'\n                }\n              }];\n              edges = [{\n                id: \'root1-down1\',\n                source: \'root1\',\n                target: \'down1\',\n                renderKey: \'EDGE1\',\n                edgeContentWidth: 60,\n                edgeContentHeigt: 30,\n                info: {\n                  line: \'root1-down1\'\n                }\n              }, {\n                id: \'root1-down2\',\n                source: \'root1\',\n                target: \'down2\',\n                renderKey: \'EDGE2\',\n                edgeContentWidth: 60,\n                edgeContentHeigt: 30,\n                info: {\n                  line: \'root1-down2\'\n                }\n              }, {\n                id: \'root1-down3\',\n                source: \'root1\',\n                target: \'down3\',\n                label: \'1:N(\u7eaf\u6587\u672c)\',\n                info: {\n                  line: \'root1-down3\'\n                }\n              }];\n              newGraphData = {\n                nodes,\n                edges\n              };\n              setGraphData(newGraphData);\n              _context.next = 6;\n              return app.getGraphInstance();\n\n            case 6:\n              graph = _context.sent;\n              graph.on(\'node:click\', _ref2 => {\n                var node = _ref2.node;\n                var nodeData = node.getData();\n                message["b" /* default */].success("".concat(nodeData.id, "\\u8282\\u70B9\\u88AB\\u70B9\\u51FB\\u4E86"));\n              });\n              graph.on(\'edge:click\', _ref3 => {\n                var edge = _ref3.edge;\n                edge.toFront();\n                var edgeData = edge.getData();\n                message["b" /* default */].success("".concat(edgeData.id, "\\u8FDE\\u7EBF\\u88AB\\u70B9\\u51FB\\u4E86"));\n              });\n\n            case 9:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    className: "xflow-user-container",\n    graphData: graphData,\n    graphLayout: {\n      layoutType: \'dagre\',\n      layoutOptions: {\n        type: \'dagre\',\n        rankdir: \'TB\',\n        nodesep: 60,\n        ranksep: 40\n      }\n    },\n    onLoad: onLoad,\n    isAutoCenter: true\n  }, /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig\n  }, /*#__PURE__*/react_default.a.createElement(es["d" /* CanvasScaleToolbar */], {\n    position: {\n      top: 12,\n      left: 12\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["a" /* CanvasContextMenu */], {\n    config: menuConfig\n  }), /*#__PURE__*/react_default.a.createElement(es["b" /* CanvasMiniMap */], {\n    miniMapClz: "xflow-custom-minimap",\n    nodeFillColor: "#ccc",\n    minimapOptions: {\n      width: 200,\n      height: 120\n    },\n    position: {\n      top: 12,\n      right: 12\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["e" /* CanvasSnapline */], {\n    color: "#1890ff"\n  })));\n};\n\n/* harmony default export */ var getting_started_demo = __webpack_exports__["default"] = (Demo);\n\n//# sourceURL=webpack:///./docs/tutorial/getting-started/demo/index.tsx_+_6_modules?')},MbdG:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js + 1 modules\nvar PlusCircleOutlined = __webpack_require__("Uhj0");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/DeleteOutlined.js + 1 modules\nvar DeleteOutlined = __webpack_require__("UmCv");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/SaveOutlined.js + 1 modules\nvar SaveOutlined = __webpack_require__("GcFv");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__("DuHN");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-toolbar/demos/basic/toolbar-config.tsx\n\n\n\n\n\n\nvar NsConfig;\n\n(function (_NsConfig) {\n  /** \u6ce8\u518cicon \u7c7b\u578b */\n  es["o" /* IconStore */].set(\'PlusCircleOutlined\', PlusCircleOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'DeleteOutlined\', DeleteOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'SaveOutlined\', SaveOutlined["a" /* default */]);\n  /** nodeId */\n\n  /** nodeId */\n  var id = 1;\n  /** \u83b7\u53d6toobar\u914d\u7f6e\u9879 */\n\n  var getToolbarItems = _NsConfig.getToolbarItems = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee5() {\n    var toolbarGroup1, toolbarGroup2;\n    return regenerator_default.a.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            toolbarGroup1 = [];\n            toolbarGroup2 = [];\n            /** \u4fdd\u5b58\u6570\u636e */\n\n            /** \u4fdd\u5b58\u6570\u636e */\n            toolbarGroup1.push({\n              id: es["F" /* XFlowNodeCommands */].ADD_NODE.id,\n              iconName: \'PlusCircleOutlined\',\n              tooltip: \'\u6dfb\u52a0\u8282\u70b9\',\n              onClick: function () {\n                var _onClick = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(_ref3) {\n                  var commandService, nodeName;\n                  return regenerator_default.a.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          commandService = _ref3.commandService;\n                          nodeName = "Node-".concat(id);\n                          commandService.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                            nodeConfig: {\n                              id: nodeName,\n                              label: nodeName,\n                              x: 100 + id * 5,\n                              y: 50 + id * 5,\n                              width: 160,\n                              height: 32\n                            }\n                          });\n                          id += 1;\n\n                        case 4:\n                        case "end":\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2);\n                }));\n\n                function onClick(_x2) {\n                  return _onClick.apply(this, arguments);\n                }\n\n                return onClick;\n              }()\n            });\n            toolbarGroup1.push({\n              id: es["F" /* XFlowNodeCommands */].MOVE_NODE.id,\n              iconName: \'DeleteOutlined\',\n              tooltip: \'\u5220\u9664\u8282\u70b9\',\n              isEnabled: false\n            });\n            /** \u4fdd\u5b58\u6570\u636e */\n\n            /** \u4fdd\u5b58\u6570\u636e */\n            toolbarGroup2.push({\n              id: es["D" /* XFlowGraphCommands */].SAVE_GRAPH_DATA.id,\n              iconName: \'SaveOutlined\',\n              tooltip: \'\u4fdd\u5b58\u6570\u636e\',\n              onClick: function () {\n                var _onClick2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(_ref4) {\n                  var commandService;\n                  return regenerator_default.a.wrap(function _callee4$(_context4) {\n                    while (1) {\n                      switch (_context4.prev = _context4.next) {\n                        case 0:\n                          commandService = _ref4.commandService;\n                          commandService.executeCommand(es["D" /* XFlowGraphCommands */].SAVE_GRAPH_DATA.id, {\n                            saveGraphDataService: function () {\n                              var _saveGraphDataService = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(meta, data) {\n                                return regenerator_default.a.wrap(function _callee3$(_context3) {\n                                  while (1) {\n                                    switch (_context3.prev = _context3.next) {\n                                      case 0:\n                                        console.log(data);\n                                        message["b" /* default */].success(\'nodes count:\' + data.nodes.length);\n\n                                      case 2:\n                                      case "end":\n                                        return _context3.stop();\n                                    }\n                                  }\n                                }, _callee3);\n                              }));\n\n                              function saveGraphDataService(_x4, _x5) {\n                                return _saveGraphDataService.apply(this, arguments);\n                              }\n\n                              return saveGraphDataService;\n                            }()\n                          });\n\n                        case 2:\n                        case "end":\n                          return _context4.stop();\n                      }\n                    }\n                  }, _callee4);\n                }));\n\n                function onClick(_x3) {\n                  return _onClick2.apply(this, arguments);\n                }\n\n                return onClick;\n              }()\n            });\n            return _context5.abrupt("return", [{\n              name: \'nodeGroup\',\n              items: toolbarGroup1\n            }, {\n              name: \'graphGroup\',\n              items: toolbarGroup2\n            }]);\n\n          case 6:\n          case "end":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n})(NsConfig || (NsConfig = {}));\n/** wrap\u51fa\u4e00\u4e2ahook */\n\n\nvar useToolbarConfig = Object(es["M" /* createToolbarConfig */])(toolbarConfig => {\n  /** \u751f\u4ea7 toolbar item */\n  toolbarConfig.setToolbarModelService( /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(toolbarModel) {\n      var toolbarItems;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return NsConfig.getToolbarItems();\n\n            case 2:\n              toolbarItems = _context.sent;\n              toolbarModel.setValue(toolbar => {\n                toolbar.mainGroups = toolbarItems;\n              });\n\n            case 4:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n});\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-toolbar/demos/basic/index.less\nvar basic = __webpack_require__("k1AC");\n\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-toolbar/demos/basic/index.tsx\n\n\n\n/**\n * title: \u57fa\u7840\u4f7f\u7528\u65b9\u6cd5\n * desc: \u901a\u8fc7position\u5b9a\u4f4dToolbar,\u901a\u8fc7config\u5c5e\u6027\u914d\u7f6etoolbar, \u67e5\u770btoolbar-config.tsx\u6587\u4ef6\u4e86\u89e3\u5982\u4f55\u914d\u7f6etoolbar\n */\n\n\n\n\n\n/**  Demo Props  */\n\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  var toolbarConfig = useToolbarConfig(props);\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(app);\n\n            case 1:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["f" /* CanvasToolbar */], {\n    layout: "horizontal",\n    config: toolbarConfig,\n    position: {\n      top: 0,\n      left: 0,\n      right: 0,\n      height: 40\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 40,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n  }));\n};\n\n/* harmony default export */ var demos_basic = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-toolbar/demos/basic/index.tsx_+_1_modules?')},N33m:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-mini-map/demos/color/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-mini-map/demos/color/index.less\nvar color = __webpack_require__("x6ZJ");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-mini-map/demos/color/index.tsx\n\n\n\n/**\n * title: \u914d\u7f6e\u989c\u8272\n * desc:  nodeFillColor(\u8282\u70b9\u989c\u8272)/borderColor(\u89c6\u7a97\u8fb9\u6846\u989c\u8272)/handlerColor(\u8c03\u8282\u6309\u94ae\u989c\u8272)\n */\n\n\n\n\n\n/**  Demo Props  */\n\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      var res, _res$contextProvider$, graphData;\n\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n                layoutType: \'dagre\',\n                layoutOptions: {\n                  type: \'dagre\',\n\n                  /** \u5e03\u5c40\u65b9\u5411 */\n                  rankdir: \'TB\',\n\n                  /** \u8282\u70b9\u95f4\u8ddd */\n                  nodesep: 60,\n\n                  /** \u5c42\u95f4\u8ddd */\n                  ranksep: 30\n                },\n                graphData: getGraphData()\n              });\n\n            case 2:\n              res = _context.sent;\n              _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n              _context.next = 6;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n                graphData: graphData\n              });\n\n            case 6:\n              _context.next = 8;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n                factor: \'real\'\n              });\n\n            case 8:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es["b" /* CanvasMiniMap */], {\n    position: {\n      top: 12,\n      left: 12\n    },\n    nodeFillColor: "#873bf4",\n    borderColor: "#873bf4",\n    handlerColor: "#873bf4"\n  })));\n};\n\n/* harmony default export */ var demos_color = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-mini-map/demos/color/index.tsx_+_1_modules?')},Oxvr:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-mini-map/demos/graph-options/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-mini-map/demos/graph-options/index.less\nvar graph_options = __webpack_require__("V4Po");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-mini-map/demos/graph-options/index.tsx\n\n\n\n/**\n * title: minimapOptions\n * desc: \u901a\u8fc7minimapOptions\u914d\u7f6eminiMap, \u6240\u6709\u914d\u7f6e\u9879\u53c2\u8003X6\u6587\u6863\uff1ahttps://x6.antv.vision/zh/docs/api/graph/minimap/#enabled\n */\n\n\n\n\n\n/**  Demo Props  */\n\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      var res, _res$contextProvider$, graphData;\n\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n                layoutType: \'dagre\',\n                layoutOptions: {\n                  type: \'dagre\',\n\n                  /** \u5e03\u5c40\u65b9\u5411 */\n                  rankdir: \'TB\',\n\n                  /** \u8282\u70b9\u95f4\u8ddd */\n                  nodesep: 60,\n\n                  /** \u5c42\u95f4\u8ddd */\n                  ranksep: 30\n                },\n                graphData: getGraphData()\n              });\n\n            case 2:\n              res = _context.sent;\n              _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n              _context.next = 6;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n                graphData: graphData\n              });\n\n            case 6:\n              _context.next = 8;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n                factor: \'real\'\n              });\n\n            case 8:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es["b" /* CanvasMiniMap */], {\n    position: {\n      top: 12,\n      left: 12\n    },\n    minimapOptions: {\n      width: 200,\n      height: 200\n    }\n  })));\n};\n\n/* harmony default export */ var demos_graph_options = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-mini-map/demos/graph-options/index.tsx_+_1_modules?')},RG0s:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "Demo", function() { return /* binding */ Demo; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: ./docs/tutorial/solutions/flow/demos/basic/react-node/dnd-node.less\nvar dnd_node = __webpack_require__("z2A4");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/react-node/dnd-node.tsx\n\n\nvar DndNode = props => {\n  var _props$data = props.data,\n      label = _props$data.label,\n      des = _props$data.des;\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: "xflow-flow-node"\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: "node-title"\n  }, /*#__PURE__*/react_default.a.createElement("img", {\n    src: "https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*GY1bRIKjcuYAAAAAAAAAAAAAARQnAQ",\n    alt: ""\n  }), /*#__PURE__*/react_default.a.createElement("span", null, label)), /*#__PURE__*/react_default.a.createElement("div", {\n    className: "node-des"\n  }, des));\n};\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/constant.ts\nvar DND_RENDER_ID = \'DND_NDOE\';\nvar NODE_WIDTH = 200;\nvar NODE_HEIGHT = 60;\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/config-graph.tsx\n\n\n // \u63a7\u5236\u8fde\u63a5\u6869\u663e\u793a/\u9690\u85cf\n\nvar showPorts = (ports, show) => {\n  for (var i = 0, len = ports.length; i < len; i = i + 1) {\n    ports[i].style.visibility = show ? \'visible\' : \'hidden\';\n  }\n};\n/**  graphConfig    */\n\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(config => {\n  config.setNodeTypeParser(node => node === null || node === void 0 ? void 0 : node.renderKey);\n  config.setEdgeTypeParser(edge => edge === null || edge === void 0 ? void 0 : edge.renderKey);\n  config.setNodeRender(DND_RENDER_ID, DndNode);\n  config.setX6Config({\n    grid: true,\n    history: true\n  });\n  config.setEvents([{\n    eventName: \'node:mouseenter\',\n    callback: () => {\n      var container = document.querySelector(\'.user-custom-clz\');\n      var ports = container.querySelectorAll(\'.x6-port-body\');\n      showPorts(ports, true);\n    }\n  }, {\n    eventName: \'node:mouseleave\',\n    callback: () => {\n      var container = document.querySelector(\'.user-custom-clz\');\n      var ports = container.querySelectorAll(\'.x6-port-body\');\n      showPorts(ports, false);\n    }\n  }]);\n});\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/service.ts\n\n\n\n\n\n\n/** mock \u540e\u7aef\u63a5\u53e3\u8c03\u7528 */\nvar MockApi;\n\n(function (_MockApi) {\n  var NODE_COMMON_PROPS = _MockApi.NODE_COMMON_PROPS = {\n    renderKey: DND_RENDER_ID,\n    width: NODE_WIDTH,\n    height: NODE_HEIGHT\n  };\n\n  var queryGraphMeta = _MockApi.queryGraphMeta = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(args) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\'queryMeta\', args);\n              return _context.abrupt("return", Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, args), {}, {\n                flowId: args.meta.flowId\n              }));\n\n            case 2:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var loadGraphData = _MockApi.loadGraphData = /*#__PURE__*/function () {\n    var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(meta) {\n      var nodes, edges;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              nodes = [Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, NODE_COMMON_PROPS), {}, {\n                id: \'node1\',\n                label: \'\u6d41\u7a0b1\',\n                x: 140,\n                y: 210,\n                des: \'\u6d41\u7a0b1\u7684\u63cf\u8ff0\',\n                ports: {\n                  items: [{\n                    id: \'node1-input-1\',\n                    group: \'left\'\n                  }, {\n                    id: \'node1-output-1\',\n                    group: \'right\'\n                  }]\n                }\n              }), Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, NODE_COMMON_PROPS), {}, {\n                id: \'node2\',\n                label: \'\u6d41\u7a0b2\',\n                des: \'\u6d41\u7a0b2\u7684\u63cf\u8ff0\',\n                x: 430,\n                y: 120,\n                ports: {\n                  items: [{\n                    id: \'node2-input-1\',\n                    group: \'left\'\n                  }, {\n                    id: \'node2-output-1\',\n                    group: \'right\'\n                  }]\n                }\n              }), Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, NODE_COMMON_PROPS), {}, {\n                id: \'node3\',\n                label: \'\u6d41\u7a0b3\',\n                des: \'\u6d41\u7a0b3\u7684\u63cf\u8ff0\',\n                x: 430,\n                y: 290,\n                ports: {\n                  items: [{\n                    id: \'node3-input-1\',\n                    group: \'left\'\n                  }, {\n                    id: \'node3-output-1\',\n                    group: \'right\'\n                  }]\n                }\n              }), Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, NODE_COMMON_PROPS), {}, {\n                id: \'node4\',\n                label: \'\u6d41\u7a0b4\',\n                des: \'\u6d41\u7a0b4\u7684\u63cf\u8ff0\',\n                x: 740,\n                y: 210,\n                ports: {\n                  items: [{\n                    id: \'node4-input-1\',\n                    group: \'left\'\n                  }, {\n                    id: \'node4-output-1\',\n                    group: \'right\'\n                  }]\n                }\n              })];\n              edges = [{\n                id: Object(es["T" /* uuidv4 */])(),\n                source: \'node1\',\n                target: \'node2\',\n                sourcePortId: \'node1-output-1\',\n                targetPortId: \'node2-input-1\'\n              }, {\n                id: Object(es["T" /* uuidv4 */])(),\n                source: \'node1\',\n                target: \'node3\',\n                sourcePortId: \'node1-output-1\',\n                targetPortId: \'node3-input-1\'\n              }, {\n                id: Object(es["T" /* uuidv4 */])(),\n                source: \'node2\',\n                target: \'node4\',\n                sourcePortId: \'node2-output-1\',\n                targetPortId: \'node4-input-1\'\n              }, {\n                id: Object(es["T" /* uuidv4 */])(),\n                source: \'node3\',\n                target: \'node4\',\n                sourcePortId: \'node3-output-1\',\n                targetPortId: \'node4-input-1\'\n              }];\n              return _context2.abrupt("return", {\n                nodes,\n                edges\n              });\n\n            case 3:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var saveGraphData = _MockApi.saveGraphData = /*#__PURE__*/function () {\n    var _ref3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(meta, graphData) {\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              console.log(\'saveGraphData api\', meta, graphData);\n              return _context3.abrupt("return", {\n                success: true,\n                data: graphData\n              });\n\n            case 2:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x3, _x4) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var addNode = _MockApi.addNode = /*#__PURE__*/function () {\n    var _ref4 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(args) {\n      var _args$nodeConfig, id, ports, nodeId, node;\n\n      return regenerator_default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _args$nodeConfig = args.nodeConfig, id = _args$nodeConfig.id, ports = _args$nodeConfig.ports;\n              nodeId = id || Object(es["T" /* uuidv4 */])();\n              /** \u8fd9\u91cc\u6dfb\u52a0\u8fde\u7ebf\u6869 */\n\n              /** \u8fd9\u91cc\u6dfb\u52a0\u8fde\u7ebf\u6869 */\n              args;\n              node = Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({\n                width: 200,\n                height: 60\n              }, args.nodeConfig), {}, {\n                id: nodeId,\n                ports: ports ? ports : {\n                  items: [{\n                    id: Object(es["T" /* uuidv4 */])(),\n                    group: es["v" /* NsGraph */].AnchorGroup.LEFT\n                  }, {\n                    id: Object(es["T" /* uuidv4 */])(),\n                    group: es["v" /* NsGraph */].AnchorGroup.RIGHT\n                  }]\n                }\n              });\n              return _context4.abrupt("return", node);\n\n            case 5:\n            case "end":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var renameNode = _MockApi.renameNode = /*#__PURE__*/function () {\n    var _ref5 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee5(name, node, graphMeta) {\n      return regenerator_default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              console.log(\'rename node\', node, name, graphMeta);\n              return _context5.abrupt("return", {\n                err: null,\n                nodeName: name\n              });\n\n            case 2:\n            case "end":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x6, _x7, _x8) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var delNode = _MockApi.delNode = /*#__PURE__*/function () {\n    var _ref6 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee6(args) {\n      return regenerator_default.a.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              console.info(\'delNode service running, del node:\', args.nodeConfig.id);\n              return _context6.abrupt("return", true);\n\n            case 2:\n            case "end":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function (_x9) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var addEdge = _MockApi.addEdge = /*#__PURE__*/function () {\n    var _ref7 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee7(args) {\n      var edgeConfig;\n      return regenerator_default.a.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              console.info(\'addEdge service running, add edge:\', args);\n              edgeConfig = args.edgeConfig;\n              return _context7.abrupt("return", Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, edgeConfig), {}, {\n                id: Object(es["T" /* uuidv4 */])()\n              }));\n\n            case 3:\n            case "end":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    return function (_x10) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  var delEdge = _MockApi.delEdge = /*#__PURE__*/function () {\n    var _ref8 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee8(args) {\n      return regenerator_default.a.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              console.info(\'delEdge service running, del edge:\', args);\n              return _context8.abrupt("return", true);\n\n            case 2:\n            case "end":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n\n    return function (_x11) {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n})(MockApi || (MockApi = {}));\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty.js\nvar initializerDefineProperty = __webpack_require__("pMbd");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor.js\nvar applyDecoratedDescriptor = __webpack_require__("8FM4");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper.js\nvar initializerWarningHelper = __webpack_require__("Tnoi");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/mana-syringe/dist/index.esm.js\nvar index_esm = __webpack_require__("rZgF");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/cmd-extensions/constants.ts\n/** \u8282\u70b9\u547d\u4ee4 */\nvar CustomCommands;\n\n(function (_CustomCommands) {\n  var category = \'\u8282\u70b9\u64cd\u4f5c\';\n  /** \u6e05\u9664\u753b\u5e03 */\n\n  var CLEAR_GRAPH = _CustomCommands.CLEAR_GRAPH = {\n    id: \'xflow:clear-graph\',\n    label: \'\u6e05\u9664\',\n    category\n  };\n  var EXPORT_GRAPH = _CustomCommands.EXPORT_GRAPH = {\n    id: \'xflow:export-graph\',\n    label: \'\u5bfc\u51fa\',\n    category\n  };\n  var SHOW_RENAME_MODAL = _CustomCommands.SHOW_RENAME_MODAL = {\n    id: \'xflow:rename-node-modal\',\n    label: \'\u6253\u5f00\u91cd\u547d\u540d\u5f39\u7a97\',\n    category\n  };\n})(CustomCommands || (CustomCommands = {}));\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/cmd-extensions/cmd-clear.ts\n\n\n\n\n\nvar _dec, _dec2, _dec3, _class, _class2, _descriptor;\n\n\n\n\n\n\nvar NsClearGraphCmd;\n\n(function (_NsClearGraphCmd) {\n  var command = _NsClearGraphCmd.command = CustomCommands.CLEAR_GRAPH;\n  var hookKey = _NsClearGraphCmd.hookKey = \'clearGraph\';\n})(NsClearGraphCmd || (NsClearGraphCmd = {}));\n\nvar\n/** \u90e8\u7f72\u753b\u5e03\u6570\u636e */\ncmd_clear_ClearGraphCommand = (_dec = Object(index_esm["injectable"])(), _dec2 = Object(index_esm["inject"])(es["n" /* ICommandContextProvider */]), _dec3 = Reflect.metadata("design:type", Object), _dec(_class = (_class2 = class\n/** \u90e8\u7f72\u753b\u5e03\u6570\u636e */\nClearGraphCommand {\n  constructor() {\n    var _this = this;\n\n    Object(initializerDefineProperty["a" /* default */])(this, "contextProvider", _descriptor, this);\n\n    this.execute = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3() {\n      var ctx, _ctx$getArgs, args, runtimeHook, hooks, result;\n\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              ctx = _this.contextProvider();\n              _ctx$getArgs = ctx.getArgs(), args = _ctx$getArgs.args, runtimeHook = _ctx$getArgs.hooks;\n              hooks = ctx.getHooks();\n              _context3.next = 5;\n              return hooks.clearGraph.call(args, /*#__PURE__*/function () {\n                var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(args) {\n                  var graph, cells;\n                  return regenerator_default.a.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _context2.next = 2;\n                          return ctx.getX6Graph();\n\n                        case 2:\n                          graph = _context2.sent;\n                          cells = graph.getCells();\n                          graph.clearCells();\n                          ctx.addUndo(es["i" /* Disposable */].create( /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n                            return regenerator_default.a.wrap(function _callee$(_context) {\n                              while (1) {\n                                switch (_context.prev = _context.next) {\n                                  case 0:\n                                    graph.resetCells(cells);\n\n                                  case 1:\n                                  case "end":\n                                    return _context.stop();\n                                }\n                              }\n                            }, _callee);\n                          }))));\n                          return _context2.abrupt("return", {});\n\n                        case 7:\n                        case "end":\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2);\n                }));\n\n                return function (_x) {\n                  return _ref2.apply(this, arguments);\n                };\n              }());\n\n            case 5:\n              result = _context3.sent;\n              ctx.setResult(result);\n              return _context3.abrupt("return", _this);\n\n            case 8:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    this.undo = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4() {\n      var ctx;\n      return regenerator_default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (_this.isUndoable()) {\n                ctx = _this.contextProvider();\n                ctx.undo();\n              }\n\n              return _context4.abrupt("return", _this);\n\n            case 2:\n            case "end":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    this.redo = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee5() {\n      return regenerator_default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              if (_this.isUndoable()) {\n                _context5.next = 3;\n                break;\n              }\n\n              _context5.next = 3;\n              return _this.execute();\n\n            case 3:\n              return _context5.abrupt("return", _this);\n\n            case 4:\n            case "end":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n  }\n\n  isUndoable() {\n    var ctx = this.contextProvider();\n    return ctx.isUndoable();\n  }\n\n}, (_descriptor = Object(applyDecoratedDescriptor["a" /* default */])(_class2.prototype, "contextProvider", [_dec2, _dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@antv/x6/es/index.js + 518 modules\nvar x6_es = __webpack_require__("xShM");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/cmd-extensions/cmd-export.ts\n\n\n\n\n\nvar cmd_export_dec, cmd_export_dec2, cmd_export_dec3, cmd_export_class, cmd_export_class2, cmd_export_descriptor;\n\n\n\n\n\n\nvar NsExportGraphCmd;\n\n(function (_NsExportGraphCmd) {\n  var command = _NsExportGraphCmd.command = CustomCommands.EXPORT_GRAPH;\n  var hookKey = _NsExportGraphCmd.hookKey = \'exportGraph\';\n})(NsExportGraphCmd || (NsExportGraphCmd = {}));\n\nvar\n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\ncmd_export_ExportGraphCmd = (cmd_export_dec = Object(index_esm["injectable"])(), cmd_export_dec2 = Object(index_esm["inject"])(es["n" /* ICommandContextProvider */]), cmd_export_dec3 = Reflect.metadata("design:type", Object), cmd_export_dec(cmd_export_class = (cmd_export_class2 = class\n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nExportGraphCmd {\n  constructor() {\n    var _this = this;\n\n    Object(initializerDefineProperty["a" /* default */])(this, "contextProvider", cmd_export_descriptor, this);\n\n    this.execute = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2() {\n      var ctx, _ctx$getArgs, args, runtimeHook, hooks, result;\n\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              ctx = _this.contextProvider();\n              _ctx$getArgs = ctx.getArgs(), args = _ctx$getArgs.args, runtimeHook = _ctx$getArgs.hooks;\n              hooks = ctx.getHooks();\n              _context2.next = 5;\n              return hooks.exportGraph.call(args, /*#__PURE__*/function () {\n                var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(args) {\n                  var graph;\n                  return regenerator_default.a.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return ctx.getX6Graph();\n\n                        case 2:\n                          graph = _context.sent;\n                          graph.toPNG(dataUri => {\n                            x6_es["b" /* DataUri */].downloadDataUri(dataUri, \'chart.png\');\n                          });\n                          return _context.abrupt("return", {});\n\n                        case 5:\n                        case "end":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x) {\n                  return _ref2.apply(this, arguments);\n                };\n              }());\n\n            case 5:\n              result = _context2.sent;\n              ctx.setResult(result);\n              return _context2.abrupt("return", _this);\n\n            case 8:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    this.undo = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3() {\n      var ctx;\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (_this.isUndoable()) {\n                ctx = _this.contextProvider();\n                ctx.undo();\n              }\n\n              return _context3.abrupt("return", _this);\n\n            case 2:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    this.redo = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4() {\n      return regenerator_default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (_this.isUndoable()) {\n                _context4.next = 3;\n                break;\n              }\n\n              _context4.next = 3;\n              return _this.execute();\n\n            case 3:\n              return _context4.abrupt("return", _this);\n\n            case 4:\n            case "end":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n  }\n\n  isUndoable() {\n    var ctx = this.contextProvider();\n    return ctx.isUndoable();\n  }\n\n}, (cmd_export_descriptor = Object(applyDecoratedDescriptor["a" /* default */])(cmd_export_class2.prototype, "contextProvider", [cmd_export_dec2, cmd_export_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), cmd_export_class2)) || cmd_export_class);\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/extends.js\nvar esm_extends = __webpack_require__("BoRD");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("jem/");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/config-provider/index.js + 3 modules\nvar config_provider = __webpack_require__("7xuC");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/modal/index.js + 8 modules\nvar es_modal = __webpack_require__("/zI6");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/modal/style/index.css\nvar style = __webpack_require__("vmP7");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/cmd-extensions/cmd-rename-node-modal.tsx\n\n\n\n\n\n\n\n\nvar cmd_rename_node_modal_dec, cmd_rename_node_modal_dec2, cmd_rename_node_modal_dec3, cmd_rename_node_modal_class, cmd_rename_node_modal_class2, cmd_rename_node_modal_descriptor;\n\n\n\n\n\n\n\n\nvar NsRenameNodeCmd;\n\n(function (_NsRenameNodeCmd) {\n  var command = _NsRenameNodeCmd.command = CustomCommands.SHOW_RENAME_MODAL;\n  var hookKey = _NsRenameNodeCmd.hookKey = \'renameNode\';\n})(NsRenameNodeCmd || (NsRenameNodeCmd = {}));\n\nvar\n/** \u90e8\u7f72\u753b\u5e03\u6570\u636e */\ncmd_rename_node_modal_RenameNodeCommand = (cmd_rename_node_modal_dec = Object(index_esm["injectable"])(), cmd_rename_node_modal_dec2 = Object(index_esm["inject"])(es["n" /* ICommandContextProvider */]), cmd_rename_node_modal_dec3 = Reflect.metadata("design:type", Object), cmd_rename_node_modal_dec(cmd_rename_node_modal_class = (cmd_rename_node_modal_class2 = class\n/** \u90e8\u7f72\u753b\u5e03\u6570\u636e */\nRenameNodeCommand {\n  constructor() {\n    var _this = this;\n\n    Object(initializerDefineProperty["a" /* default */])(this, "contextProvider", cmd_rename_node_modal_descriptor, this);\n\n    this.execute = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2() {\n      var ctx, _ctx$getArgs, args, runtimeHook, hooks, result;\n\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              ctx = _this.contextProvider();\n              _ctx$getArgs = ctx.getArgs(), args = _ctx$getArgs.args, runtimeHook = _ctx$getArgs.hooks;\n              hooks = ctx.getHooks();\n              _context2.next = 5;\n              return hooks.renameNode.call(args, /*#__PURE__*/function () {\n                var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(handlerArgs) {\n                  var nodeConfig, graphMeta, commandService, modelService, updateNodeNameService, preNodeName, getAppContext, x6Graph, cell, newName, cellData;\n                  return regenerator_default.a.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          nodeConfig = handlerArgs.nodeConfig, graphMeta = handlerArgs.graphMeta, commandService = handlerArgs.commandService, modelService = handlerArgs.modelService, updateNodeNameService = handlerArgs.updateNodeNameService;\n                          preNodeName = nodeConfig.label;\n\n                          getAppContext = () => {\n                            return {\n                              graphMeta,\n                              modelService,\n                              commandService,\n                              updateNodeNameService\n                            };\n                          };\n\n                          _context.next = 5;\n                          return ctx.getX6Graph();\n\n                        case 5:\n                          x6Graph = _context.sent;\n                          cell = x6Graph.getCellById(nodeConfig.id);\n\n                          if (!(!cell || !cell.isNode())) {\n                            _context.next = 9;\n                            break;\n                          }\n\n                          throw new Error("".concat(nodeConfig.id, " is not a valid node"));\n\n                        case 9:\n                          _context.next = 11;\n                          return showModal(nodeConfig, getAppContext);\n\n                        case 11:\n                          newName = _context.sent;\n\n                          if (!newName) {\n                            _context.next = 16;\n                            break;\n                          }\n\n                          cellData = cell.getData();\n                          cell.setData(Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, cellData), {}, {\n                            label: newName\n                          }));\n                          return _context.abrupt("return", {\n                            err: null,\n                            preNodeName,\n                            currenNodetName: newName\n                          });\n\n                        case 16:\n                          return _context.abrupt("return", {\n                            err: null,\n                            preNodeName,\n                            currenNodetName: \'\'\n                          });\n\n                        case 17:\n                        case "end":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x) {\n                  return _ref2.apply(this, arguments);\n                };\n              }(), runtimeHook);\n\n            case 5:\n              result = _context2.sent;\n              ctx.setResult(result);\n              return _context2.abrupt("return", _this);\n\n            case 8:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    this.undo = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3() {\n      var ctx;\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (_this.isUndoable()) {\n                ctx = _this.contextProvider();\n                ctx.undo();\n              }\n\n              return _context3.abrupt("return", _this);\n\n            case 2:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    this.redo = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4() {\n      return regenerator_default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (_this.isUndoable()) {\n                _context4.next = 3;\n                break;\n              }\n\n              _context4.next = 3;\n              return _this.execute();\n\n            case 3:\n              return _context4.abrupt("return", _this);\n\n            case 4:\n            case "end":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n  }\n\n  isUndoable() {\n    var ctx = this.contextProvider();\n    return ctx.isUndoable();\n  }\n\n}, (cmd_rename_node_modal_descriptor = Object(applyDecoratedDescriptor["a" /* default */])(cmd_rename_node_modal_class2.prototype, "contextProvider", [cmd_rename_node_modal_dec2, cmd_rename_node_modal_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), cmd_rename_node_modal_class2)) || cmd_rename_node_modal_class);\nvar layout = {\n  labelCol: {\n    span: 5\n  },\n  wrapperCol: {\n    span: 19\n  }\n};\n\nfunction showModal(node, getAppContext) {\n  /** showModal \u8fd4\u56de\u4e00\u4e2aPromise */\n  var defer = new es["h" /* Deferred */]();\n  /** modal\u786e\u8ba4\u4fdd\u5b58\u903b\u8f91 */\n\n  class ModalCache {}\n  /** modal\u9500\u6bc1\u903b\u8f91 */\n\n\n  ModalCache.modal = void 0;\n  ModalCache.form = void 0;\n\n  var onHide = () => {\n    ModalCache.modal.destroy();\n    ModalCache.form = null;\n    ModalCache.modal = null;\n  };\n  /** modal\u786e\u8ba4\u4fdd\u5b58\u903b\u8f91 */\n\n\n  var onOk = /*#__PURE__*/function () {\n    var _ref5 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee5() {\n      var form, modal, appContext, updateNodeNameService, graphMeta, values, _newName, _yield$updateNodeName, err, nodeName;\n\n      return regenerator_default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              form = ModalCache.form, modal = ModalCache.modal;\n              appContext = getAppContext();\n              updateNodeNameService = appContext.updateNodeNameService, graphMeta = appContext.graphMeta;\n              _context5.prev = 3;\n              modal.update({\n                okButtonProps: {\n                  loading: true\n                }\n              });\n              _context5.next = 7;\n              return form.validateFields();\n\n            case 7:\n              _context5.next = 9;\n              return form.getFieldsValue();\n\n            case 9:\n              values = _context5.sent;\n              _newName = values.newNodeName;\n              /** \u6267\u884c backend service */\n\n              if (!updateNodeNameService) {\n                _context5.next = 20;\n                break;\n              }\n\n              _context5.next = 14;\n              return updateNodeNameService(_newName, node, graphMeta);\n\n            case 14:\n              _yield$updateNodeName = _context5.sent;\n              err = _yield$updateNodeName.err;\n              nodeName = _yield$updateNodeName.nodeName;\n\n              if (!err) {\n                _context5.next = 19;\n                break;\n              }\n\n              throw new Error(err);\n\n            case 19:\n              defer.resolve(nodeName);\n\n            case 20:\n              /** \u66f4\u65b0\u6210\u529f\u540e\uff0c\u5173\u95edmodal */\n              onHide();\n              _context5.next = 27;\n              break;\n\n            case 23:\n              _context5.prev = 23;\n              _context5.t0 = _context5["catch"](3);\n              console.error(_context5.t0);\n              /** \u5982\u679cresolve\u7a7a\u5b57\u7b26\u4e32\u5219\u4e0d\u66f4\u65b0 */\n\n              modal.update({\n                okButtonProps: {\n                  loading: false\n                }\n              });\n\n            case 27:\n            case "end":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[3, 23]]);\n    }));\n\n    return function onOk() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  /** modal\u5185\u5bb9 */\n\n\n  var ModalContent = () => {\n    var _Form$useForm = es_form["a" /* default */].useForm(),\n        _Form$useForm2 = Object(slicedToArray["a" /* default */])(_Form$useForm, 1),\n        form = _Form$useForm2[0];\n    /** \u7f13\u5b58form\u5b9e\u4f8b */\n\n\n    ModalCache.form = form;\n    return /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement(config_provider["a" /* default */], null, /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */], Object(esm_extends["a" /* default */])({\n      form: form\n    }, layout, {\n      initialValues: {\n        newNodeName: node.label\n      }\n    }), /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */].Item, {\n      name: "newNodeName",\n      label: "\\u8282\\u70B9\\u540D",\n      rules: [{\n        required: true,\n        message: \'\u8bf7\u8f93\u5165\u65b0\u8282\u70b9\u540d\'\n      }, {\n        min: 3,\n        message: \'\u8282\u70b9\u540d\u4e0d\u80fd\u5c11\u4e8e3\u4e2a\u5b57\u7b26\'\n      }]\n    }, /*#__PURE__*/react_default.a.createElement(input["a" /* default */], null)))));\n  };\n  /** \u521b\u5efamodal */\n\n\n  var modal = es_modal["a" /* default */].confirm({\n    title: \'\u91cd\u547d\u540d\',\n    content: /*#__PURE__*/react_default.a.createElement(ModalContent, null),\n    okButtonProps: {\n      onClick: e => {\n        e.stopPropagation();\n        onOk();\n      }\n    },\n    onCancel: () => {\n      onHide();\n    },\n    afterClose: () => {\n      onHide();\n    }\n  });\n  /** \u7f13\u5b58modal\u5b9e\u4f8b */\n\n  ModalCache.modal = modal;\n  /** showModal \u8fd4\u56de\u4e00\u4e2aPromise\uff0c\u7528\u4e8eawait */\n\n  return defer.promise;\n}\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/cmd-extensions/index.ts\n\n\n\n\n\n/** \u6ce8\u518c\u6210\u4e3a\u53ef\u4ee5\u6267\u884c\u7684\u547d\u4ee4 */\nvar commandContributions = [Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, NsClearGraphCmd), {}, {\n  CommandHandler: cmd_clear_ClearGraphCommand\n}), Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, NsExportGraphCmd), {}, {\n  CommandHandler: cmd_export_ExportGraphCmd\n}), Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, NsRenameNodeCmd), {}, {\n  CommandHandler: cmd_rename_node_modal_RenameNodeCommand\n})];\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/config-cmd.ts\n\n\n\n\n\nvar useCmdConfig = Object(es["G" /* createCmdConfig */])(config => {\n  // \u6ce8\u518c\u5168\u5c40Command\u6269\u5c55\n  config.setCommandContributions(() => commandContributions); // \u8bbe\u7f6ehook\n\n  config.setRegisterHookFn(hooks => {\n    var list = [hooks.graphMeta.registerHook({\n      name: \'get node config from backend api\',\n      handler: function () {\n        var _handler = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(args) {\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  args.graphMetaService = MockApi.queryGraphMeta;\n\n                case 1:\n                case "end":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function handler(_x) {\n          return _handler.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    }), hooks.saveGrpahData.registerHook({\n      name: \'get node config from backend api\',\n      handler: function () {\n        var _handler2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(args) {\n          return regenerator_default.a.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (!args.saveGraphDataService) {\n                    args.saveGraphDataService = MockApi.saveGraphData;\n                  }\n\n                case 1:\n                case "end":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        function handler(_x2) {\n          return _handler2.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    }), hooks.addNode.registerHook({\n      name: \'get node config from backend api\',\n      handler: function () {\n        var _handler3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(args) {\n          return regenerator_default.a.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  args.createNodeService = MockApi.addNode;\n\n                case 1:\n                case "end":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3);\n        }));\n\n        function handler(_x3) {\n          return _handler3.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    }), hooks.delNode.registerHook({\n      name: \'get edge config from backend api\',\n      handler: function () {\n        var _handler4 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(args) {\n          return regenerator_default.a.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  args.deleteNodeService = MockApi.delNode;\n\n                case 1:\n                case "end":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4);\n        }));\n\n        function handler(_x4) {\n          return _handler4.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    }), hooks.addEdge.registerHook({\n      name: \'get edge config from backend api\',\n      handler: function () {\n        var _handler5 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee5(args) {\n          return regenerator_default.a.wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  args.createEdgeService = MockApi.addEdge;\n\n                case 1:\n                case "end":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5);\n        }));\n\n        function handler(_x5) {\n          return _handler5.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    }), hooks.delEdge.registerHook({\n      name: \'get edge config from backend api\',\n      handler: function () {\n        var _handler6 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee6(args) {\n          return regenerator_default.a.wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  args.deleteEdgeService = MockApi.delEdge;\n\n                case 1:\n                case "end":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6);\n        }));\n\n        function handler(_x6) {\n          return _handler6.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    })];\n    var toDispose = new es["j" /* DisposableCollection */]();\n    toDispose.pushAll(list);\n    return toDispose;\n  });\n});\n/** \u67e5\u8be2\u56fe\u7684\u8282\u70b9\u548c\u8fb9\u7684\u6570\u636e */\n\nvar initGraphCmds = app => {\n  app.executeCommandPipeline([\n  /** 1. \u4ece\u670d\u52a1\u7aef\u83b7\u53d6\u6570\u636e */\n  {\n    commandId: es["D" /* XFlowGraphCommands */].LOAD_DATA.id,\n    getCommandOption: function () {\n      var _getCommandOption = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee7(ctx) {\n        return regenerator_default.a.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                return _context7.abrupt("return", {\n                  args: {\n                    loadDataService: MockApi.loadGraphData\n                  }\n                });\n\n              case 1:\n              case "end":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      function getCommandOption(_x7) {\n        return _getCommandOption.apply(this, arguments);\n      }\n\n      return getCommandOption;\n    }()\n  },\n  /** 2. \u753b\u5e03\u5185\u5bb9\u6e32\u67d3 */\n  {\n    commandId: es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id,\n    getCommandOption: function () {\n      var _getCommandOption2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee8(ctx) {\n        var _ctx$getResult, graphData;\n\n        return regenerator_default.a.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _ctx$getResult = ctx.getResult(), graphData = _ctx$getResult.graphData;\n                return _context8.abrupt("return", {\n                  args: {\n                    graphData\n                  }\n                });\n\n              case 2:\n              case "end":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      function getCommandOption(_x8) {\n        return _getCommandOption2.apply(this, arguments);\n      }\n\n      return getCommandOption;\n    }()\n  }]);\n};\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/config-ctx-service.ts\n\n\n\nvar NS_LOADING_STATE;\n\n(function (_NS_LOADING_STATE) {\n  var id = _NS_LOADING_STATE.id = \'test\';\n})(NS_LOADING_STATE || (NS_LOADING_STATE = {}));\n\nvar useModelServiceConfig = Object(es["L" /* createModelServiceConfig */])(config => {\n  config.registerModel(registry => {\n    return registry.registerModel({\n      id: NS_LOADING_STATE.id,\n      getInitialValue: () => ({\n        loading: true\n      }),\n      watchChange: function () {\n        var _watchChange = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(self) {\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  return _context.abrupt("return", es["i" /* Disposable */].create(() => {}));\n\n                case 1:\n                case "end":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function watchChange(_x) {\n          return _watchChange.apply(this, arguments);\n        }\n\n        return watchChange;\n      }()\n    });\n  });\n});\nvar useLoadingState = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(modelService) {\n    var ctx;\n    return regenerator_default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return modelService.awaitModel(NS_LOADING_STATE.id);\n\n          case 2:\n            ctx = _context2.sent;\n            return _context2.abrupt("return", ctx.getValidValue());\n\n          case 4:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function useLoadingState(_x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/DeleteOutlined.js + 1 modules\nvar DeleteOutlined = __webpack_require__("UmCv");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/EditOutlined.js + 1 modules\nvar EditOutlined = __webpack_require__("xdJY");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/StopOutlined.js + 1 modules\nvar StopOutlined = __webpack_require__("PJfV");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/config-menu.ts\n\n\n\n\n\n\n\n/** menuitem \u914d\u7f6e */\n\nvar NsMenuItemConfig;\n\n(function (_NsMenuItemConfig) {\n  /** \u6ce8\u518c\u83dc\u5355\u4f9d\u8d56\u7684icon */\n  es["o" /* IconStore */].set(\'DeleteOutlined\', DeleteOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'EditOutlined\', EditOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'StopOutlined\', StopOutlined["a" /* default */]);\n  var DELETE_EDGE = _NsMenuItemConfig.DELETE_EDGE = {\n    id: es["C" /* XFlowEdgeCommands */].DEL_EDGE.id,\n    label: \'\u5220\u9664\u8fb9\',\n    iconName: \'DeleteOutlined\',\n    onClick: function () {\n      var _onClick = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(_ref2) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                target = _ref2.target, commandService = _ref2.commandService;\n                commandService.executeCommand(es["C" /* XFlowEdgeCommands */].DEL_EDGE.id, {\n                  edgeConfig: target.data\n                });\n\n              case 2:\n              case "end":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function onClick(_x5) {\n        return _onClick.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var DELETE_NODE = _NsMenuItemConfig.DELETE_NODE = {\n    id: es["F" /* XFlowNodeCommands */].DEL_NODE.id,\n    label: \'\u5220\u9664\u8282\u70b9\',\n    iconName: \'DeleteOutlined\',\n    onClick: function () {\n      var _onClick2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(_ref3) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                target = _ref3.target, commandService = _ref3.commandService;\n                commandService.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                  nodeConfig: {\n                    id: target.data.id\n                  }\n                });\n\n              case 2:\n              case "end":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function onClick(_x6) {\n        return _onClick2.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var EMPTY_MENU = _NsMenuItemConfig.EMPTY_MENU = {\n    id: \'EMPTY_MENU_ITEM\',\n    label: \'\u6682\u65e0\u53ef\u7528\',\n    isEnabled: false,\n    iconName: \'DeleteOutlined\'\n  };\n  var RENAME_NODE = _NsMenuItemConfig.RENAME_NODE = {\n    id: CustomCommands.SHOW_RENAME_MODAL.id,\n    label: \'\x1d\u91cd\u547d\u540d\',\n    isVisible: true,\n    iconName: \'EditOutlined\',\n    onClick: function () {\n      var _onClick3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(_ref4) {\n        var target, commandService, nodeConfig;\n        return regenerator_default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                target = _ref4.target, commandService = _ref4.commandService;\n                nodeConfig = target.data;\n                commandService.executeCommand(CustomCommands.SHOW_RENAME_MODAL.id, {\n                  nodeConfig,\n                  updateNodeNameService: MockApi.renameNode\n                });\n\n              case 3:\n              case "end":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function onClick(_x7) {\n        return _onClick3.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var SEPARATOR = _NsMenuItemConfig.SEPARATOR = {\n    id: \'separator\',\n    type: es["t" /* MenuItemType */].Separator\n  };\n})(NsMenuItemConfig || (NsMenuItemConfig = {}));\n\nvar useMenuConfig = Object(es["H" /* createCtxMenuConfig */])(config => {\n  config.setMenuModelService( /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(target, model, modelService, toDispose) {\n      var type, cell;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              type = target.type, cell = target.cell;\n              console.log(type);\n              _context.t0 = type;\n              _context.next = _context.t0 === \'node\' ? 5 : _context.t0 === \'edge\' ? 7 : _context.t0 === \'blank\' ? 9 : 11;\n              break;\n\n            case 5:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsMenuItemConfig.DELETE_NODE, NsMenuItemConfig.RENAME_NODE]\n              });\n              return _context.abrupt("break", 13);\n\n            case 7:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsMenuItemConfig.DELETE_EDGE]\n              });\n              return _context.abrupt("break", 13);\n\n            case 9:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsMenuItemConfig.EMPTY_MENU]\n              });\n              return _context.abrupt("break", 13);\n\n            case 11:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsMenuItemConfig.EMPTY_MENU]\n              });\n              return _context.abrupt("break", 13);\n\n            case 13:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2, _x3, _x4) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n});\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/SaveOutlined.js + 1 modules\nvar SaveOutlined = __webpack_require__("GcFv");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/ClearOutlined.js + 1 modules\nvar ClearOutlined = __webpack_require__("NoQU");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/config-toolbar.ts\n\n\n\n\n\nvar NSToolbarConfig;\n\n(function (_NSToolbarConfig) {\n  es["o" /* IconStore */].set(\'SaveOutlined\', SaveOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'ClearOutlined\', ClearOutlined["a" /* default */]);\n\n  var getMenuOptions = _NSToolbarConfig.getMenuOptions = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3() {\n    var options;\n    return regenerator_default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            options = [{\n              name: \'firstGroup\',\n              items: [{\n                iconName: \'ClearOutlined\',\n                id: CustomCommands.CLEAR_GRAPH.id,\n                text: CustomCommands.CLEAR_GRAPH.label,\n                onClick: _ref4 => {\n                  var commandService = _ref4.commandService;\n                  commandService.executeCommand(CustomCommands.CLEAR_GRAPH.id, {});\n                }\n              }, {\n                iconName: \'SaveOutlined\',\n                id: CustomCommands.EXPORT_GRAPH.id,\n                text: CustomCommands.EXPORT_GRAPH.label,\n                onClick: _ref5 => {\n                  var commandService = _ref5.commandService;\n                  commandService.executeCommand(CustomCommands.EXPORT_GRAPH.id, {});\n                }\n              }]\n            }];\n            return _context3.abrupt("return", options);\n\n          case 2:\n          case "end":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n})(NSToolbarConfig || (NSToolbarConfig = {}));\n\nvar useToolbarConfig = Object(es["M" /* createToolbarConfig */])(toolbarConfig => {\n  /** \u751f\u4ea7 toolbar item */\n  toolbarConfig.setToolbarModelService( /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(toolbarModel) {\n      var updateToolbarModel;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              updateToolbarModel = /*#__PURE__*/function () {\n                var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n                  var toolbarItems;\n                  return regenerator_default.a.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return NSToolbarConfig.getMenuOptions();\n\n                        case 2:\n                          toolbarItems = _context.sent;\n                          toolbarModel.setValue(toolbar => {\n                            toolbar.mainGroups = toolbarItems;\n                          });\n\n                        case 4:\n                        case "end":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function updateToolbarModel() {\n                  return _ref2.apply(this, arguments);\n                };\n              }();\n\n              updateToolbarModel();\n\n            case 2:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n});\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/config-keybinding.ts\n\n\n\n\nvar useKeybindingConfig = Object(es["K" /* createKeybindingConfig */])(config => {\n  // delete\n  config.setKeybindingFunc(regsitry => {\n    return regsitry.registerKeybinding([{\n      id: \'delete node or edge\',\n      keybinding: \'backspace\',\n      callback: function () {\n        var _callback = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(item, modelService, cmd, e) {\n          var cells;\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return es["r" /* MODELS */].SELECTED_CELLS.useValue(modelService);\n\n                case 2:\n                  cells = _context.sent;\n                  cells.map(cell => {\n                    if (cell.isNode()) {\n                      return cmd.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                        nodeConfig: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, cell.getData()), {}, {\n                          id: cell.id\n                        })\n                      });\n                    }\n\n                    if (cell.isEdge()) {\n                      return cmd.executeCommand(es["C" /* XFlowEdgeCommands */].DEL_EDGE.id, {\n                        edgeConfig: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, cell.getData()), {}, {\n                          id: cell.id\n                        })\n                      });\n                    }\n                  });\n\n                case 4:\n                case "end":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function callback(_x, _x2, _x3, _x4) {\n          return _callback.apply(this, arguments);\n        }\n\n        return callback;\n      }()\n    }, {\n      id: \'copy\',\n      keybinding: [\'command+c\', \'ctrl+c\'],\n      callback: function () {\n        var _callback2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(item, modelService, cmd, e) {\n          return regenerator_default.a.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  e.preventDefault();\n                  console.log(item);\n                  cmd.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_COPY.id, {});\n\n                case 3:\n                case "end":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        function callback(_x5, _x6, _x7, _x8) {\n          return _callback2.apply(this, arguments);\n        }\n\n        return callback;\n      }()\n    }, {\n      id: \'paste\',\n      keybinding: [\'command+v\', \'ctrl+v\'],\n      callback: function () {\n        var _callback3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(item, ctx, cmd, e) {\n          return regenerator_default.a.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  e.preventDefault();\n                  cmd.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_PASTE.id, {});\n\n                case 2:\n                case "end":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3);\n        }));\n\n        function callback(_x9, _x10, _x11, _x12) {\n          return _callback3.apply(this, arguments);\n        }\n\n        return callback;\n      }()\n    }, {\n      id: \'undo\',\n      keybinding: [\'meta+z\', \'ctrl+z\'],\n      callback: function () {\n        var _callback4 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(item, ctx, cmd, e) {\n          return regenerator_default.a.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  e.preventDefault();\n                  cmd.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_HISTORY_UNDO.id, {});\n\n                case 2:\n                case "end":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4);\n        }));\n\n        function callback(_x13, _x14, _x15, _x16) {\n          return _callback4.apply(this, arguments);\n        }\n\n        return callback;\n      }()\n    }, {\n      id: \'redo\',\n      keybinding: [\'meta+shift+z\', \'ctrl+shift+z\'],\n      callback: function () {\n        var _callback5 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee5(item, ctx, cmd, e) {\n          return regenerator_default.a.wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  e.preventDefault();\n                  cmd.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_HISTORY_REDO.id, {});\n\n                case 2:\n                case "end":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5);\n        }));\n\n        function callback(_x17, _x18, _x19, _x20) {\n          return _callback5.apply(this, arguments);\n        }\n\n        return callback;\n      }()\n    }]);\n  });\n});\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/config-dnd-panel.tsx\n\n\n\n\n\n\n\nvar onNodeDrop = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(node, commands, contextService) {\n    var args;\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            args = {\n              nodeConfig: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, node), {}, {\n                id: Object(es["T" /* uuidv4 */])()\n              })\n            };\n            commands.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, args);\n\n          case 2:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onNodeDrop(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar treeDataService = /*#__PURE__*/function () {\n  var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(meta, contextService) {\n    return regenerator_default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt("return", [{\n              id: \'1\',\n              label: \'\u6d41\u7a0b1\',\n              des: \'\u6d41\u7a0b1\u7684\u63cf\u8ff0\',\n              parentId: \'\',\n              renderKey: DND_RENDER_ID,\n              popoverContent: /*#__PURE__*/react_default.a.createElement("div", null, " \\u6D41\\u7A0B1\\u7684\\u8BE6\\u7EC6\\u8BF4\\u660E ")\n            }, {\n              id: \'2\',\n              label: \'\u6d41\u7a0b2\',\n              des: \'\u6d41\u7a0b2\u7684\u63cf\u8ff0\',\n              parentId: \'\',\n              renderKey: DND_RENDER_ID,\n              popoverContent: /*#__PURE__*/react_default.a.createElement("div", null, " \\u6D41\\u7A0B2\\u7684\\u8BE6\\u7EC6\\u8BF4\\u660E ")\n            }, {\n              id: \'3\',\n              label: \'\u6d41\u7a0b3\',\n              des: \'\u6d41\u7a0b3\u7684\u63cf\u8ff0\',\n              parentId: \'\',\n              renderKey: DND_RENDER_ID,\n              popoverContent: /*#__PURE__*/react_default.a.createElement("div", null, " \\u6D41\\u7A0B3\\u7684\\u8BE6\\u7EC6\\u8BF4\\u660E ")\n            }, {\n              id: \'4\',\n              label: \'\u6d41\u7a0b4\',\n              des: \'\u6d41\u7a0b4\u7684\u63cf\u8ff0\',\n              parentId: \'\',\n              renderKey: DND_RENDER_ID,\n              popoverContent: /*#__PURE__*/react_default.a.createElement("div", null, " \\u6D41\\u7A0B4\\u7684\\u8BE6\\u7EC6\\u8BF4\\u660E ")\n            }]);\n\n          case 1:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function treeDataService(_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar searchService = /*#__PURE__*/function () {\n  var _ref3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3() {\n    var treeNodeList,\n        keyword,\n        list,\n        _args3 = arguments;\n    return regenerator_default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            treeNodeList = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : [];\n            keyword = _args3.length > 1 ? _args3[1] : undefined;\n            list = treeNodeList.filter(i => i.isDirectory || i.label.includes(keyword));\n            console.log(list, keyword, treeNodeList);\n            return _context3.abrupt("return", list);\n\n          case 5:\n          case "end":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function searchService() {\n    return _ref3.apply(this, arguments);\n  };\n}();\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/form-controls/custom-editor.tsx\n\n\n\n\n\nvar EditorShape = props => {\n  var controlSchema = props.controlSchema;\n  var required = controlSchema.required,\n      tooltip = controlSchema.tooltip,\n      extra = controlSchema.extra,\n      name = controlSchema.name,\n      label = controlSchema.label,\n      placeholder = controlSchema.placeholder;\n  return /*#__PURE__*/react_default.a.createElement(es["m" /* FormItemWrapper */], {\n    schema: controlSchema\n  }, _ref => {\n    var disabled = _ref.disabled,\n        hidden = _ref.hidden,\n        initialValue = _ref.initialValue;\n    return /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */].Item, {\n      name: name,\n      label: label,\n      initialValue: initialValue,\n      tooltip: tooltip,\n      extra: extra,\n      required: required,\n      hidden: hidden\n    }, /*#__PURE__*/react_default.a.createElement(Editor, {\n      controlSchema: controlSchema,\n      placeholder: placeholder,\n      disabled: disabled\n    }));\n  });\n};\n\nvar Editor = props => {\n  var placeholder = props.placeholder,\n      disabled = props.disabled,\n      onChange = props.onChange,\n      value = props.value;\n\n  var _usePanelContext = Object(es["R" /* usePanelContext */])(),\n      commandService = _usePanelContext.commandService,\n      modelService = _usePanelContext.modelService;\n\n  react_default.a.useEffect(() => {\n    commandService.executeCommand(es["D" /* XFlowGraphCommands */].SAVE_GRAPH_DATA.id, {\n      saveGraphDataService: function () {\n        var _saveGraphDataService = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(meta, graph) {\n          var nodes;\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return es["r" /* MODELS */].SELECTED_NODES.useValue(modelService);\n\n                case 2:\n                  nodes = _context.sent;\n                  console.log(nodes);\n                  /** \u62ff\u5230\u6570\u636e\uff0c\u89e6\u53d1onChange*/\n\n                  onChange(JSON.stringify(graph));\n                  return _context.abrupt("return", {\n                    err: null,\n                    data: graph,\n                    meta\n                  });\n\n                case 6:\n                case "end":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function saveGraphDataService(_x, _x2) {\n          return _saveGraphDataService.apply(this, arguments);\n        }\n\n        return saveGraphDataService;\n      }()\n    });\n  });\n  return /*#__PURE__*/react_default.a.createElement(input["a" /* default */].TextArea, {\n    value: value,\n    placeholder: placeholder,\n    disabled: disabled,\n    rows: 10\n  });\n};\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/form-controls/link.tsx\n\nvar LinkShape = props => {\n  var controlSchema = props.controlSchema;\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    style: {\n      padding: \'8px 0px\',\n      marginBottom: \'8px\'\n    }\n  }, /*#__PURE__*/react_default.a.createElement("a", {\n    href: controlSchema.value,\n    target: "_blank"\n  }, controlSchema.label));\n};\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/form-controls/index.tsx\n\n\n/** \u81ea\u5b9a\u4e49form\u63a7\u4ef6 */\n\nvar ControlShapeEnum;\n\n(function (ControlShapeEnum) {\n  ControlShapeEnum["EDITOR"] = "EDITOR";\n  ControlShapeEnum["LINKSHAPE"] = "LINKSHAPE";\n})(ControlShapeEnum || (ControlShapeEnum = {}));\n\nvar controlMapService = controlMap => {\n  controlMap.set(ControlShapeEnum.EDITOR, EditorShape);\n  controlMap.set(ControlShapeEnum.LINKSHAPE, LinkShape);\n  return controlMap;\n};\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/config-form.tsx\n\n\n\n\nfunction delay(ms) {\n  return new Promise(resolve => setTimeout(() => resolve(true), ms));\n}\nvar i = 0;\nvar formSchemaService = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(args) {\n    var targetData, modelService, targetType, graphMeta, nodeSchema;\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            targetData = args.targetData, modelService = args.modelService, targetType = args.targetType;\n            /** \u53ef\u4ee5\u4f7f\u7528\u83b7\u53d6 graphMeta */\n\n            _context.next = 3;\n            return es["r" /* MODELS */].GRAPH_META.useValue(modelService);\n\n          case 3:\n            graphMeta = _context.sent;\n            console.log(\'formSchemaService\', graphMeta, args);\n\n            if (!(targetType === \'canvas\')) {\n              _context.next = 7;\n              break;\n            }\n\n            return _context.abrupt("return", {\n              tabs: [{\n                name: \'GraphMeta\',\n                groups: []\n              }]\n            });\n\n          case 7:\n            nodeSchema = {\n              tabs: [{\n                name: \'Tab1\',\n                groups: [{\n                  name: \'groupName\',\n                  controls: [{\n                    label: \'GraphEditor\',\n                    name: \'Tab1-0\',\n\n                    /** \u4f7f\u7528\u81ea\u5b9a\u4e49shape */\n                    shape: ControlShapeEnum.EDITOR,\n                    disabled: false,\n                    required: true,\n                    tooltip: \'hello world\',\n                    placeholder: \'please write something\',\n                    value: \'\',\n                    defaultValue: \'\',\n                    // \u53ef\u4ee5\u8ba4\u4e3a\u662f\u9ed8\u8ba4\u503c\n                    hidden: false,\n                    options: [{\n                      title: \'\',\n                      value: \'\'\n                    }],\n                    originData: {} // \u539f\u59cb\u6570\u636e\n\n                  }, {\n                    label: \'Link\',\n                    name: \'Tab1-1\',\n\n                    /** \u4f7f\u7528\u81ea\u5b9a\u4e49shape */\n                    shape: ControlShapeEnum.LINKSHAPE,\n                    disabled: false,\n                    required: true,\n                    tooltip: \'hello world\',\n                    extra: \'hello world extra\',\n                    placeholder: \'please write something\',\n                    value: \'\',\n                    defaultValue: \'\',\n                    // \u53ef\u4ee5\u8ba4\u4e3a\u662f\u9ed8\u8ba4\u503c\n                    hidden: false,\n                    options: [{\n                      title: \'\',\n                      value: \'\'\n                    }],\n                    originData: {} // \u539f\u59cb\u6570\u636e\n\n                  }, {\n                    label: \'Tab1-2\',\n                    name: \'Tab1-2\',\n                    // \u4e5f\u53ef\u4ee5\u662f\u6570\u7ec4\n                    shape: \'Input\',\n                    disabled: false,\n                    required: true,\n                    tooltip: \'hello world\',\n                    extra: \'hello world extra\',\n                    placeholder: \'please write something\',\n                    value: \'\',\n                    defaultValue: \'\',\n                    // \u53ef\u4ee5\u8ba4\u4e3a\u662f\u9ed8\u8ba4\u503c\n                    hidden: false,\n                    options: [{\n                      title: \'\',\n                      value: \'\'\n                    }],\n                    originData: {} // \u539f\u59cb\u6570\u636e\n\n                  }, {\n                    label: \'Tab1-3\',\n                    name: \'Tab1-3\',\n                    // \u4e5f\u53ef\u4ee5\u662f\u6570\u7ec4\n                    shape: \'Input\',\n                    disabled: false,\n                    required: true,\n                    tooltip: \'hello world\',\n                    extra: \'hello world extra\',\n                    placeholder: \'please write something\',\n                    value: \'\',\n                    defaultValue: \'\',\n                    // \u53ef\u4ee5\u8ba4\u4e3a\u662f\u9ed8\u8ba4\u503c\n                    hidden: false,\n                    options: [{\n                      title: \'\',\n                      value: \'\'\n                    }],\n                    originData: {} // \u539f\u59cb\u6570\u636e\n\n                  }, {\n                    label: \'Tab1-4\',\n                    name: \'Tab1-4\',\n                    // \u4e5f\u53ef\u4ee5\u662f\u6570\u7ec4\n                    shape: \'Input\',\n                    disabled: false,\n                    required: true,\n                    tooltip: \'hello world\',\n                    extra: \'hello world extra\',\n                    placeholder: \'please write something\',\n                    value: \'\',\n                    defaultValue: \'\',\n                    // \u53ef\u4ee5\u8ba4\u4e3a\u662f\u9ed8\u8ba4\u503c\n                    hidden: false,\n                    options: [{\n                      title: \'\',\n                      value: \'\'\n                    }],\n                    originData: {} // \u539f\u59cb\u6570\u636e\n\n                  }]\n                }]\n              }, {\n                name: \'Tab2\',\n                groups: [{\n                  name: \'groupName\',\n                  controls: [{\n                    name: \'Tab2-1\',\n                    // \u4e5f\u53ef\u4ee5\u662f\u6570\u7ec4\n                    label: \'Tab2-1\',\n                    shape: \'Input\',\n                    disabled: false,\n                    required: true,\n                    tooltip: \'hello world\',\n                    extra: \'hello world extra\',\n                    placeholder: \'please write something\',\n                    value: \'\',\n                    defaultValue: \'\',\n                    // \u53ef\u4ee5\u8ba4\u4e3a\u662f\u9ed8\u8ba4\u503c\n                    hidden: false,\n                    options: [{\n                      title: \'\',\n                      value: \'\'\n                    }],\n                    originData: {} // \u539f\u59cb\u6570\u636e\n\n                  }, {\n                    label: \'Tab2-2\',\n                    name: \'Tab2-2\',\n                    // \u4e5f\u53ef\u4ee5\u662f\u6570\u7ec4\n                    shape: \'Input\',\n                    disabled: false,\n                    required: true,\n                    tooltip: \'hello world\',\n                    extra: \'hello world extra\',\n                    placeholder: \'please write something\',\n                    value: \'\',\n                    defaultValue: \'\',\n                    // \u53ef\u4ee5\u8ba4\u4e3a\u662f\u9ed8\u8ba4\u503c\n                    hidden: false,\n                    options: [{\n                      title: \'\',\n                      value: \'\'\n                    }],\n                    originData: {} // \u539f\u59cb\u6570\u636e\n\n                  }, {\n                    label: \'Tab2-3\',\n                    name: \'Tab2-3\',\n                    // \u4e5f\u53ef\u4ee5\u662f\u6570\u7ec4\n                    shape: \'Input\',\n                    disabled: false,\n                    required: true,\n                    tooltip: \'hello world\',\n                    extra: \'hello world extra\',\n                    placeholder: \'please write something\',\n                    value: \'\',\n                    defaultValue: \'\',\n                    // \u53ef\u4ee5\u8ba4\u4e3a\u662f\u9ed8\u8ba4\u503c\n                    hidden: false,\n                    options: [{\n                      title: \'\',\n                      value: \'\'\n                    }],\n                    originData: {} // \u539f\u59cb\u6570\u636e\n\n                  }]\n                }]\n              }]\n            };\n            _context.next = 10;\n            return delay(100);\n\n          case 10:\n            if (!(targetData && i === 0)) {\n              _context.next = 13;\n              break;\n            }\n\n            i = 1;\n            return _context.abrupt("return", nodeSchema);\n\n          case 13:\n            if (!targetData) {\n              _context.next = 16;\n              break;\n            }\n\n            i = 0;\n            return _context.abrupt("return", {\n              tabs: [{\n                name: \'Tab3\',\n                groups: []\n              }]\n            });\n\n          case 16:\n            if (!targetData) {\n              _context.next = 18;\n              break;\n            }\n\n            return _context.abrupt("return", nodeSchema);\n\n          case 18:\n            return _context.abrupt("return", {\n              tabs: []\n            });\n\n          case 19:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function formSchemaService(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar formValueUpdateService = /*#__PURE__*/function () {\n  var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(args) {\n    return regenerator_default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            console.log(\'formValueUpdateService\', args);\n\n          case 1:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function formValueUpdateService(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n// EXTERNAL MODULE: ./docs/tutorial/solutions/flow/demos/basic/index.less\nvar basic = __webpack_require__("Sdfl");\n\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/flow/demos/basic/index.tsx\n\n\n\n/** app \u6838\u5fc3\u7ec4\u4ef6 */\n\n\n/** \u4ea4\u4e92\u7ec4\u4ef6 */\n\n\n/** app \u7ec4\u4ef6\u914d\u7f6e  */\n\n/** \u914d\u7f6e\u753b\u5e03 */\n\n\n/** \u914d\u7f6eCommand */\n\n\n/** \u914d\u7f6eModel */\n\n\n/** \u914d\u7f6eMenu */\n\n\n/** \u914d\u7f6eToolbar */\n\n\n/** \u914d\u7f6e\u5feb\u6377\u952e */\n\n\n/** \u914d\u7f6eDnd\u7ec4\u4ef6\u9762\u677f */\n\n\n/** \u914d\u7f6eJsonConfigForm */\n\n\n\n\nvar Demo = props => {\n  var meta = props.meta;\n  var graphConfig = useGraphConfig();\n  var toolbarConfig = useToolbarConfig();\n  var menuConfig = useMenuConfig();\n  var cmdConfig = useCmdConfig();\n  var modelConfig = useModelServiceConfig();\n  var keybindingConfig = useKeybindingConfig();\n  var cache = react_default.a.useMemo(() => ({\n    app: null\n  }), []);\n  /**\n   * @param app \u5f53\u524dXFlow\u5de5\u4f5c\u7a7a\u95f4\n   * @param extensionRegistry \u5f53\u524dXFlow\u914d\u7f6e\u9879\n   */\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              cache.app = app;\n              initGraphCmds(cache.app);\n\n            case 2:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  /** \u7236\u7ec4\u4ef6meta\u5c5e\u6027\u66f4\u65b0\u65f6,\u6267\u884cinitGraphCmds */\n\n\n  react_default.a.useEffect(() => {\n    if (cache.app) {\n      initGraphCmds(cache.app);\n    }\n  }, [cache.app, meta]);\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    className: "user-custom-clz",\n    modelServiceConfig: modelConfig,\n    commandConfig: cmdConfig,\n    onLoad: onLoad,\n    meta: meta\n  }, /*#__PURE__*/react_default.a.createElement(es["k" /* FlowGraphExtension */], null), /*#__PURE__*/react_default.a.createElement(es["u" /* NodeTreePanel */], {\n    searchService: searchService,\n    treeDataService: treeDataService,\n    onNodeDrop: onNodeDrop,\n    position: {\n      width: 290,\n      top: 0,\n      bottom: 0,\n      left: 0\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["f" /* CanvasToolbar */], {\n    className: "xflow-workspace-toolbar-top",\n    layout: "horizontal",\n    config: toolbarConfig,\n    position: {\n      top: 0,\n      left: 290,\n      right: 290,\n      bottom: 0\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 40,\n      left: 290,\n      right: 290,\n      bottom: 40\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es["d" /* CanvasScaleToolbar */], {\n    position: {\n      top: 12,\n      right: 12\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["a" /* CanvasContextMenu */], {\n    config: menuConfig\n  }), /*#__PURE__*/react_default.a.createElement(es["b" /* CanvasMiniMap */], null), /*#__PURE__*/react_default.a.createElement(es["e" /* CanvasSnapline */], {\n    color: "#faad14"\n  }), /*#__PURE__*/react_default.a.createElement(es["c" /* CanvasNodePortTooltip */], null)), /*#__PURE__*/react_default.a.createElement(es["x" /* WorkspacePanel */], {\n    className: "xflow-workspace-toolbar-bottom",\n    position: {\n      bottom: 0,\n      left: 290,\n      right: 290,\n      height: 40,\n      lineHeight: 40\n    }\n  }, /*#__PURE__*/react_default.a.createElement("div", null, " Bottom Toolbar ")), /*#__PURE__*/react_default.a.createElement(es["p" /* JsonSchemaForm */], {\n    controlMapService: controlMapService,\n    formSchemaService: formSchemaService,\n    formValueUpdateService: formValueUpdateService,\n    position: {\n      width: 290,\n      top: 0,\n      bottom: 0,\n      right: 0\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["q" /* KeyBindings */], {\n    config: keybindingConfig\n  }));\n};\n/* harmony default export */ var demos_basic = __webpack_exports__["default"] = (Demo);\nDemo.defaultProps = {\n  meta: {\n    flowId: \'test-meta-flow-id\'\n  }\n};\n\n//# sourceURL=webpack:///./docs/tutorial/solutions/flow/demos/basic/index.tsx_+_19_modules?')},Rt7r:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js + 1 modules\nvar PlusCircleOutlined = __webpack_require__("Uhj0");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/DeleteOutlined.js + 1 modules\nvar DeleteOutlined = __webpack_require__("UmCv");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/SaveOutlined.js + 1 modules\nvar SaveOutlined = __webpack_require__("GcFv");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/popconfirm/index.js\nvar popconfirm = __webpack_require__("NjSG");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-toolbar/demos/toolbar-render-item/toolbar-config.tsx\n\n\n\n\n\n\n\nvar NSToolbarConfig;\n\n(function (_NSToolbarConfig) {\n  /** \u6ce8\u518cicon \u7c7b\u578b */\n  es["o" /* IconStore */].set(\'PlusCircleOutlined\', PlusCircleOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'DeleteOutlined\', DeleteOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'SaveOutlined\', SaveOutlined["a" /* default */]);\n\n  var getToolbarItems = _NSToolbarConfig.getToolbarItems = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2() {\n    var textToolbarGroup, iconToolbarGroup;\n    return regenerator_default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            textToolbarGroup = [];\n            iconToolbarGroup = [];\n            /** \u4fdd\u5b58\u6570\u636e */\n\n            /** \u4fdd\u5b58\u6570\u636e */\n            textToolbarGroup.push({\n              id: es["F" /* XFlowNodeCommands */].MOVE_NODE.id + \'text only\',\n              text: \'\u6dfb\u52a0\u8282\u70b9\',\n              tooltip: \'\u6dfb\u52a0\u8282\u70b9\uff0ctext=\u6dfb\u52a0\u8282\u70b9, group1\'\n            });\n            textToolbarGroup.push({\n              id: es["F" /* XFlowNodeCommands */].MOVE_NODE.id + \'text\',\n              iconName: \'PlusCircleOutlined\',\n              text: \'\u6dfb\u52a0\u8282\u70b9\',\n              tooltip: \'\u6dfb\u52a0\u8282\u70b9\uff0ctext + iconName, group1 \'\n            });\n            iconToolbarGroup.push({\n              id: es["F" /* XFlowNodeCommands */].ADD_NODE.id + \'iconName\',\n              iconName: \'PlusCircleOutlined\',\n              tooltip: \'\u6dfb\u52a0\u8282\u70b9\uff0c\u53ea\u914d\u7f6e iconName=PlusCircleOutlined, group2  \'\n            });\n            iconToolbarGroup.push({\n              id: es["F" /* XFlowNodeCommands */].MOVE_NODE.id + \'tooltip\',\n              iconName: \'PlusCircleOutlined\',\n              tooltip: \'\u6dfb\u52a0\u8282\u70b9\uff0c tooltip \u914d\u7f6e, group2\'\n            });\n            iconToolbarGroup.push({\n              id: es["F" /* XFlowNodeCommands */].MOVE_NODE.id + \'disabled\',\n              iconName: \'PlusCircleOutlined\',\n              tooltip: \'\u6dfb\u52a0\u8282\u70b9\uff0c isEnabled=false, group2\',\n              isEnabled: false\n            });\n            iconToolbarGroup.push({\n              id: es["F" /* XFlowNodeCommands */].MOVE_NODE.id + \'visible\',\n              iconName: \'PlusCircleOutlined\',\n              tooltip: \'\u6dfb\u52a0\u8282\u70b9 isVisible=true, group2\',\n              isVisible: false\n            });\n            iconToolbarGroup.push({\n              id: es["F" /* XFlowNodeCommands */].MOVE_NODE.id + \'active\',\n              iconName: \'PlusCircleOutlined\',\n              tooltip: \'\u6dfb\u52a0\u8282\u70b9 active=true, group2\',\n              active: true\n            });\n            iconToolbarGroup.push({\n              id: es["F" /* XFlowNodeCommands */].MOVE_NODE.id + \'custom render\',\n              iconName: \'PlusCircleOutlined\',\n              tooltip: \'\u6dfb\u52a0\u8282\u70b9 \u81ea\u5b9a\u4e49\u6e32\u67d3\u6dfb\u52a0\u4e00\u4e2aPopconfirm, group2\',\n              onClick: args => {\n                console.log(\'toolbar onClick args\', args);\n              },\n              render: props => {\n                return /*#__PURE__*/react_default.a.createElement(popconfirm["a" /* default */], {\n                  title: "are you sure",\n                  onConfirm: () => {\n                    props.onClick();\n                  }\n                }, props.children);\n              }\n            });\n            return _context2.abrupt("return", [{\n              name: \'textToolbarGroup\',\n              items: textToolbarGroup\n            }, {\n              name: \'iconToolbarGroup\',\n              items: iconToolbarGroup\n            }]);\n\n          case 11:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  var getExtraToolbarItems = _NSToolbarConfig.getExtraToolbarItems = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3() {\n    var toolbarGroup;\n    return regenerator_default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            toolbarGroup = [];\n            /** \u4fdd\u5b58\u6570\u636e */\n\n            /** \u4fdd\u5b58\u6570\u636e */\n            toolbarGroup.push({\n              id: es["F" /* XFlowNodeCommands */].MOVE_NODE.id + \'text only\',\n              text: \'\u6dfb\u52a0\u8282\u70b9\',\n              tooltip: \'\u6dfb\u52a0\u8282\u70b9\uff0c\u914d\u7f6eextraGroups\'\n            });\n            return _context3.abrupt("return", [{\n              name: \'extra\',\n              items: toolbarGroup\n            }]);\n\n          case 3:\n          case "end":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n})(NSToolbarConfig || (NSToolbarConfig = {}));\n\nvar useToolbarConfig = Object(es["M" /* createToolbarConfig */])(toolbarConfig => {\n  /** \u751f\u4ea7 toolbar item */\n  toolbarConfig.setToolbarModelService( /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(toolbarModel) {\n      var toolbarItems, extraToolbarItems;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return NSToolbarConfig.getToolbarItems();\n\n            case 2:\n              toolbarItems = _context.sent;\n              _context.next = 5;\n              return NSToolbarConfig.getExtraToolbarItems();\n\n            case 5:\n              extraToolbarItems = _context.sent;\n              toolbarModel.setValue(toolbar => {\n                toolbar.mainGroups = toolbarItems;\n                toolbar.extraGroups = extraToolbarItems;\n              });\n\n            case 7:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n});\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-toolbar/demos/toolbar-render-item/index.less\nvar toolbar_render_item = __webpack_require__("TFew");\n\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-toolbar/demos/toolbar-render-item/index.tsx\n\n\n\n/**\n * title: \u5de5\u5177\u680f\u914d\u7f6e\n * desc: \u652f\u6301text/iconName/tooltip/isEnable/isDisable/active/onClick/render\u5c5e\u6027\u6765\u914d\u7f6eToolbar\n */\n\n\n\n\n\n/**  Demo Props  */\n\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  var toolbarConfig = useToolbarConfig(props);\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(app);\n\n            case 1:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["f" /* CanvasToolbar */], {\n    layout: "horizontal",\n    config: toolbarConfig,\n    position: {\n      top: 0,\n      left: 0,\n      right: 0,\n      height: 40\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 40,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n  }));\n};\n\n/* harmony default export */ var demos_toolbar_render_item = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-toolbar/demos/toolbar-render-item/index.tsx_+_1_modules?')},S1za:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/lodash/lodash.js\nvar lodash = __webpack_require__("nsO7");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/custom-render/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/custom-render/graph-config.tsx\n\n\n\n\nvar onLoad = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n    var res, _res$contextProvider$, graphData;\n\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n              layoutType: \'dagre\',\n              layoutOptions: {\n                type: \'dagre\',\n\n                /** \u5e03\u5c40\u65b9\u5411 */\n                rankdir: \'TB\',\n\n                /** \u8282\u70b9\u95f4\u8ddd */\n                nodesep: 60,\n\n                /** \u5c42\u95f4\u8ddd */\n                ranksep: 30\n              },\n              graphData: getGraphData()\n            });\n\n          case 2:\n            res = _context.sent;\n            _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n            _context.next = 6;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n              graphData: graphData\n            });\n\n          case 6:\n            _context.next = 8;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n              factor: \'real\'\n            });\n\n          case 8:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onLoad(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/custom-render/index.less\nvar custom_render = __webpack_require__("CSKL");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/custom-render/index.tsx\n\n\n\n\n/**\n * title: \u81ea\u5b9a\u4e49\u6e32\u67d3\n * desc: |\n *   \u652f\u6301\u4f7f\u7528\u81ea\u5b9a\u4e49\u6e32\u67d3\u6765\u652f\u6301\u66f4\u590d\u6742\u7684\u4e1a\u52a1\u573a\u666f <br>\n *   \u914d\u7f6e\u4e00\u4e2a\u51fd\u6570\u51b3\u5b9a\u662f\u5426\u7528\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u4ee3\u66ffform\u7684\u6e32\u67d3 <br>\n */\n\n\n\n\n\n\n/**  Demo Props  */\n\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\nvar NsJsonForm;\n\n(function (_NsJsonForm) {\n  /** ControlShape\u7684Enum */\n  var ControlShape = es["w" /* NsJsonSchemaForm */].ControlShape;\n  /** \u4fdd\u5b58form\u7684values */\n\n  var formValueUpdateService = _NsJsonForm.formValueUpdateService = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(args) {\n      var values, commandService, targetData, updateNode, nodeConfig;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              values = args.values, commandService = args.commandService, targetData = args.targetData;\n\n              updateNode = node => {\n                return commandService.executeCommand(es["F" /* XFlowNodeCommands */].UPDATE_NODE.id, {\n                  nodeConfig: node\n                });\n              };\n\n              console.log(\'formValueUpdateService  values:\', values);\n              nodeConfig = Object(objectSpread2["a" /* default */])({}, targetData);\n              values.forEach(val => {\n                Object(lodash["set"])(nodeConfig, val.name, val.value);\n              });\n              updateNode(nodeConfig);\n\n            case 6:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var getCustomRenderComponent = _NsJsonForm.getCustomRenderComponent = (targetType, targetData) => {\n    console.log(targetType, targetData);\n\n    if (targetType === \'node\') {\n      return () => /*#__PURE__*/react_default.a.createElement("div", {\n        className: "custom-form-component"\n      }, " node: ", targetData.label, " custom componnet ");\n    }\n\n    if (targetType === \'canvas\') {\n      return () => /*#__PURE__*/react_default.a.createElement("div", {\n        className: "custom-form-component"\n      }, " canvas custom componnet ");\n    }\n  };\n\n  var formSchemaService = _NsJsonForm.formSchemaService = /*#__PURE__*/function () {\n    var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(args) {\n      var targetData;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              targetData = args.targetData;\n              console.log("formSchemaService args:", args);\n\n              if (targetData) {\n                _context2.next = 4;\n                break;\n              }\n\n              return _context2.abrupt("return", {\n                tabs: [{\n                  /** Tab\u7684title */\n                  name: \'\u753b\u5e03\u914d\u7f6e\',\n                  groups: []\n                }]\n              });\n\n            case 4:\n              return _context2.abrupt("return", {\n                /** \u914d\u7f6e\u4e00\u4e2aTab */\n                tabs: [{\n                  /** Tab\u7684title */\n                  name: \'\u8282\u70b9\u914d\u7f6e\',\n                  groups: [{\n                    name: \'group1\',\n                    controls: [{\n                      name: \'label\',\n                      label: \'\u8282\u70b9Label\',\n                      shape: ControlShape.INPUT,\n                      value: targetData.label\n                    }, {\n                      name: \'x\',\n                      label: \'x\',\n                      shape: ControlShape.FLOAT,\n                      value: targetData.x\n                    }, {\n                      name: \'y\',\n                      label: \'y\',\n                      shape: ControlShape.FLOAT,\n                      value: targetData.y\n                    }]\n                  }]\n                }]\n              });\n\n            case 5:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n})(NsJsonForm || (NsJsonForm = {}));\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 290\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["p" /* JsonSchemaForm */], {\n    formSchemaService: NsJsonForm.formSchemaService,\n    getCustomRenderComponent: NsJsonForm.getCustomRenderComponent,\n    position: {\n      top: 0,\n      bottom: 0,\n      right: 0,\n      width: 290\n    }\n  }));\n};\n\n/* harmony default export */ var demos_custom_render = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-config-form/demos/custom-render/index.tsx_+_2_modules?')},TBvq:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n__webpack_require__.d(__webpack_exports__, "useKeybindingConfig", function() { return /* binding */ useKeybindingConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-keybinding/demos/command/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-keybinding/demos/command/index.less\nvar command = __webpack_require__("bIaT");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-keybinding/demos/command/index.tsx\n\n\n\n\n/**\n * title: \u89e6\u53d1Command\u547d\u4ee4\n * desc:  \u901a\u8fc7\u8c03\u7528Command\u547d\u4ee4\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u56fe\u7684\u4ea4\u4e92:\u5220\u9664(backspace)/\u590d\u5236(ctrl+c)/\u7c98\u8d34(ctrl+v)\n */\n\n\n\n\n\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n/**  keybindings  */\n\nvar useKeybindingConfig = Object(es["K" /* createKeybindingConfig */])((config, getProps) => {\n  config.setKeybindingFunc(reg => {\n    return reg.registerKeybinding([{\n      id: \'delete node or edge\',\n      keybinding: \'backspace\',\n      callback: function () {\n        var _callback = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(item, modelService, cmd, e) {\n          var cells, nodes, edges, delEdge, delNode;\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return es["r" /* MODELS */].SELECTED_CELLS.useValue(modelService);\n\n                case 2:\n                  cells = _context.sent;\n                  nodes = cells.filter(cell => cell.isEdge());\n                  edges = cells.filter(cell => cell.isNode()); // \u8c03\u7528\u5220\u9664Edge\u7684Command\n\n                  delEdge = cell => {\n                    return cmd.executeCommand(es["C" /* XFlowEdgeCommands */].DEL_EDGE.id, {\n                      edgeConfig: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, cell.getData()), {}, {\n                        id: cell.id\n                      })\n                    });\n                  }; // \u8c03\u7528\u5220\u9664Node\u7684Command\n\n\n                  delNode = cell => {\n                    return cmd.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                      nodeConfig: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, cell.getData()), {}, {\n                        id: cell.id\n                      })\n                    });\n                  };\n\n                  if (cells.length === 0) {\n                    console.warn(\'\u6ca1\u6709\u9009\u4e2d\u7684\u8282\u70b9\');\n                  } // \u5148\u5220\u9664edges\n\n\n                  _context.next = 10;\n                  return Promise.all(nodes.map(cell => delEdge(cell)));\n\n                case 10:\n                  _context.next = 12;\n                  return Promise.all(edges.map(cell => delNode(cell)));\n\n                case 12:\n                case "end":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function callback(_x, _x2, _x3, _x4) {\n          return _callback.apply(this, arguments);\n        }\n\n        return callback;\n      }()\n    }, {\n      id: \'copy\',\n      keybinding: [\'command+c\', \'ctrl+c\'],\n      callback: function () {\n        var _callback2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(item, modelService, cmd, e) {\n          return regenerator_default.a.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  e.preventDefault();\n                  console.log(item);\n                  cmd.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_COPY.id, {});\n\n                case 3:\n                case "end":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        function callback(_x5, _x6, _x7, _x8) {\n          return _callback2.apply(this, arguments);\n        }\n\n        return callback;\n      }()\n    }, {\n      id: \'paste\',\n      keybinding: [\'command+v\', \'ctrl+v\'],\n      callback: function () {\n        var _callback3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(item, modelService, cmd, e) {\n          return regenerator_default.a.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  e.preventDefault();\n                  cmd.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_PASTE.id, {});\n\n                case 2:\n                case "end":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3);\n        }));\n\n        function callback(_x9, _x10, _x11, _x12) {\n          return _callback3.apply(this, arguments);\n        }\n\n        return callback;\n      }()\n    }]);\n  });\n});\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  var keybindingConfig = useKeybindingConfig(props);\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(app) {\n      var res, _res$contextProvider$, graphData;\n\n      return regenerator_default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n                layoutType: \'dagre\',\n                layoutOptions: {\n                  type: \'dagre\',\n\n                  /** \u5e03\u5c40\u65b9\u5411 */\n                  rankdir: \'TB\',\n\n                  /** \u8282\u70b9\u95f4\u8ddd */\n                  nodesep: 60,\n\n                  /** \u5c42\u95f4\u8ddd */\n                  ranksep: 30\n                },\n                graphData: getGraphData()\n              });\n\n            case 2:\n              res = _context4.sent;\n              _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n              _context4.next = 6;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n                graphData: graphData\n              });\n\n            case 6:\n              _context4.next = 8;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n                factor: \'real\'\n              });\n\n            case 8:\n            case "end":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function onLoad(_x13) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es["q" /* KeyBindings */], {\n    config: keybindingConfig\n  })));\n};\n\n/* harmony default export */ var demos_command = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-keybinding/demos/command/index.tsx_+_1_modules?')},W3ZF:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("jem/");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__("DuHN");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__("SCaQ");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__("jMRu");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-delete/demos/form.tsx\n\n\n\n\n\n\n\nvar width = 100;\nvar height = 40;\nvar formItems = [{\n  name: \'id\',\n  label: \'node id\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */],\n  renderProps: {\n    disabled: true\n  }\n}, {\n  name: \'nodeConfig\',\n  label: \'nodeConfig\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */].TextArea,\n  renderProps: {\n    rows: 5,\n    disabled: true\n  }\n}];\nvar CmdForm = () => {\n  var app = Object(es["S" /* useXFlowApp */])();\n\n  var _Form$useForm = es_form["a" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray["a" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useModelAsync = Object(es["Q" /* useModelAsync */])({\n    getModel: function () {\n      var _getModel = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n        return regenerator_default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt("return", es["r" /* MODELS */].SELECTED_NODE.getModel(app.modelService));\n\n              case 1:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getModel() {\n        return _getModel.apply(this, arguments);\n      }\n\n      return getModel;\n    }(),\n    initialState: null\n  }),\n      _useModelAsync2 = Object(slicedToArray["a" /* default */])(_useModelAsync, 1),\n      selectNode = _useModelAsync2[0];\n\n  react_default.a.useEffect(() => {\n    if (selectNode) {\n      var node = selectNode.getData();\n      form.setFieldsValue({\n        id: node.id,\n        nodeConfig: JSON.stringify(node)\n      });\n    }\n  }, [form, selectNode]);\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(values) {\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              app.commandService.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                nodeConfig: JSON.parse(values.nodeConfig)\n              });\n              form.setFieldsValue({\n                id: null,\n                nodeConfig: null\n              });\n              message["b" /* default */].success("".concat(es["F" /* XFlowNodeCommands */].DEL_NODE.label, ": \\u547D\\u4EE4\\u6267\\u884C\\u6210\\u529F"));\n\n            case 3:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onFinish(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["l" /* FormBuilder */], {\n    layout: "vertical",\n    form: form,\n    formItems: formItems,\n    onFinish: onFinish,\n    initialValues: {\n      id: null,\n      nodeConfig: null\n    },\n    submitButton: /*#__PURE__*/react_default.a.createElement(es_button["a" /* default */], {\n      type: "primary",\n      htmlType: "submit",\n      style: {\n        width: \'100%\'\n      },\n      disabled: !selectNode\n    }, "\\u9009\\u4E2D\\u8282\\u70B9\\u6267\\u884C\\u547D\\u4EE4")\n  });\n};\nvar FormPanel = () => {\n  return /*#__PURE__*/react_default.a.createElement(es["x" /* WorkspacePanel */], {\n    position: {\n      top: 0,\n      left: 0,\n      bottom: 0,\n      width: 230\n    },\n    className: "panel"\n  }, /*#__PURE__*/react_default.a.createElement(card["a" /* default */], {\n    title: "NodeConfig Options",\n    size: "small",\n    bordered: false\n  }, /*#__PURE__*/react_default.a.createElement(CmdForm, null)));\n};\n// EXTERNAL MODULE: ./docs/api/commands/nodes/node-delete/demos/index.less\nvar demos = __webpack_require__("HbMZ");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-delete/demos/index.tsx\n\n\n\n\n\n\n/**  graphConfig hook  */\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setX6Config({\n    grid: true\n  });\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar NodeAddDemo = () => {\n  var graphConfig = useGraphConfig();\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'node1\',\n                  x: 100,\n                  y: 30,\n                  label: \'Hello World 1\',\n                  width: width,\n                  height: height\n                }\n              });\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'node2\',\n                  x: 50,\n                  y: 150,\n                  label: \'Hello World 2\',\n                  width: width,\n                  height: height\n                }\n              });\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'node3\',\n                  x: 200,\n                  y: 150,\n                  label: \'Hello World 3\',\n                  width: width,\n                  height: height\n                }\n              });\n              return _context.abrupt("return", app);\n\n            case 4:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(FormPanel, null), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    className: "app-main-content",\n    config: graphConfig,\n    position: {\n      top: 0,\n      left: 230,\n      right: 0,\n      bottom: 0\n    }\n  }));\n};\n\n/* harmony default export */ var node_delete_demos = __webpack_exports__["default"] = (NodeAddDemo);\n\n//# sourceURL=webpack:///./docs/api/commands/nodes/node-delete/demos/index.tsx_+_1_modules?')},W4te:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useGraphConfig\", function() { return useGraphConfig; });\n/* harmony import */ var _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"KOBo\");\n/* harmony import */ var _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"RY7m\");\n/* harmony import */ var _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _antv_xflow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"mqVf\");\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"wE9M\");\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_index_less__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\nvar useGraphConfig = Object(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* createGraphConfig */ \"I\"])(config => {\n  config.setX6Config({\n    grid: true\n  });\n  config.setNodeRender('NODE1', props => {\n    var _props$data;\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"react-node\"\n    }, (_props$data = props.data) === null || _props$data === void 0 ? void 0 : _props$data.info);\n  });\n});\nvar appRef;\n\nvar Demo = () => {\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(_Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(app) {\n      var nodes, edges, graphData, graphInstance;\n      return _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              appRef = app;\n              nodes = [{\n                id: 'root1',\n                x: 200,\n                y: 50,\n                width: 120,\n                height: 40,\n                renderKey: 'NODE1',\n                info: 'React\u8282\u70b91'\n              }, {\n                id: 'down1',\n                x: 550,\n                y: 50,\n                width: 120,\n                height: 40,\n                renderKey: 'NODE1',\n                info: 'React\u8282\u70b92'\n              }, {\n                id: 'down2',\n                x: 550,\n                y: 150,\n                width: 120,\n                height: 40,\n                renderKey: 'NODE1',\n                info: 'React\u8282\u70b92'\n              }];\n              edges = [{\n                id: 'root1-down1',\n                source: 'root1',\n                target: 'down1',\n                label: '1:N'\n              }, {\n                id: 'root1-down2',\n                source: 'root1',\n                target: 'down2',\n                label: 'N:N'\n              }];\n              graphData = {\n                nodes,\n                edges\n              };\n              app.executeCommand(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* XFlowGraphCommands */ \"D\"].GRAPH_RENDER.id, {\n                graphData\n              });\n              _context.next = 7;\n              return app.getGraphInstance();\n\n            case 7:\n              graphInstance = _context.sent;\n              graphInstance.on('edge:click', _ref2 => {\n                var edge = _ref2.edge;\n                var edgeData = edge === null || edge === void 0 ? void 0 : edge.getData();\n                app.executeCommand(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* XFlowEdgeCommands */ \"C\"].HIGHLIGHT_EDGE.id, {\n                  edgeId: edgeData.id,\n                  strokeColor: '#873bf4',\n                  strokeWidth: 4\n                });\n              });\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* XFlow */ \"y\"], {\n    onLoad: onLoad,\n    className: \"xflow-edge-highlight-demo\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"btn\"\n  }, '\u8bf7\u7528\u9f20\u6807\u70b9\u51fb\u8fde\u7ebf, \u4f1a\u89e6\u53d1\u8fde\u7ebf\u9ad8\u4eae'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* XFlowCanvas */ \"A\"], {\n    config: useGraphConfig()\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Demo);\n\n//# sourceURL=webpack:///./docs/api/commands/edges/edge-highlight/demos/index.tsx?")},WuEN:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n__webpack_require__.d(__webpack_exports__, "useKeybindingConfig", function() { return /* binding */ useKeybindingConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-keybinding/demos/basic/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-keybinding/demos/basic/index.less\nvar basic = __webpack_require__("FGph");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-keybinding/demos/basic/index.tsx\n\n\n\n/**\n * title: \u57fa\u7840\u4f7f\u7528\n * desc:  \u901a\u8fc7keybinding\u5b57\u6bb5\u914d\u7f6e\u952e\u76d8\u7684\u5feb\u6377\u952e\uff1ahttps://craig.is/killing/mice\n */\n\n\n\n\n\n/**  Demo Props  */\n\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n/**  keybindings  */\n\nvar useKeybindingConfig = Object(es["K" /* createKeybindingConfig */])(config => {\n  config.setKeybindingFunc(reg => {\n    return reg.registerKeybinding([{\n      id: \'basic\',\n      keybinding: [\'command+c\', \'ctrl+c\'],\n      callback: function () {\n        var _callback = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(item, modelService, cmd, e) {\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  console.log(\'keyboard event is triggered\', e);\n\n                case 1:\n                case "end":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function callback(_x, _x2, _x3, _x4) {\n          return _callback.apply(this, arguments);\n        }\n\n        return callback;\n      }()\n    }]);\n  });\n});\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  var keybindingConfig = useKeybindingConfig(props);\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(app) {\n      var res, _res$contextProvider$, graphData;\n\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n                layoutType: \'dagre\',\n                layoutOptions: {\n                  type: \'dagre\',\n\n                  /** \u5e03\u5c40\u65b9\u5411 */\n                  rankdir: \'TB\',\n\n                  /** \u8282\u70b9\u95f4\u8ddd */\n                  nodesep: 60,\n\n                  /** \u5c42\u95f4\u8ddd */\n                  ranksep: 30\n                },\n                graphData: getGraphData()\n              });\n\n            case 2:\n              res = _context2.sent;\n              _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n              _context2.next = 6;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n                graphData: graphData\n              });\n\n            case 6:\n              _context2.next = 8;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n                factor: \'real\'\n              });\n\n            case 8:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onLoad(_x5) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es["q" /* KeyBindings */], {\n    config: keybindingConfig\n  })));\n};\n\n/* harmony default export */ var demos_basic = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-keybinding/demos/basic/index.tsx_+_1_modules?')},XVLT:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("jem/");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__("DuHN");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__("SCaQ");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__("jMRu");\n\n// CONCATENATED MODULE: ./docs/api/commands/group/group-del/demos/form.tsx\n\n\n\n\n\n\n\n\nvar formItems = [{\n  name: \'id\',\n  label: \'id\',\n  rules: [{\n    required: true\n  }],\n  renderProps: {\n    disabled: true\n  },\n  render: input["a" /* default */]\n}];\nvar CmdForm = () => {\n  var app = Object(es["S" /* useXFlowApp */])();\n\n  var _Form$useForm = es_form["a" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray["a" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _React$useState = react_default.a.useState(false),\n      _React$useState2 = Object(slicedToArray["a" /* default */])(_React$useState, 2),\n      hasGroup = _React$useState2[0],\n      setGroup = _React$useState2[1];\n\n  react_default.a.useEffect(() => {\n    var setFormValue = /*#__PURE__*/function () {\n      var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n        var graph, nodes;\n        return regenerator_default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Object(es["N" /* delay */])(1000);\n\n              case 2:\n                _context.next = 4;\n                return app.getGraphInstance();\n\n              case 4:\n                graph = _context.sent;\n                nodes = graph.getCells().filter(c => c.getProp(\'isGroup\'));\n                console.log(nodes, graph.getCells());\n\n                if (nodes[0]) {\n                  form.setFieldsValue({\n                    id: nodes[0].id\n                  });\n                }\n\n              case 8:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function setFormValue() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    setFormValue();\n  }, [app, form]);\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(values) {\n      var nodeConfig;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              nodeConfig = Object(objectSpread2["a" /* default */])({}, values);\n              setGroup(true);\n              console.log(nodeConfig);\n              _context2.next = 5;\n              return app.commandService.executeCommand(es["E" /* XFlowGroupCommands */].DEL_GROUP.id, {\n                nodeConfig: nodeConfig\n              });\n\n            case 5:\n              message["b" /* default */].success("".concat(es["E" /* XFlowGroupCommands */].DEL_GROUP.label, ": \\u547D\\u4EE4\\u6267\\u884C\\u6210\\u529F"));\n\n            case 6:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onFinish(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["l" /* FormBuilder */], {\n    form: form,\n    formItems: formItems,\n    onFinish: onFinish,\n    initialValues: {\n      id: null\n    },\n    submitButton: /*#__PURE__*/react_default.a.createElement(es_button["a" /* default */], {\n      type: "primary",\n      htmlType: "submit",\n      style: {\n        width: \'100%\'\n      },\n      disabled: hasGroup\n    }, "\\u6267\\u884C\\u547D\\u4EE4")\n  });\n};\nvar FormPanel = () => {\n  return /*#__PURE__*/react_default.a.createElement(es["x" /* WorkspacePanel */], {\n    position: {\n      top: 0,\n      left: 0,\n      bottom: 0,\n      width: 230\n    },\n    className: "panel"\n  }, /*#__PURE__*/react_default.a.createElement(card["a" /* default */], {\n    title: "Group Options",\n    size: "small",\n    bordered: false\n  }, /*#__PURE__*/react_default.a.createElement(CmdForm, null)));\n};\n// CONCATENATED MODULE: ./docs/api/commands/group/group-del/demos/constant.ts\nvar DND_NODE_RENDER_ID = \'DND_NDOE\';\nvar GROUP_NODE_RENDER_ID = \'GROUP_NODE_RENDER_ID\';\nvar GROUP_COLLAPSED_SIZE = {\n  width: 160,\n  height: 40\n};\n// EXTERNAL MODULE: ./docs/api/commands/group/group-del/demos/react-node/index.less\nvar react_node = __webpack_require__("0JH4");\n\n// CONCATENATED MODULE: ./docs/api/commands/group/group-del/demos/react-node/index.tsx\n\n\nvar DndNode = props => {\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: "xflow-dnd-node"\n  }, props.data.label);\n};\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/PlusSquareOutlined.js + 1 modules\nvar PlusSquareOutlined = __webpack_require__("29vH");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/MinusSquareOutlined.js + 1 modules\nvar MinusSquareOutlined = __webpack_require__("xCK6");\n\n// EXTERNAL MODULE: ./docs/api/commands/group/group-del/demos/react-group-node/index.less\nvar react_group_node = __webpack_require__("OBe/");\n\n// CONCATENATED MODULE: ./docs/api/commands/group/group-del/demos/react-group-node/index.tsx\n\n\n\n\nvar GroupNode = props => {\n  var cell = props.cell;\n  var app = Object(es["S" /* useXFlowApp */])();\n  var isCollapse = cell.getProp(\'isCollapsed\') || false;\n\n  var onExpand = e => {\n    app.executeCommand(es["E" /* XFlowGroupCommands */].COLLAPSE_GROUP.id, {\n      nodeId: cell.id,\n      isCollapsed: false\n    });\n  };\n\n  var onCollapse = e => {\n    app.executeCommand(es["E" /* XFlowGroupCommands */].COLLAPSE_GROUP.id, {\n      nodeId: cell.id,\n      isCollapsed: true,\n      gap: 3\n    });\n  };\n\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: "xflow-group-node"\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: "xflow-group-header"\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: "header-left"\n  }, props.data.label), /*#__PURE__*/react_default.a.createElement("div", {\n    className: "header-right"\n  }, isCollapse && /*#__PURE__*/react_default.a.createElement(PlusSquareOutlined["a" /* default */], {\n    onClick: onExpand\n  }), !isCollapse && /*#__PURE__*/react_default.a.createElement(MinusSquareOutlined["a" /* default */], {\n    onClick: onCollapse\n  }))));\n};\n// CONCATENATED MODULE: ./docs/api/commands/group/group-del/demos/mock.ts\n\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 40,\n  renderKey: DND_NODE_RENDER_ID\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: [...nodes],\n    edges: edges\n  };\n};\n// CONCATENATED MODULE: ./docs/api/commands/group/group-del/demos/config-graph.tsx\n\n\n\n\n\n\n\n\nvar onLoad = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n    var res, _res$contextProvider$, graphData;\n\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n              layoutType: \'dagre\',\n              layoutOptions: {\n                type: \'dagre\',\n\n                /** \u5e03\u5c40\u65b9\u5411 */\n                rankdir: \'TB\',\n\n                /** \u8282\u70b9\u95f4\u8ddd */\n                nodesep: 60,\n\n                /** \u5c42\u95f4\u8ddd */\n                ranksep: 30\n              },\n              graphData: getGraphData()\n            });\n\n          case 2:\n            res = _context.sent;\n            _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n            _context.next = 6;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n              graphData: graphData\n            });\n\n          case 6:\n            _context.next = 8;\n            return app.executeCommand(es["E" /* XFlowGroupCommands */].ADD_GROUP.id, {\n              nodeConfig: {\n                id: \'group1\',\n                label: \'Group1\',\n                groupChildren: [\'node1\', \'node2\', \'node3\', \'node4\'],\n                isCollapsed: false,\n                renderKey: GROUP_NODE_RENDER_ID,\n                groupCollapsedSize: GROUP_COLLAPSED_SIZE\n              }\n            });\n\n          case 8:\n            _context.next = 10;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n              factor: \'real\'\n            });\n\n          case 10:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onLoad(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  /**  graphConfig\uff1a\u914d\u7f6eNode\u8282\u70b9\u7ec4\u4ef6  */\n  graphConfig.setNodeRender(DND_NODE_RENDER_ID, DndNode);\n  /**  graphConfig\uff1a\u914d\u7f6eGroup\u8282\u70b9\u7ec4\u4ef6 h  */\n\n  graphConfig.setNodeRender(GROUP_NODE_RENDER_ID, GroupNode);\n});\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// EXTERNAL MODULE: ./docs/api/commands/group/group-del/demos/index.less\nvar demos = __webpack_require__("+0cN");\n\n// CONCATENATED MODULE: ./docs/api/commands/group/group-del/demos/index.tsx\n/**\n * title: \u57fa\u7840\u4f7f\u7528\n * desc: |\n *  \u89e3\u6563\u6307\u5b9a\u7684\u7fa4\u7ec4\n */\n\n\n\n\n\n\n/**  Demo Props  */\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(FormPanel, null), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      left: 230,\n      right: 0,\n      bottom: 0\n    }\n  }));\n};\n\n/* harmony default export */ var group_del_demos = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/api/commands/group/group-del/demos/index.tsx_+_6_modules?')},Xjk0:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "Demo", function() { return /* binding */ Demo; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/constant.ts\nvar DND_RENDER_ID = \'DND_NDOE\';\nvar GROUP_NODE_RENDER_ID = \'GROUP_NODE_RENDER_ID\';\nvar NODE_WIDTH = 190;\nvar NODE_HEIGHT = 40;\n// EXTERNAL MODULE: ./docs/tutorial/solutions/dag/demos/basic/react-node/dnd-node.less\nvar dnd_node = __webpack_require__("TpJE");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/react-node/dnd-node.tsx\n\n\nvar DndNode = props => {\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: "xflow-dnd-node"\n  }, props.data.label);\n};\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/PlusSquareOutlined.js + 1 modules\nvar PlusSquareOutlined = __webpack_require__("29vH");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/MinusSquareOutlined.js + 1 modules\nvar MinusSquareOutlined = __webpack_require__("xCK6");\n\n// EXTERNAL MODULE: ./docs/tutorial/solutions/dag/demos/basic/react-node/group.less\nvar group = __webpack_require__("GYbc");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/react-node/group.tsx\n\n\n\n\nvar GroupNode = props => {\n  var cell = props.cell;\n  var app = Object(es["S" /* useXFlowApp */])();\n  var isCollapsed = props.data.isCollapsed || false;\n\n  var onExpand = e => {\n    app.executeCommand(es["E" /* XFlowGroupCommands */].COLLAPSE_GROUP.id, {\n      nodeId: cell.id,\n      isCollapsed: false,\n      collapsedSize: {\n        width: 200,\n        height: 40\n      }\n    });\n  };\n\n  var onCollapse = e => {\n    app.executeCommand(es["E" /* XFlowGroupCommands */].COLLAPSE_GROUP.id, {\n      nodeId: cell.id,\n      isCollapsed: true,\n      collapsedSize: {\n        width: 200,\n        height: 40\n      },\n      gap: 3\n    });\n  };\n\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: "xflow-group-node"\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: "xflow-group-header"\n  }, /*#__PURE__*/react_default.a.createElement("div", {\n    className: "header-left"\n  }, props.data.label), /*#__PURE__*/react_default.a.createElement("div", {\n    className: "header-right"\n  }, isCollapsed && /*#__PURE__*/react_default.a.createElement(PlusSquareOutlined["a" /* default */], {\n    onClick: onExpand\n  }), !isCollapsed && /*#__PURE__*/react_default.a.createElement(MinusSquareOutlined["a" /* default */], {\n    onClick: onCollapse\n  }))));\n};\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/config-graph.tsx\n\n\n\n\n\n\nvar useGraphHookConfig = Object(es["J" /* createHookConfig */])((config, proxy) => {\n  // \u83b7\u53d6 Props\n  var props = proxy.getValue();\n  console.log(\'get main props\', props);\n  config.setRegisterHook(hooks => {\n    var disposableList = [// \u6ce8\u518c\u589e\u52a0 react Node Render\n    hooks.reactNodeRender.registerHook({\n      name: \'add react node\',\n      handler: function () {\n        var _handler = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(renderMap) {\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  renderMap.set(DND_RENDER_ID, DndNode);\n                  renderMap.set(GROUP_NODE_RENDER_ID, GroupNode);\n\n                case 2:\n                case "end":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function handler(_x) {\n          return _handler.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    }), // \u6ce8\u518c\u589e\u52a0 graph options\n    hooks.graphOptions.registerHook({\n      name: \'custom-x6-options\',\n      // before: \'dag-extension-x6-options\',\n      handler: function () {\n        var _handler2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(options) {\n          return regenerator_default.a.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  options.grid = true;\n                  options.keyboard = {\n                    enabled: true\n                  };\n\n                case 2:\n                case "end":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        function handler(_x2) {\n          return _handler2.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    }), // \u6ce8\u518c\u589e\u52a0 graph event\n    hooks.x6Events.registerHook({\n      name: \'add node click event\',\n      handler: function () {\n        var _handler3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(events) {\n          return regenerator_default.a.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  events.push({\n                    eventName: \'node:click\',\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    callback: (e, cmds, ctx) => {// \u7ed1\u5b9a\u4e8b\u4ef6\n                    }\n                  });\n\n                case 1:\n                case "end":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3);\n        }));\n\n        function handler(_x3) {\n          return _handler3.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    })];\n    var toDispose = new es["j" /* DisposableCollection */]();\n    toDispose.pushAll(disposableList);\n    return toDispose;\n  });\n});\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/service.ts\n\n\n\n\n\n\n/** mock \u540e\u7aef\u63a5\u53e3\u8c03\u7528 */\nvar MockApi;\n\n(function (_MockApi) {\n  var NODE_COMMON_PROPS = _MockApi.NODE_COMMON_PROPS = {\n    renderKey: DND_RENDER_ID,\n    width: NODE_WIDTH,\n    height: NODE_HEIGHT\n  };\n\n  var queryGraphMeta = _MockApi.queryGraphMeta = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(args) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\'queryMeta\', args);\n              return _context.abrupt("return", Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, args), {}, {\n                flowId: args.meta.flowId\n              }));\n\n            case 2:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var loadGraphData = _MockApi.loadGraphData = /*#__PURE__*/function () {\n    var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(meta) {\n      var nodes, edges;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              nodes = [Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, NODE_COMMON_PROPS), {}, {\n                id: \'node1\',\n                label: \'\u7b97\u6cd5\u8282\u70b9-1\',\n                ports: [{\n                  id: \'node1-input-1\',\n                  type: es["v" /* NsGraph */].AnchorType.INPUT,\n                  group: es["v" /* NsGraph */].AnchorGroup.TOP,\n                  tooltip: \'\u8f93\u5165\u6869\'\n                }, {\n                  id: \'node1-output-1\',\n                  type: es["v" /* NsGraph */].AnchorType.OUTPUT,\n                  group: es["v" /* NsGraph */].AnchorGroup.BOTTOM,\n                  tooltip: \'\u8f93\u51fa\u6869\'\n                }]\n              }), Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, NODE_COMMON_PROPS), {}, {\n                id: \'node2\',\n                label: \'\u7b97\u6cd5\u8282\u70b9-2\',\n                ports: [{\n                  id: \'node2-input-1\',\n                  type: es["v" /* NsGraph */].AnchorType.INPUT,\n                  group: es["v" /* NsGraph */].AnchorGroup.TOP,\n                  tooltip: \'\u8f93\u5165\u6869\',\n                  connected: true\n                }, {\n                  id: \'node2-output-1\',\n                  type: es["v" /* NsGraph */].AnchorType.OUTPUT,\n                  group: es["v" /* NsGraph */].AnchorGroup.BOTTOM,\n                  tooltip: \'\u8f93\u51fa\u6869\'\n                }]\n              }), Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, NODE_COMMON_PROPS), {}, {\n                id: \'node3\',\n                label: \'\u7b97\u6cd5\u8282\u70b9-3\',\n                ports: [{\n                  id: \'node3-input-1\',\n                  type: es["v" /* NsGraph */].AnchorType.INPUT,\n                  group: es["v" /* NsGraph */].AnchorGroup.TOP,\n                  tooltip: \'\u8f93\u5165\u6869\',\n                  connected: true\n                }, {\n                  id: \'node3-output-1\',\n                  type: es["v" /* NsGraph */].AnchorType.OUTPUT,\n                  group: es["v" /* NsGraph */].AnchorGroup.BOTTOM,\n                  tooltip: \'\u8f93\u51fa\u6869\'\n                }]\n              }), Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, NODE_COMMON_PROPS), {}, {\n                id: \'node4\',\n                label: \'\u7b97\u6cd5\u8282\u70b9-4\',\n                ports: [{\n                  id: \'node4-input-1\',\n                  type: es["v" /* NsGraph */].AnchorType.INPUT,\n                  group: es["v" /* NsGraph */].AnchorGroup.TOP,\n                  tooltip: \'\u8f93\u5165\u6869\',\n                  connected: true\n                }, {\n                  id: \'node4-output-1\',\n                  type: es["v" /* NsGraph */].AnchorType.OUTPUT,\n                  group: es["v" /* NsGraph */].AnchorGroup.BOTTOM,\n                  tooltip: \'\u8f93\u51fa\u6869\'\n                }]\n              })];\n              edges = [{\n                id: Object(es["T" /* uuidv4 */])(),\n                source: \'node1\',\n                target: \'node2\',\n                sourcePortId: \'node1-output-1\',\n                targetPortId: \'node2-input-1\'\n              }, {\n                id: Object(es["T" /* uuidv4 */])(),\n                source: \'node1\',\n                target: \'node3\',\n                sourcePortId: \'node1-output-1\',\n                targetPortId: \'node3-input-1\'\n              }, {\n                id: Object(es["T" /* uuidv4 */])(),\n                source: \'node1\',\n                target: \'node4\',\n                sourcePortId: \'node1-output-1\',\n                targetPortId: \'node4-input-1\'\n              }];\n              return _context2.abrupt("return", {\n                nodes,\n                edges\n              });\n\n            case 3:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var saveGraphData = _MockApi.saveGraphData = /*#__PURE__*/function () {\n    var _ref3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(meta, graphData) {\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              console.log(\'saveGraphData api\', meta, graphData);\n              return _context3.abrupt("return", {\n                success: true,\n                data: graphData\n              });\n\n            case 2:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x3, _x4) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var deployDagService = _MockApi.deployDagService = /*#__PURE__*/function () {\n    var _ref4 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(meta, graphData) {\n      return regenerator_default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              console.log(\'deployService api\', meta, graphData);\n              return _context4.abrupt("return", {\n                success: true,\n                data: graphData\n              });\n\n            case 2:\n            case "end":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x5, _x6) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var addNode = _MockApi.addNode = /*#__PURE__*/function () {\n    var _ref5 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee5(args) {\n      var portItems, _args$nodeConfig, id, _args$nodeConfig$port, ports, groupChildren, nodeId, node;\n\n      return regenerator_default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              console.info(\'addNode service running, add node:\', args);\n              portItems = [{\n                type: es["v" /* NsGraph */].AnchorType.INPUT,\n                group: es["v" /* NsGraph */].AnchorGroup.TOP,\n                tooltip: \'\u8f93\u5165\u68691\'\n              }, {\n                type: es["v" /* NsGraph */].AnchorType.INPUT,\n                group: es["v" /* NsGraph */].AnchorGroup.TOP,\n                tooltip: \'\u8f93\u5165\u68692\'\n              }, {\n                type: es["v" /* NsGraph */].AnchorType.OUTPUT,\n                group: es["v" /* NsGraph */].AnchorGroup.BOTTOM,\n                tooltip: \'\u8f93\u51fa\u6869\'\n              }];\n              _args$nodeConfig = args.nodeConfig, id = _args$nodeConfig.id, _args$nodeConfig$port = _args$nodeConfig.ports, ports = _args$nodeConfig$port === void 0 ? portItems : _args$nodeConfig$port, groupChildren = _args$nodeConfig.groupChildren;\n              nodeId = id || Object(es["T" /* uuidv4 */])();\n              /** \u8fd9\u91cc\u6dfb\u52a0\u8fde\u7ebf\u6869 */\n\n              /** \u8fd9\u91cc\u6dfb\u52a0\u8fde\u7ebf\u6869 */\n              node = Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({\n                width: 190,\n                height: 40\n              }, args.nodeConfig), {}, {\n                id: nodeId,\n                ports: ports.map(port => {\n                  return Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, port), {}, {\n                    id: Object(es["T" /* uuidv4 */])()\n                  });\n                })\n              });\n              /** group\u6ca1\u6709\u94fe\u63a5\u6869 */\n\n              /** group\u6ca1\u6709\u94fe\u63a5\u6869 */\n              if (groupChildren && groupChildren.length) {\n                node.ports = [];\n              }\n\n              return _context5.abrupt("return", node);\n\n            case 7:\n            case "end":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x7) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var renameNode = _MockApi.renameNode = /*#__PURE__*/function () {\n    var _ref6 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee6(name, node, graphMeta) {\n      return regenerator_default.a.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              console.log(\'rename node\', node, name, graphMeta);\n              return _context6.abrupt("return", {\n                err: null,\n                nodeName: name\n              });\n\n            case 2:\n            case "end":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function (_x8, _x9, _x10) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var delNode = _MockApi.delNode = /*#__PURE__*/function () {\n    var _ref7 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee7(args) {\n      return regenerator_default.a.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              console.info(\'delNode service running, del node:\', args.nodeConfig.id);\n              return _context7.abrupt("return", true);\n\n            case 2:\n            case "end":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    return function (_x11) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  var addEdge = _MockApi.addEdge = /*#__PURE__*/function () {\n    var _ref8 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee8(args) {\n      var edgeConfig;\n      return regenerator_default.a.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              console.info(\'addEdge service running, add edge:\', args);\n              edgeConfig = args.edgeConfig;\n              return _context8.abrupt("return", Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, edgeConfig), {}, {\n                id: Object(es["T" /* uuidv4 */])()\n              }));\n\n            case 3:\n            case "end":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n\n    return function (_x12) {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n\n  var delEdge = _MockApi.delEdge = /*#__PURE__*/function () {\n    var _ref9 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee9(args) {\n      return regenerator_default.a.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              console.info(\'delEdge service running, del edge:\', args);\n              return _context9.abrupt("return", true);\n\n            case 2:\n            case "end":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }));\n\n    return function (_x13) {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n})(MockApi || (MockApi = {}));\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty.js\nvar initializerDefineProperty = __webpack_require__("pMbd");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor.js\nvar applyDecoratedDescriptor = __webpack_require__("8FM4");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper.js\nvar initializerWarningHelper = __webpack_require__("Tnoi");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/cmd-extensions/constants.ts\n/** \u8282\u70b9\u547d\u4ee4 */\nvar CustomCommands;\n\n(function (_CustomCommands) {\n  var category = \'\u8282\u70b9\u64cd\u4f5c\';\n  /** \u5f02\u6b65\u8bf7\u6c42demo */\n\n  var TEST_ASYNC_CMD = _CustomCommands.TEST_ASYNC_CMD = {\n    id: \'xflow:async-cmd\',\n    label: \'\u5f02\u6b65\u8bf7\u6c42\',\n    category\n  };\n  var SHOW_RENAME_MODAL = _CustomCommands.SHOW_RENAME_MODAL = {\n    id: \'xflow:rename-node-modal\',\n    label: \'\u6253\u5f00\u91cd\u547d\u540d\u5f39\u7a97\',\n    category\n  };\n  var DEPLOY_SERVICE = _CustomCommands.DEPLOY_SERVICE = {\n    id: \'xflow:deploy-service\',\n    label: \'\u90e8\u7f72\u670d\u52a1\',\n    category\n  };\n})(CustomCommands || (CustomCommands = {}));\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/cmd-extensions/cmd-async-test.ts\n\n\n\n\n\nvar _dec, _dec2, _dec3, _class, _class2, _descriptor;\n\n\n\n\nvar inject = es["s" /* ManaSyringe */].inject,\n    injectable = es["s" /* ManaSyringe */].injectable;\nvar NsTestCmd;\n\n(function (_NsTestCmd) {\n  var command = _NsTestCmd.command = CustomCommands.TEST_ASYNC_CMD;\n  var hookKey = _NsTestCmd.hookKey = \'testCmd\';\n})(NsTestCmd || (NsTestCmd = {}));\n\nvar\n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\ncmd_async_test_TestAsyncCommand = (_dec = injectable(), _dec2 = inject(es["n" /* ICommandContextProvider */]), _dec3 = Reflect.metadata("design:type", Object), _dec(_class = (_class2 = class\n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nTestAsyncCommand {\n  constructor() {\n    var _this = this;\n\n    Object(initializerDefineProperty["a" /* default */])(this, "contextProvider", _descriptor, this);\n\n    this.execute = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2() {\n      var ctx, hooks, _ctx$getArgs, args, runtimeHook, graph, result;\n\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              ctx = _this.contextProvider();\n              hooks = ctx.getHooks();\n              _ctx$getArgs = ctx.getArgs(), args = _ctx$getArgs.args, runtimeHook = _ctx$getArgs.hooks;\n              _context2.next = 5;\n              return ctx.getX6Graph();\n\n            case 5:\n              graph = _context2.sent;\n              _context2.next = 8;\n              return hooks.testCmd.call(args, /*#__PURE__*/function () {\n                var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(args) {\n                  var commandService, modelService, graphMeta, test;\n                  return regenerator_default.a.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          commandService = args.commandService, modelService = args.modelService, graphMeta = args.graphMeta, test = args.test;\n                          console.log(graph, commandService, modelService, graphMeta, test);\n                          return _context.abrupt("return", {\n                            test: true\n                          });\n\n                        case 3:\n                        case "end":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x) {\n                  return _ref2.apply(this, arguments);\n                };\n              }(), runtimeHook);\n\n            case 8:\n              result = _context2.sent;\n              ctx.setResult(result);\n              return _context2.abrupt("return", _this);\n\n            case 11:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    this.undo = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3() {\n      var ctx;\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (_this.isUndoable()) {\n                ctx = _this.contextProvider();\n                ctx.undo();\n              }\n\n              return _context3.abrupt("return", _this);\n\n            case 2:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    this.redo = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4() {\n      return regenerator_default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (_this.isUndoable()) {\n                _context4.next = 3;\n                break;\n              }\n\n              _context4.next = 3;\n              return _this.execute();\n\n            case 3:\n              return _context4.abrupt("return", _this);\n\n            case 4:\n            case "end":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n  }\n\n  isUndoable() {\n    var ctx = this.contextProvider();\n    return ctx.isUndoable();\n  }\n\n}, (_descriptor = Object(applyDecoratedDescriptor["a" /* default */])(_class2.prototype, "contextProvider", [_dec2, _dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/cmd-extensions/cmd-deploy.ts\n\n\n\n\n\nvar cmd_deploy_dec, cmd_deploy_dec2, cmd_deploy_dec3, cmd_deploy_class, cmd_deploy_class2, cmd_deploy_descriptor;\n\n\n\n\n\nvar NsDeployDagCmd;\n\n(function (_NsDeployDagCmd) {\n  var command = _NsDeployDagCmd.command = CustomCommands.DEPLOY_SERVICE;\n  var hookKey = _NsDeployDagCmd.hookKey = \'deployDag\';\n})(NsDeployDagCmd || (NsDeployDagCmd = {}));\n\nvar\n/** \u90e8\u7f72\u753b\u5e03\u6570\u636e */\ncmd_deploy_DeployDagCommand = (cmd_deploy_dec = es["s" /* ManaSyringe */].injectable(), cmd_deploy_dec2 = es["s" /* ManaSyringe */].inject(es["n" /* ICommandContextProvider */]), cmd_deploy_dec3 = Reflect.metadata("design:type", Object), cmd_deploy_dec(cmd_deploy_class = (cmd_deploy_class2 = class\n/** \u90e8\u7f72\u753b\u5e03\u6570\u636e */\nDeployDagCommand {\n  constructor() {\n    var _this = this;\n\n    Object(initializerDefineProperty["a" /* default */])(this, "contextProvider", cmd_deploy_descriptor, this);\n\n    this.execute = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3() {\n      var ctx, _ctx$getArgs, args, runtimeHook, hooks, result;\n\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              ctx = _this.contextProvider();\n              _ctx$getArgs = ctx.getArgs(), args = _ctx$getArgs.args, runtimeHook = _ctx$getArgs.hooks;\n              hooks = ctx.getHooks();\n              _context3.next = 5;\n              return hooks.deployDag.call(args, /*#__PURE__*/function () {\n                var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(args) {\n                  var commandService, deployDagService;\n                  return regenerator_default.a.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          commandService = args.commandService, deployDagService = args.deployDagService;\n                          /** \u6267\u884cCommand */\n\n                          _context2.next = 3;\n                          return commandService.executeCommand(es["D" /* XFlowGraphCommands */].SAVE_GRAPH_DATA.id, {\n                            saveGraphDataService: function () {\n                              var _saveGraphDataService = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(meta, graph) {\n                                return regenerator_default.a.wrap(function _callee$(_context) {\n                                  while (1) {\n                                    switch (_context.prev = _context.next) {\n                                      case 0:\n                                        _context.next = 2;\n                                        return deployDagService(meta, graph);\n\n                                      case 2:\n                                      case "end":\n                                        return _context.stop();\n                                    }\n                                  }\n                                }, _callee);\n                              }));\n\n                              function saveGraphDataService(_x2, _x3) {\n                                return _saveGraphDataService.apply(this, arguments);\n                              }\n\n                              return saveGraphDataService;\n                            }()\n                          }, runtimeHook);\n\n                        case 3:\n                          return _context2.abrupt("return", {\n                            success: true\n                          });\n\n                        case 4:\n                        case "end":\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2);\n                }));\n\n                return function (_x) {\n                  return _ref2.apply(this, arguments);\n                };\n              }());\n\n            case 5:\n              result = _context3.sent;\n              ctx.setResult(result);\n              return _context3.abrupt("return", _this);\n\n            case 8:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    this.undo = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4() {\n      var ctx;\n      return regenerator_default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (_this.isUndoable()) {\n                ctx = _this.contextProvider();\n                ctx.undo();\n              }\n\n              return _context4.abrupt("return", _this);\n\n            case 2:\n            case "end":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    this.redo = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee5() {\n      return regenerator_default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              if (_this.isUndoable()) {\n                _context5.next = 3;\n                break;\n              }\n\n              _context5.next = 3;\n              return _this.execute();\n\n            case 3:\n              return _context5.abrupt("return", _this);\n\n            case 4:\n            case "end":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n  }\n\n  isUndoable() {\n    var ctx = this.contextProvider();\n    return ctx.isUndoable();\n  }\n\n}, (cmd_deploy_descriptor = Object(applyDecoratedDescriptor["a" /* default */])(cmd_deploy_class2.prototype, "contextProvider", [cmd_deploy_dec2, cmd_deploy_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), cmd_deploy_class2)) || cmd_deploy_class);\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/extends.js\nvar esm_extends = __webpack_require__("BoRD");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("jem/");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/config-provider/index.js + 3 modules\nvar config_provider = __webpack_require__("7xuC");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/modal/index.js + 8 modules\nvar es_modal = __webpack_require__("/zI6");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/modal/style/index.css\nvar style = __webpack_require__("vmP7");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/cmd-extensions/cmd-rename-node-modal.tsx\n\n\n\n\n\n\n\n\nvar cmd_rename_node_modal_dec, cmd_rename_node_modal_dec2, cmd_rename_node_modal_dec3, cmd_rename_node_modal_class, cmd_rename_node_modal_class2, cmd_rename_node_modal_descriptor;\n\n\n\n\n\n\n\n\nvar NsRenameNodeCmd;\n\n(function (_NsRenameNodeCmd) {\n  var command = _NsRenameNodeCmd.command = CustomCommands.SHOW_RENAME_MODAL;\n  var hookKey = _NsRenameNodeCmd.hookKey = \'renameNode\';\n})(NsRenameNodeCmd || (NsRenameNodeCmd = {}));\n\nvar\n/** \u90e8\u7f72\u753b\u5e03\u6570\u636e */\ncmd_rename_node_modal_RenameNodeCommand = (cmd_rename_node_modal_dec = es["s" /* ManaSyringe */].injectable(), cmd_rename_node_modal_dec2 = es["s" /* ManaSyringe */].inject(es["n" /* ICommandContextProvider */]), cmd_rename_node_modal_dec3 = Reflect.metadata("design:type", Object), cmd_rename_node_modal_dec(cmd_rename_node_modal_class = (cmd_rename_node_modal_class2 = class\n/** \u90e8\u7f72\u753b\u5e03\u6570\u636e */\nRenameNodeCommand {\n  constructor() {\n    var _this = this;\n\n    Object(initializerDefineProperty["a" /* default */])(this, "contextProvider", cmd_rename_node_modal_descriptor, this);\n\n    this.execute = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2() {\n      var ctx, _ctx$getArgs, args, runtimeHook, hooks, result;\n\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              ctx = _this.contextProvider();\n              _ctx$getArgs = ctx.getArgs(), args = _ctx$getArgs.args, runtimeHook = _ctx$getArgs.hooks;\n              hooks = ctx.getHooks();\n              _context2.next = 5;\n              return hooks.renameNode.call(args, /*#__PURE__*/function () {\n                var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(args) {\n                  var nodeConfig, graphMeta, commandService, modelService, updateNodeNameService, preNodeName, getAppContext, x6Graph, cell, newName, cellData;\n                  return regenerator_default.a.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          nodeConfig = args.nodeConfig, graphMeta = args.graphMeta, commandService = args.commandService, modelService = args.modelService, updateNodeNameService = args.updateNodeNameService;\n                          preNodeName = nodeConfig.label;\n\n                          getAppContext = () => {\n                            return {\n                              graphMeta,\n                              commandService,\n                              modelService,\n                              updateNodeNameService\n                            };\n                          };\n\n                          _context.next = 5;\n                          return ctx.getX6Graph();\n\n                        case 5:\n                          x6Graph = _context.sent;\n                          cell = x6Graph.getCellById(nodeConfig.id);\n\n                          if (!(!cell || !cell.isNode())) {\n                            _context.next = 9;\n                            break;\n                          }\n\n                          throw new Error("".concat(nodeConfig.id, " is not a valid node"));\n\n                        case 9:\n                          _context.next = 11;\n                          return showModal(nodeConfig, getAppContext);\n\n                        case 11:\n                          newName = _context.sent;\n\n                          if (!newName) {\n                            _context.next = 16;\n                            break;\n                          }\n\n                          cellData = cell.getData();\n                          cell.setData(Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, cellData), {}, {\n                            label: newName\n                          }));\n                          return _context.abrupt("return", {\n                            err: null,\n                            preNodeName,\n                            currenNodetName: newName\n                          });\n\n                        case 16:\n                          return _context.abrupt("return", {\n                            err: null,\n                            preNodeName,\n                            currenNodetName: \'\'\n                          });\n\n                        case 17:\n                        case "end":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x) {\n                  return _ref2.apply(this, arguments);\n                };\n              }());\n\n            case 5:\n              result = _context2.sent;\n              ctx.setResult(result);\n              return _context2.abrupt("return", _this);\n\n            case 8:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    this.undo = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3() {\n      var ctx;\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (_this.isUndoable()) {\n                ctx = _this.contextProvider();\n                ctx.undo();\n              }\n\n              return _context3.abrupt("return", _this);\n\n            case 2:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    this.redo = /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4() {\n      return regenerator_default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (_this.isUndoable()) {\n                _context4.next = 3;\n                break;\n              }\n\n              _context4.next = 3;\n              return _this.execute();\n\n            case 3:\n              return _context4.abrupt("return", _this);\n\n            case 4:\n            case "end":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n  }\n\n  isUndoable() {\n    var ctx = this.contextProvider();\n    return ctx.isUndoable();\n  }\n\n}, (cmd_rename_node_modal_descriptor = Object(applyDecoratedDescriptor["a" /* default */])(cmd_rename_node_modal_class2.prototype, "contextProvider", [cmd_rename_node_modal_dec2, cmd_rename_node_modal_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), cmd_rename_node_modal_class2)) || cmd_rename_node_modal_class);\nvar layout = {\n  labelCol: {\n    span: 5\n  },\n  wrapperCol: {\n    span: 19\n  }\n};\n\nfunction showModal(node, getAppContext) {\n  /** showModal \u8fd4\u56de\u4e00\u4e2aPromise */\n  var defer = new es["h" /* Deferred */]();\n  /** modal\u786e\u8ba4\u4fdd\u5b58\u903b\u8f91 */\n\n  class ModalCache {}\n  /** modal\u786e\u8ba4\u4fdd\u5b58\u903b\u8f91 */\n\n\n  ModalCache.modal = void 0;\n  ModalCache.form = void 0;\n\n  var onOk = /*#__PURE__*/function () {\n    var _ref5 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee5() {\n      var form, modal, appContext, updateNodeNameService, graphMeta, values, _newName, _yield$updateNodeName, err, nodeName;\n\n      return regenerator_default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              form = ModalCache.form, modal = ModalCache.modal;\n              appContext = getAppContext();\n              updateNodeNameService = appContext.updateNodeNameService, graphMeta = appContext.graphMeta;\n              _context5.prev = 3;\n              modal.update({\n                okButtonProps: {\n                  loading: true\n                }\n              });\n              _context5.next = 7;\n              return form.validateFields();\n\n            case 7:\n              _context5.next = 9;\n              return form.getFieldsValue();\n\n            case 9:\n              values = _context5.sent;\n              _newName = values.newNodeName;\n              /** \u6267\u884c backend service */\n\n              if (!updateNodeNameService) {\n                _context5.next = 20;\n                break;\n              }\n\n              _context5.next = 14;\n              return updateNodeNameService(_newName, node, graphMeta);\n\n            case 14:\n              _yield$updateNodeName = _context5.sent;\n              err = _yield$updateNodeName.err;\n              nodeName = _yield$updateNodeName.nodeName;\n\n              if (!err) {\n                _context5.next = 19;\n                break;\n              }\n\n              throw new Error(err);\n\n            case 19:\n              defer.resolve(nodeName);\n\n            case 20:\n              /** \u66f4\u65b0\u6210\u529f\u540e\uff0c\u5173\u95edmodal */\n              onHide();\n              _context5.next = 27;\n              break;\n\n            case 23:\n              _context5.prev = 23;\n              _context5.t0 = _context5["catch"](3);\n              console.error(_context5.t0);\n              /** \u5982\u679cresolve\u7a7a\u5b57\u7b26\u4e32\u5219\u4e0d\u66f4\u65b0 */\n\n              modal.update({\n                okButtonProps: {\n                  loading: false\n                }\n              });\n\n            case 27:\n            case "end":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[3, 23]]);\n    }));\n\n    return function onOk() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  /** modal\u9500\u6bc1\u903b\u8f91 */\n\n\n  var onHide = () => {\n    modal.destroy();\n    ModalCache.form = null;\n    ModalCache.modal = null;\n    container.destory();\n  };\n  /** modal\u5185\u5bb9 */\n\n\n  var ModalContent = () => {\n    var _Form$useForm = es_form["a" /* default */].useForm(),\n        _Form$useForm2 = Object(slicedToArray["a" /* default */])(_Form$useForm, 1),\n        form = _Form$useForm2[0];\n    /** \u7f13\u5b58form\u5b9e\u4f8b */\n\n\n    ModalCache.form = form;\n    return /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement(config_provider["a" /* default */], null, /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */], Object(esm_extends["a" /* default */])({\n      form: form\n    }, layout, {\n      initialValues: {\n        newNodeName: node.label\n      }\n    }), /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */].Item, {\n      name: "newNodeName",\n      label: "\\u8282\\u70B9\\u540D",\n      rules: [{\n        required: true,\n        message: \'\u8bf7\u8f93\u5165\u65b0\u8282\u70b9\u540d\'\n      }, {\n        min: 3,\n        message: \'\u8282\u70b9\u540d\u4e0d\u80fd\u5c11\u4e8e3\u4e2a\u5b57\u7b26\'\n      }]\n    }, /*#__PURE__*/react_default.a.createElement(input["a" /* default */], null)))));\n  };\n  /** \u521b\u5efamodal dom\u5bb9\u5668 */\n\n\n  var container = createContainer();\n  /** \u521b\u5efamodal */\n\n  var modal = es_modal["a" /* default */].confirm({\n    title: \'\u91cd\u547d\u540d\',\n    content: /*#__PURE__*/react_default.a.createElement(ModalContent, null),\n    getContainer: () => {\n      return container.element;\n    },\n    okButtonProps: {\n      onClick: e => {\n        e.stopPropagation();\n        onOk();\n      }\n    },\n    onCancel: () => {\n      onHide();\n    },\n    afterClose: () => {\n      onHide();\n    }\n  });\n  /** \u7f13\u5b58modal\u5b9e\u4f8b */\n\n  ModalCache.modal = modal;\n  /** showModal \u8fd4\u56de\u4e00\u4e2aPromise\uff0c\u7528\u4e8eawait */\n\n  return defer.promise;\n}\n\nvar createContainer = () => {\n  var div = document.createElement(\'div\');\n  div.classList.add(\'xflow-modal-container\');\n  window.document.body.append(div);\n  return {\n    element: div,\n    destory: () => {\n      window.document.body.removeChild(div);\n    }\n  };\n};\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/cmd-extensions/index.ts\n\n\n\n\n\n/** \u6ce8\u518c\u6210\u4e3a\u53ef\u4ee5\u6267\u884c\u7684\u547d\u4ee4 */\nvar commandContributions = [Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, NsTestCmd), {}, {\n  CommandHandler: cmd_async_test_TestAsyncCommand\n}), Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, NsDeployDagCmd), {}, {\n  CommandHandler: cmd_deploy_DeployDagCommand\n}), Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, NsRenameNodeCmd), {}, {\n  CommandHandler: cmd_rename_node_modal_RenameNodeCommand\n})];\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/config-cmd.ts\n\n\n\n\n\nvar useCmdConfig = Object(es["G" /* createCmdConfig */])(config => {\n  // \u6ce8\u518c\u5168\u5c40Command\u6269\u5c55\n  config.setCommandContributions(() => commandContributions); // \u8bbe\u7f6ehook\n\n  config.setRegisterHookFn(hooks => {\n    var list = [hooks.graphMeta.registerHook({\n      name: \'get node config from backend api\',\n      handler: function () {\n        var _handler = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(args) {\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  args.graphMetaService = MockApi.queryGraphMeta;\n\n                case 1:\n                case "end":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function handler(_x) {\n          return _handler.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    }), hooks.saveGrpahData.registerHook({\n      name: \'get node config from backend api\',\n      handler: function () {\n        var _handler2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(args) {\n          return regenerator_default.a.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (!args.saveGraphDataService) {\n                    args.saveGraphDataService = MockApi.saveGraphData;\n                  }\n\n                case 1:\n                case "end":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        function handler(_x2) {\n          return _handler2.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    }), hooks.addNode.registerHook({\n      name: \'get node config from backend api\',\n      handler: function () {\n        var _handler3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(args) {\n          return regenerator_default.a.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  args.createNodeService = MockApi.addNode;\n\n                case 1:\n                case "end":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3);\n        }));\n\n        function handler(_x3) {\n          return _handler3.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    }), hooks.delNode.registerHook({\n      name: \'get edge config from backend api\',\n      handler: function () {\n        var _handler4 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(args) {\n          return regenerator_default.a.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  args.deleteNodeService = MockApi.delNode;\n\n                case 1:\n                case "end":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4);\n        }));\n\n        function handler(_x4) {\n          return _handler4.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    }), hooks.addEdge.registerHook({\n      name: \'get edge config from backend api\',\n      handler: function () {\n        var _handler5 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee5(args) {\n          return regenerator_default.a.wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  args.createEdgeService = MockApi.addEdge;\n\n                case 1:\n                case "end":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5);\n        }));\n\n        function handler(_x5) {\n          return _handler5.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    }), hooks.delEdge.registerHook({\n      name: \'get edge config from backend api\',\n      handler: function () {\n        var _handler6 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee6(args) {\n          return regenerator_default.a.wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  args.deleteEdgeService = MockApi.delEdge;\n\n                case 1:\n                case "end":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6);\n        }));\n\n        function handler(_x6) {\n          return _handler6.apply(this, arguments);\n        }\n\n        return handler;\n      }()\n    })];\n    var toDispose = new es["j" /* DisposableCollection */]();\n    toDispose.pushAll(list);\n    return toDispose;\n  });\n});\n/** \u67e5\u8be2\u56fe\u7684\u8282\u70b9\u548c\u8fb9\u7684\u6570\u636e */\n\nvar initGraphCmds = app => {\n  app.executeCommandPipeline([\n  /** 1. \u4ece\u670d\u52a1\u7aef\u83b7\u53d6\u6570\u636e */\n  {\n    commandId: es["D" /* XFlowGraphCommands */].LOAD_DATA.id,\n    getCommandOption: function () {\n      var _getCommandOption = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee7(ctx) {\n        return regenerator_default.a.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                return _context7.abrupt("return", {\n                  args: {\n                    loadDataService: MockApi.loadGraphData\n                  }\n                });\n\n              case 1:\n              case "end":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      function getCommandOption(_x7) {\n        return _getCommandOption.apply(this, arguments);\n      }\n\n      return getCommandOption;\n    }()\n  },\n  /** 2. \u6267\u884c\u5e03\u5c40\u7b97\u6cd5 */\n  {\n    commandId: es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id,\n    getCommandOption: function () {\n      var _getCommandOption2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee8(ctx) {\n        var _ctx$getResult, graphData;\n\n        return regenerator_default.a.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _ctx$getResult = ctx.getResult(), graphData = _ctx$getResult.graphData;\n                return _context8.abrupt("return", {\n                  args: {\n                    layoutType: \'dagre\',\n                    layoutOptions: {\n                      type: \'dagre\',\n\n                      /** \u5e03\u5c40\u65b9\u5411 */\n                      rankdir: \'TB\',\n\n                      /** \u8282\u70b9\u95f4\u8ddd */\n                      nodesep: 60,\n\n                      /** \u5c42\u95f4\u8ddd */\n                      ranksep: 30\n                    },\n                    graphData\n                  }\n                });\n\n              case 2:\n              case "end":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      function getCommandOption(_x8) {\n        return _getCommandOption2.apply(this, arguments);\n      }\n\n      return getCommandOption;\n    }()\n  },\n  /** 3. \u753b\u5e03\u5185\u5bb9\u6e32\u67d3 */\n  {\n    commandId: es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id,\n    getCommandOption: function () {\n      var _getCommandOption3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee9(ctx) {\n        var _ctx$getResult2, graphData;\n\n        return regenerator_default.a.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _ctx$getResult2 = ctx.getResult(), graphData = _ctx$getResult2.graphData;\n                return _context9.abrupt("return", {\n                  args: {\n                    graphData\n                  }\n                });\n\n              case 2:\n              case "end":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }));\n\n      function getCommandOption(_x9) {\n        return _getCommandOption3.apply(this, arguments);\n      }\n\n      return getCommandOption;\n    }()\n  },\n  /** 4. \u7f29\u653e\u753b\u5e03 */\n  {\n    commandId: es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id,\n    getCommandOption: function () {\n      var _getCommandOption4 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee10(ctx) {\n        return regenerator_default.a.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                return _context10.abrupt("return", {\n                  args: {\n                    factor: \'fit\'\n                  }\n                });\n\n              case 1:\n              case "end":\n                return _context10.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      function getCommandOption(_x10) {\n        return _getCommandOption4.apply(this, arguments);\n      }\n\n      return getCommandOption;\n    }()\n  }]);\n};\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/config-model-service.ts\n\n\n\nvar NS_LOADING_STATE;\n\n(function (_NS_LOADING_STATE) {\n  var id = _NS_LOADING_STATE.id = \'test\';\n})(NS_LOADING_STATE || (NS_LOADING_STATE = {}));\n\nvar useModelServiceConfig = Object(es["L" /* createModelServiceConfig */])(config => {\n  config.registerModel(registry => {\n    return registry.registerModel({\n      id: NS_LOADING_STATE.id,\n      getInitialValue: () => {\n        loading: true;\n      }\n    });\n  });\n});\nvar useLoadingState = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(contextService) {\n    var ctx;\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return contextService.awaitModel(NS_LOADING_STATE.id);\n\n          case 2:\n            ctx = _context.sent;\n            return _context.abrupt("return", ctx.getValidValue());\n\n          case 4:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function useLoadingState(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/DeleteOutlined.js + 1 modules\nvar DeleteOutlined = __webpack_require__("UmCv");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/EditOutlined.js + 1 modules\nvar EditOutlined = __webpack_require__("xdJY");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/StopOutlined.js + 1 modules\nvar StopOutlined = __webpack_require__("PJfV");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/config-menu.ts\n\n\n\n\n\n\n\n/** menuitem \u914d\u7f6e */\n\nvar NsMenuItemConfig;\n\n(function (_NsMenuItemConfig) {\n  /** \u6ce8\u518c\u83dc\u5355\u4f9d\u8d56\u7684icon */\n  es["o" /* IconStore */].set(\'DeleteOutlined\', DeleteOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'EditOutlined\', EditOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'StopOutlined\', StopOutlined["a" /* default */]);\n  var DELETE_EDGE = _NsMenuItemConfig.DELETE_EDGE = {\n    id: es["C" /* XFlowEdgeCommands */].DEL_EDGE.id,\n    label: \'\u5220\u9664\u8fb9\',\n    iconName: \'DeleteOutlined\',\n    onClick: function () {\n      var _onClick = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(_ref2) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                target = _ref2.target, commandService = _ref2.commandService;\n                commandService.executeCommand(es["C" /* XFlowEdgeCommands */].DEL_EDGE.id, {\n                  edgeConfig: target.data\n                });\n\n              case 2:\n              case "end":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function onClick(_x5) {\n        return _onClick.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var DELETE_NODE = _NsMenuItemConfig.DELETE_NODE = {\n    id: es["F" /* XFlowNodeCommands */].DEL_NODE.id,\n    label: \'\u5220\u9664\u8282\u70b9\',\n    iconName: \'DeleteOutlined\',\n    onClick: function () {\n      var _onClick2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(_ref3) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                target = _ref3.target, commandService = _ref3.commandService;\n                commandService.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                  nodeConfig: {\n                    id: target.data.id\n                  }\n                });\n\n              case 2:\n              case "end":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function onClick(_x6) {\n        return _onClick2.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var EMPTY_MENU = _NsMenuItemConfig.EMPTY_MENU = {\n    id: \'EMPTY_MENU_ITEM\',\n    label: \'\u6682\u65e0\u53ef\u7528\',\n    isEnabled: false,\n    iconName: \'DeleteOutlined\'\n  };\n  var RENAME_NODE = _NsMenuItemConfig.RENAME_NODE = {\n    id: CustomCommands.SHOW_RENAME_MODAL.id,\n    label: \'\u91cd\u547d\u540d\',\n    isVisible: true,\n    iconName: \'EditOutlined\',\n    onClick: function () {\n      var _onClick3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(_ref4) {\n        var target, commandService, nodeConfig;\n        return regenerator_default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                target = _ref4.target, commandService = _ref4.commandService;\n                nodeConfig = target.data;\n                commandService.executeCommand(CustomCommands.SHOW_RENAME_MODAL.id, {\n                  nodeConfig,\n                  updateNodeNameService: MockApi.renameNode\n                });\n\n              case 3:\n              case "end":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function onClick(_x7) {\n        return _onClick3.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var SEPARATOR = _NsMenuItemConfig.SEPARATOR = {\n    id: \'separator\',\n    type: es["t" /* MenuItemType */].Separator\n  };\n})(NsMenuItemConfig || (NsMenuItemConfig = {}));\n\nvar useMenuConfig = Object(es["H" /* createCtxMenuConfig */])(config => {\n  config.setMenuModelService( /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(target, model, modelService, toDispose) {\n      var type, cell;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              type = target.type, cell = target.cell;\n              console.log(type);\n              _context.t0 = type;\n              _context.next = _context.t0 === \'node\' ? 5 : _context.t0 === \'edge\' ? 7 : _context.t0 === \'blank\' ? 9 : 11;\n              break;\n\n            case 5:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsMenuItemConfig.DELETE_NODE, NsMenuItemConfig.RENAME_NODE]\n              });\n              return _context.abrupt("break", 13);\n\n            case 7:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsMenuItemConfig.DELETE_EDGE]\n              });\n              return _context.abrupt("break", 13);\n\n            case 9:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsMenuItemConfig.EMPTY_MENU]\n              });\n              return _context.abrupt("break", 13);\n\n            case 11:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsMenuItemConfig.EMPTY_MENU]\n              });\n              return _context.abrupt("break", 13);\n\n            case 13:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2, _x3, _x4) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n});\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/SaveOutlined.js + 1 modules\nvar SaveOutlined = __webpack_require__("GcFv");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/CloudSyncOutlined.js + 1 modules\nvar CloudSyncOutlined = __webpack_require__("gnb0");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/GatewayOutlined.js + 1 modules\nvar GatewayOutlined = __webpack_require__("a1K2");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/GroupOutlined.js + 1 modules\nvar GroupOutlined = __webpack_require__("iyY0");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/UngroupOutlined.js + 1 modules\nvar UngroupOutlined = __webpack_require__("1cKU");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/ShareAltOutlined.js + 1 modules\nvar ShareAltOutlined = __webpack_require__("bIXD");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/config-toolbar.ts\n\n\n\n\n\n\n\n\nvar NSToolbarConfig;\n\n(function (_NSToolbarConfig) {\n  /** \u6ce8\u518cicon \u7c7b\u578b */\n  es["o" /* IconStore */].set(\'SaveOutlined\', SaveOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'CloudSyncOutlined\', CloudSyncOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'GatewayOutlined\', GatewayOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'GroupOutlined\', GroupOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'UngroupOutlined\', UngroupOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'ShareAltOutlined\', ShareAltOutlined["a" /* default */]);\n  /** toolbar\u4f9d\u8d56\u7684\u72b6\u6001 */\n\n  var getDependencies = _NSToolbarConfig.getDependencies = /*#__PURE__*/function () {\n    var _ref4 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(modelService) {\n      return regenerator_default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return es["r" /* MODELS */].SELECTED_CELLS.getModel(modelService);\n\n            case 2:\n              _context4.t0 = _context4.sent;\n              _context4.next = 5;\n              return es["r" /* MODELS */].GRAPH_ENABLE_MULTI_SELECT.getModel(modelService);\n\n            case 5:\n              _context4.t1 = _context4.sent;\n              return _context4.abrupt("return", [_context4.t0, _context4.t1]);\n\n            case 7:\n            case "end":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var getToolbarState = _NSToolbarConfig.getToolbarState = /*#__PURE__*/function () {\n    var _ref5 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee5(modelService) {\n      var _yield$MODELS$GRAPH_E, isMultiSelctionActive, isGroupSelected, isNormalNodesSelected;\n\n      return regenerator_default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return es["r" /* MODELS */].GRAPH_ENABLE_MULTI_SELECT.useValue(modelService);\n\n            case 2:\n              _yield$MODELS$GRAPH_E = _context5.sent;\n              isMultiSelctionActive = _yield$MODELS$GRAPH_E.isEnable;\n              _context5.next = 6;\n              return es["r" /* MODELS */].IS_GROUP_SELECTED.useValue(modelService);\n\n            case 6:\n              isGroupSelected = _context5.sent;\n              _context5.next = 9;\n              return es["r" /* MODELS */].IS_NORMAL_NODES_SELECTED.useValue(modelService);\n\n            case 9:\n              isNormalNodesSelected = _context5.sent;\n              return _context5.abrupt("return", {\n                isNodeSelected: isNormalNodesSelected,\n                isGroupSelected,\n                isMultiSelctionActive\n              });\n\n            case 11:\n            case "end":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x5) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var getToolbarItems = _NSToolbarConfig.getToolbarItems = /*#__PURE__*/function () {\n    var _ref6 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee12(state) {\n      var toolbarGroup1, toolbarGroup2, toolbarGroup3;\n      return regenerator_default.a.wrap(function _callee12$(_context12) {\n        while (1) {\n          switch (_context12.prev = _context12.next) {\n            case 0:\n              toolbarGroup1 = [];\n              toolbarGroup2 = [];\n              toolbarGroup3 = [];\n              /** \u4fdd\u5b58\u6570\u636e */\n\n              /** \u4fdd\u5b58\u6570\u636e */\n              toolbarGroup1.push({\n                id: es["D" /* XFlowGraphCommands */].SAVE_GRAPH_DATA.id,\n                iconName: \'SaveOutlined\',\n                tooltip: \'\u4fdd\u5b58\u6570\u636e\',\n                onClick: function () {\n                  var _onClick = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee6(_ref7) {\n                    var commandService;\n                    return regenerator_default.a.wrap(function _callee6$(_context6) {\n                      while (1) {\n                        switch (_context6.prev = _context6.next) {\n                          case 0:\n                            commandService = _ref7.commandService;\n                            commandService.executeCommand(es["D" /* XFlowGraphCommands */].SAVE_GRAPH_DATA.id, {\n                              saveGraphDataService: (meta, graphData) => MockApi.saveGraphData(meta, graphData)\n                            });\n\n                          case 2:\n                          case "end":\n                            return _context6.stop();\n                        }\n                      }\n                    }, _callee6);\n                  }));\n\n                  function onClick(_x7) {\n                    return _onClick.apply(this, arguments);\n                  }\n\n                  return onClick;\n                }()\n              });\n              /** \u90e8\u7f72\u670d\u52a1\u6309\u94ae */\n\n              /** \u90e8\u7f72\u670d\u52a1\u6309\u94ae */\n              toolbarGroup1.push({\n                iconName: \'CloudSyncOutlined\',\n                tooltip: \'\u90e8\u7f72\u670d\u52a1\',\n                id: CustomCommands.DEPLOY_SERVICE.id,\n                onClick: _ref8 => {\n                  var commandService = _ref8.commandService;\n                  commandService.executeCommand(CustomCommands.DEPLOY_SERVICE.id, {\n                    deployDagService: (meta, graphData) => MockApi.deployDagService(meta, graphData)\n                  });\n                }\n              });\n              /** \u5f00\u542f\u6846\u9009 */\n\n              /** \u5f00\u542f\u6846\u9009 */\n              toolbarGroup2.push({\n                id: es["D" /* XFlowGraphCommands */].GRAPH_TOGGLE_MULTI_SELECT.id,\n                tooltip: \'\u5f00\u542f\u6846\u9009\',\n                iconName: \'GatewayOutlined\',\n                active: state.isMultiSelctionActive,\n                onClick: function () {\n                  var _onClick2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee7(_ref9) {\n                    var commandService;\n                    return regenerator_default.a.wrap(function _callee7$(_context7) {\n                      while (1) {\n                        switch (_context7.prev = _context7.next) {\n                          case 0:\n                            commandService = _ref9.commandService;\n                            commandService.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_TOGGLE_MULTI_SELECT.id, {});\n\n                          case 2:\n                          case "end":\n                            return _context7.stop();\n                        }\n                      }\n                    }, _callee7);\n                  }));\n\n                  function onClick(_x8) {\n                    return _onClick2.apply(this, arguments);\n                  }\n\n                  return onClick;\n                }()\n              });\n              /** \u65b0\u5efa\u7fa4\u7ec4 */\n\n              /** \u65b0\u5efa\u7fa4\u7ec4 */\n              toolbarGroup2.push({\n                id: es["E" /* XFlowGroupCommands */].ADD_GROUP.id,\n                tooltip: \'\u65b0\u5efa\u7fa4\u7ec4\',\n                iconName: \'GroupOutlined\',\n                isEnabled: state.isNodeSelected,\n                onClick: function () {\n                  var _onClick3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee8(_ref10) {\n                    var commandService, modelService, cells, groupChildren;\n                    return regenerator_default.a.wrap(function _callee8$(_context8) {\n                      while (1) {\n                        switch (_context8.prev = _context8.next) {\n                          case 0:\n                            commandService = _ref10.commandService, modelService = _ref10.modelService;\n                            _context8.next = 3;\n                            return es["r" /* MODELS */].SELECTED_CELLS.useValue(modelService);\n\n                          case 3:\n                            cells = _context8.sent;\n                            groupChildren = cells.map(cell => cell.id);\n                            commandService.executeCommand(es["E" /* XFlowGroupCommands */].ADD_GROUP.id, {\n                              nodeConfig: {\n                                id: Object(es["T" /* uuidv4 */])(),\n                                renderKey: GROUP_NODE_RENDER_ID,\n                                groupChildren,\n                                groupCollapsedSize: {\n                                  width: 200,\n                                  height: 40\n                                },\n                                label: \'\u65b0\u5efa\u7fa4\u7ec4\'\n                              }\n                            });\n\n                          case 6:\n                          case "end":\n                            return _context8.stop();\n                        }\n                      }\n                    }, _callee8);\n                  }));\n\n                  function onClick(_x9) {\n                    return _onClick3.apply(this, arguments);\n                  }\n\n                  return onClick;\n                }()\n              });\n              /** \u89e3\u6563\u7fa4\u7ec4 */\n\n              /** \u89e3\u6563\u7fa4\u7ec4 */\n              toolbarGroup2.push({\n                id: es["E" /* XFlowGroupCommands */].DEL_GROUP.id,\n                tooltip: \'\u89e3\u6563\u7fa4\u7ec4\',\n                iconName: \'UngroupOutlined\',\n                isEnabled: state.isGroupSelected,\n                onClick: function () {\n                  var _onClick4 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee9(_ref11) {\n                    var commandService, modelService, cell, nodeConfig;\n                    return regenerator_default.a.wrap(function _callee9$(_context9) {\n                      while (1) {\n                        switch (_context9.prev = _context9.next) {\n                          case 0:\n                            commandService = _ref11.commandService, modelService = _ref11.modelService;\n                            _context9.next = 3;\n                            return es["r" /* MODELS */].SELECTED_NODE.useValue(modelService);\n\n                          case 3:\n                            cell = _context9.sent;\n                            nodeConfig = cell.getData();\n                            commandService.executeCommand(es["E" /* XFlowGroupCommands */].DEL_GROUP.id, {\n                              nodeConfig: nodeConfig\n                            });\n\n                          case 6:\n                          case "end":\n                            return _context9.stop();\n                        }\n                      }\n                    }, _callee9);\n                  }));\n\n                  function onClick(_x10) {\n                    return _onClick4.apply(this, arguments);\n                  }\n\n                  return onClick;\n                }()\n              });\n              toolbarGroup3.push({\n                id: es["D" /* XFlowGraphCommands */].GRAPH_INSTANCE_COMMAND.id,\n                tooltip: \'\u53ef\u4ee5\u4f7f\u7528 x6 graph \u7684\u547d\u4ee4\',\n                iconName: \'ShareAltOutlined\',\n                onClick: function () {\n                  var _onClick5 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee11(_ref12) {\n                    var commandService, modelService;\n                    return regenerator_default.a.wrap(function _callee11$(_context11) {\n                      while (1) {\n                        switch (_context11.prev = _context11.next) {\n                          case 0:\n                            commandService = _ref12.commandService, modelService = _ref12.modelService;\n                            commandService.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_INSTANCE_COMMAND.id, {\n                              useGraph: function () {\n                                var _useGraph = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee10(x6) {\n                                  var node;\n                                  return regenerator_default.a.wrap(function _callee10$(_context10) {\n                                    while (1) {\n                                      switch (_context10.prev = _context10.next) {\n                                        case 0:\n                                          node = x6.getCellById(\'node-1\');\n                                          console.log(node, x6);\n                                          return _context10.abrupt("return", node);\n\n                                        case 3:\n                                        case "end":\n                                          return _context10.stop();\n                                      }\n                                    }\n                                  }, _callee10);\n                                }));\n\n                                function useGraph(_x12) {\n                                  return _useGraph.apply(this, arguments);\n                                }\n\n                                return useGraph;\n                              }()\n                            });\n\n                          case 2:\n                          case "end":\n                            return _context11.stop();\n                        }\n                      }\n                    }, _callee11);\n                  }));\n\n                  function onClick(_x11) {\n                    return _onClick5.apply(this, arguments);\n                  }\n\n                  return onClick;\n                }()\n              });\n              return _context12.abrupt("return", [{\n                name: \'graphData\',\n                items: toolbarGroup1\n              }, {\n                name: \'groupOperations\',\n                items: toolbarGroup2\n              }, {\n                name: \'customCmd\',\n                items: toolbarGroup3\n              }]);\n\n            case 10:\n            case "end":\n              return _context12.stop();\n          }\n        }\n      }, _callee12);\n    }));\n\n    return function (_x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n})(NSToolbarConfig || (NSToolbarConfig = {}));\n\nvar useToolbarConfig = Object(es["M" /* createToolbarConfig */])(toolbarConfig => {\n  /** \u751f\u4ea7 toolbar item */\n  toolbarConfig.setToolbarModelService( /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(toolbarModel, modelService, toDispose) {\n      var updateToolbarModel, models, subscriptions;\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              updateToolbarModel = /*#__PURE__*/function () {\n                var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n                  var state, toolbarItems;\n                  return regenerator_default.a.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return NSToolbarConfig.getToolbarState(modelService);\n\n                        case 2:\n                          state = _context.sent;\n                          _context.next = 5;\n                          return NSToolbarConfig.getToolbarItems(state);\n\n                        case 5:\n                          toolbarItems = _context.sent;\n                          toolbarModel.setValue(toolbar => {\n                            toolbar.mainGroups = toolbarItems;\n                          });\n\n                        case 7:\n                        case "end":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function updateToolbarModel() {\n                  return _ref2.apply(this, arguments);\n                };\n              }();\n\n              _context3.next = 3;\n              return NSToolbarConfig.getDependencies(modelService);\n\n            case 3:\n              models = _context3.sent;\n              subscriptions = models.map(model => {\n                return model.watch( /*#__PURE__*/Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2() {\n                  return regenerator_default.a.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          updateToolbarModel();\n\n                        case 1:\n                        case "end":\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2);\n                })));\n              });\n              toDispose.pushAll(subscriptions);\n\n            case 6:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x, _x2, _x3) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n});\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/config-keybinding.ts\n\n\n\n\nvar useKeybindingConfig = Object(es["K" /* createKeybindingConfig */])(config => {\n  config.setKeybindingFunc(regsitry => {\n    return regsitry.registerKeybinding([{\n      id: \'delete node or edge\',\n      keybinding: \'backspace\',\n      callback: function () {\n        var _callback = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(item, modelService, cmd, e) {\n          var cells;\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return es["r" /* MODELS */].SELECTED_CELLS.useValue(modelService);\n\n                case 2:\n                  cells = _context.sent;\n                  _context.next = 5;\n                  return Promise.all(cells.map(cell => {\n                    if (cell.isEdge()) {\n                      return cmd.executeCommand(es["C" /* XFlowEdgeCommands */].DEL_EDGE.id, {\n                        edgeConfig: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, cell.getData()), {}, {\n                          id: cell.id\n                        })\n                      });\n                    }\n                  }));\n\n                case 5:\n                  _context.next = 7;\n                  return Promise.all(cells.map(cell => {\n                    if (cell.isNode()) {\n                      return cmd.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                        nodeConfig: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, cell.getData()), {}, {\n                          id: cell.id\n                        })\n                      });\n                    }\n                  }));\n\n                case 7:\n                case "end":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function callback(_x, _x2, _x3, _x4) {\n          return _callback.apply(this, arguments);\n        }\n\n        return callback;\n      }()\n    }, {\n      id: \'copy\',\n      keybinding: [\'command+c\', \'ctrl+c\'],\n      callback: function () {\n        var _callback2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(item, modelService, cmd, e) {\n          return regenerator_default.a.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  e.preventDefault();\n                  console.log(item);\n                  cmd.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_COPY.id, {});\n\n                case 3:\n                case "end":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        function callback(_x5, _x6, _x7, _x8) {\n          return _callback2.apply(this, arguments);\n        }\n\n        return callback;\n      }()\n    }, {\n      id: \'paste\',\n      keybinding: [\'command+v\', \'ctrl+v\'],\n      callback: function () {\n        var _callback3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(item, ctx, cmd, e) {\n          return regenerator_default.a.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  e.preventDefault();\n                  cmd.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_PASTE.id, {});\n\n                case 2:\n                case "end":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3);\n        }));\n\n        function callback(_x9, _x10, _x11, _x12) {\n          return _callback3.apply(this, arguments);\n        }\n\n        return callback;\n      }()\n    }]);\n  });\n});\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__("jMRu");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/config-dnd-panel.tsx\n\n\n\n\n/* eslint-disable @typescript-eslint/no-unused-vars */\n\n\n\n\n\nvar onNodeDrop = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(node, commands, modelService) {\n    var args;\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            args = {\n              nodeConfig: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, node), {}, {\n                id: Object(es["T" /* uuidv4 */])()\n              })\n            };\n            commands.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, args);\n\n          case 2:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onNodeDrop(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar NodeDescription = props => {\n  return /*#__PURE__*/react_default.a.createElement(card["a" /* default */], {\n    size: "small",\n    title: "\\u7B97\\u6CD5\\u7EC4\\u4EF6\\u4ECB\\u7ECD",\n    style: {\n      width: \'200px\'\n    },\n    bordered: false\n  }, "\\u6B22\\u8FCE\\u4F7F\\u7528\\uFF1A", props.name, "\\u8FD9\\u91CC\\u53EF\\u4EE5\\u6839\\u636E\\u670D\\u52A1\\u7AEF\\u8FD4\\u56DE\\u7684\\u6570\\u636E\\u663E\\u793A\\u4E0D\\u540C\\u7684\\u5185\\u5BB9");\n};\n\nvar treeDataService = /*#__PURE__*/function () {\n  var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(meta, modelService) {\n    return regenerator_default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt("return", [{\n              id: \'1\',\n              label: \'\u6570\u636e\u8bfb\u5199\',\n              parentId: \'\',\n              renderKey: DND_RENDER_ID\n            }, {\n              id: \'2\',\n              label: \'\u7b97\u6cd5\u7ec4\u4ef61\',\n              parentId: \'1\',\n              renderKey: DND_RENDER_ID,\n              popoverContent: /*#__PURE__*/react_default.a.createElement(NodeDescription, {\n                name: "\\u7B97\\u6CD5\\u7EC4\\u4EF61"\n              })\n            }, {\n              id: \'3\',\n              label: \'\u7b97\u6cd5\u7ec4\u4ef62\',\n              parentId: \'1\',\n              renderKey: DND_RENDER_ID,\n              popoverContent: /*#__PURE__*/react_default.a.createElement(NodeDescription, {\n                name: "\\u7B97\\u6CD5\\u7EC4\\u4EF62"\n              })\n            }, {\n              id: \'4\',\n              label: \'\u7b97\u6cd5\u7ec4\u4ef63\',\n              parentId: \'1\',\n              renderKey: DND_RENDER_ID,\n              popoverContent: /*#__PURE__*/react_default.a.createElement(NodeDescription, {\n                name: "\\u7B97\\u6CD5\\u7EC4\\u4EF63"\n              })\n            }, {\n              id: \'5\',\n              label: \'\u6570\u636e\u52a0\u5de5\',\n              parentId: \'\',\n              renderKey: DND_RENDER_ID\n            }, {\n              id: \'6\',\n              label: \'\u7b97\u6cd5\u7ec4\u4ef64\',\n              parentId: \'5\',\n              renderKey: DND_RENDER_ID\n            }, {\n              id: \'7\',\n              label: \'\u7b97\u6cd5\u7ec4\u4ef65\',\n              parentId: \'5\',\n              renderKey: DND_RENDER_ID\n            }, {\n              id: \'8\',\n              label: \'\u7b97\u6cd5\u7ec4\u4ef66\',\n              parentId: \'5\',\n              renderKey: DND_RENDER_ID\n            }, {\n              id: \'9\',\n              label: \'\u6a21\u578b\u8bad\u7ec3\',\n              parentId: \'\',\n              renderKey: DND_RENDER_ID\n            }, {\n              id: \'10\',\n              label: \'\u7b97\u6cd5\u7ec4\u4ef67\',\n              parentId: \'9\',\n              renderKey: DND_RENDER_ID\n            }, {\n              id: \'11\',\n              label: \'\u7b97\u6cd5\u7ec4\u4ef68\',\n              parentId: \'9\',\n              renderKey: DND_RENDER_ID\n            }, {\n              id: \'12\',\n              label: \'\u7b97\u6cd5\u7ec4\u4ef69\',\n              parentId: \'9\',\n              renderKey: DND_RENDER_ID\n            }]);\n\n          case 1:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function treeDataService(_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar searchService = /*#__PURE__*/function () {\n  var _ref3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3() {\n    var treeNodeList,\n        keyword,\n        list,\n        _args3 = arguments;\n    return regenerator_default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            treeNodeList = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : [];\n            keyword = _args3.length > 1 ? _args3[1] : undefined;\n            list = treeNodeList.filter(i => i.isDirectory || i.label.includes(keyword));\n            console.log(list, keyword, treeNodeList);\n            return _context3.abrupt("return", list);\n\n          case 5:\n          case "end":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function searchService() {\n    return _ref3.apply(this, arguments);\n  };\n}();\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/form-controls/custom-editor.tsx\n\n\n\n\n\n\nvar EditorShape = props => {\n  var controlSchema = props.controlSchema;\n  var required = controlSchema.required,\n      tooltip = controlSchema.tooltip,\n      extra = controlSchema.extra,\n      name = controlSchema.name,\n      label = controlSchema.label,\n      placeholder = controlSchema.placeholder;\n  return /*#__PURE__*/react_default.a.createElement(es["m" /* FormItemWrapper */], {\n    schema: controlSchema\n  }, _ref => {\n    var disabled = _ref.disabled,\n        hidden = _ref.hidden,\n        initialValue = _ref.initialValue;\n    return /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */].Item, {\n      name: name,\n      label: label,\n      initialValue: initialValue,\n      tooltip: tooltip,\n      extra: extra,\n      required: required,\n      hidden: hidden\n    }, /*#__PURE__*/react_default.a.createElement(Editor, {\n      controlSchema: controlSchema,\n      placeholder: placeholder,\n      disabled: disabled\n    }));\n  });\n};\n\nvar Editor = props => {\n  var placeholder = props.placeholder,\n      disabled = props.disabled,\n      onChange = props.onChange,\n      value = props.value;\n\n  var _useXFlowApp = Object(es["S" /* useXFlowApp */])(),\n      commandService = _useXFlowApp.commandService,\n      modelService = _useXFlowApp.modelService;\n\n  react_default.a.useEffect(() => {\n    commandService.executeCommand(es["D" /* XFlowGraphCommands */].SAVE_GRAPH_DATA.id, {\n      saveGraphDataService: function () {\n        var _saveGraphDataService = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(meta, graph) {\n          var nodes;\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return es["r" /* MODELS */].SELECTED_NODES.useValue(modelService);\n\n                case 2:\n                  nodes = _context.sent;\n                  console.log(graph);\n                  /** \u62ff\u5230\u6570\u636e\uff0c\u89e6\u53d1onChange*/\n\n                  onChange(JSON.stringify(graph));\n                  return _context.abrupt("return", {\n                    err: null,\n                    data: graph,\n                    meta\n                  });\n\n                case 6:\n                case "end":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        function saveGraphDataService(_x, _x2) {\n          return _saveGraphDataService.apply(this, arguments);\n        }\n\n        return saveGraphDataService;\n      }()\n    });\n  });\n  return /*#__PURE__*/react_default.a.createElement(input["a" /* default */].TextArea, {\n    value: value,\n    placeholder: placeholder,\n    disabled: disabled,\n    rows: 10\n  });\n};\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/form-controls/link.tsx\n\nvar LinkShape = props => {\n  var controlSchema = props.controlSchema;\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    style: {\n      padding: \'8px 0px\',\n      marginBottom: \'8px\'\n    }\n  }, /*#__PURE__*/react_default.a.createElement("a", {\n    href: controlSchema.value,\n    target: "_blank"\n  }, controlSchema.label));\n};\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/form-controls/index.tsx\n\n\n/** \u81ea\u5b9a\u4e49form\u63a7\u4ef6 */\n\nvar ControlShapeEnum;\n\n(function (ControlShapeEnum) {\n  ControlShapeEnum["EDITOR"] = "EDITOR";\n  ControlShapeEnum["LINKSHAPE"] = "LINKSHAPE";\n})(ControlShapeEnum || (ControlShapeEnum = {}));\n\nvar controlMapService = controlMap => {\n  controlMap.set(ControlShapeEnum.EDITOR, EditorShape);\n  controlMap.set(ControlShapeEnum.LINKSHAPE, LinkShape);\n  return controlMap;\n};\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/config-form.tsx\n\n\n\n\nfunction delay(ms) {\n  return new Promise(resolve => setTimeout(() => resolve(true), ms));\n}\nvar i = 0;\nvar formSchemaService = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(args) {\n    var targetData, modelService, targetType, graphMeta, nodeSchema;\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            targetData = args.targetData, modelService = args.modelService, targetType = args.targetType;\n            /** \u53ef\u4ee5\u4f7f\u7528\u83b7\u53d6 graphMeta */\n\n            _context.next = 3;\n            return es["r" /* MODELS */].GRAPH_META.useValue(modelService);\n\n          case 3:\n            graphMeta = _context.sent;\n            console.log(\'formSchemaService\', graphMeta, args);\n\n            if (!(targetType === \'canvas\')) {\n              _context.next = 7;\n              break;\n            }\n\n            return _context.abrupt("return", {\n              tabs: [{\n                name: \'GraphMeta\',\n                groups: []\n              }]\n            });\n\n          case 7:\n            nodeSchema = {\n              tabs: [{\n                name: \'Tab1\',\n                groups: [{\n                  name: \'groupName\',\n                  controls: [{\n                    label: \'GraphEditor\',\n                    name: \'Tab1-0\',\n\n                    /** \u4f7f\u7528\u81ea\u5b9a\u4e49shape */\n                    shape: ControlShapeEnum.EDITOR,\n                    disabled: false,\n                    required: true,\n                    tooltip: \'hello world\',\n                    placeholder: \'please write something\',\n                    value: \'\',\n                    defaultValue: \'\',\n                    // \u53ef\u4ee5\u8ba4\u4e3a\u662f\u9ed8\u8ba4\u503c\n                    hidden: false,\n                    options: [{\n                      title: \'\',\n                      value: \'\'\n                    }],\n                    originData: {} // \u539f\u59cb\u6570\u636e\n\n                  }, {\n                    label: \'Link\',\n                    name: \'Tab1-1\',\n\n                    /** \u4f7f\u7528\u81ea\u5b9a\u4e49shape */\n                    shape: ControlShapeEnum.LINKSHAPE,\n                    disabled: false,\n                    required: true,\n                    tooltip: \'hello world\',\n                    extra: \'hello world extra\',\n                    placeholder: \'please write something\',\n                    value: \'\',\n                    defaultValue: \'\',\n                    // \u53ef\u4ee5\u8ba4\u4e3a\u662f\u9ed8\u8ba4\u503c\n                    hidden: false,\n                    options: [{\n                      title: \'\',\n                      value: \'\'\n                    }],\n                    originData: {} // \u539f\u59cb\u6570\u636e\n\n                  }, {\n                    label: \'Tab1-2\',\n                    name: \'Tab1-2\',\n                    // \u4e5f\u53ef\u4ee5\u662f\u6570\u7ec4\n                    shape: \'Input\',\n                    disabled: false,\n                    required: true,\n                    tooltip: \'hello world\',\n                    extra: \'hello world extra\',\n                    placeholder: \'please write something\',\n                    value: \'\',\n                    defaultValue: \'\',\n                    // \u53ef\u4ee5\u8ba4\u4e3a\u662f\u9ed8\u8ba4\u503c\n                    hidden: false,\n                    options: [{\n                      title: \'\',\n                      value: \'\'\n                    }],\n                    originData: {} // \u539f\u59cb\u6570\u636e\n\n                  }, {\n                    label: \'Tab1-3\',\n                    name: \'Tab1-3\',\n                    // \u4e5f\u53ef\u4ee5\u662f\u6570\u7ec4\n                    shape: \'Input\',\n                    disabled: false,\n                    required: true,\n                    tooltip: \'hello world\',\n                    extra: \'hello world extra\',\n                    placeholder: \'please write something\',\n                    value: \'\',\n                    defaultValue: \'\',\n                    // \u53ef\u4ee5\u8ba4\u4e3a\u662f\u9ed8\u8ba4\u503c\n                    hidden: false,\n                    options: [{\n                      title: \'\',\n                      value: \'\'\n                    }],\n                    originData: {} // \u539f\u59cb\u6570\u636e\n\n                  }, {\n                    label: \'Tab1-4\',\n                    name: \'Tab1-4\',\n                    // \u4e5f\u53ef\u4ee5\u662f\u6570\u7ec4\n                    shape: \'Input\',\n                    disabled: false,\n                    required: true,\n                    tooltip: \'hello world\',\n                    extra: \'hello world extra\',\n                    placeholder: \'please write something\',\n                    value: \'\',\n                    defaultValue: \'\',\n                    // \u53ef\u4ee5\u8ba4\u4e3a\u662f\u9ed8\u8ba4\u503c\n                    hidden: false,\n                    options: [{\n                      title: \'\',\n                      value: \'\'\n                    }],\n                    originData: {} // \u539f\u59cb\u6570\u636e\n\n                  }]\n                }]\n              }, {\n                name: \'Tab2\',\n                groups: [{\n                  name: \'groupName\',\n                  controls: [{\n                    name: \'Tab2-1\',\n                    // \u4e5f\u53ef\u4ee5\u662f\u6570\u7ec4\n                    label: \'Tab2-1\',\n                    shape: \'Input\',\n                    disabled: false,\n                    required: true,\n                    tooltip: \'hello world\',\n                    extra: \'hello world extra\',\n                    placeholder: \'please write something\',\n                    value: \'\',\n                    defaultValue: \'\',\n                    // \u53ef\u4ee5\u8ba4\u4e3a\u662f\u9ed8\u8ba4\u503c\n                    hidden: false,\n                    options: [{\n                      title: \'\',\n                      value: \'\'\n                    }],\n                    originData: {} // \u539f\u59cb\u6570\u636e\n\n                  }, {\n                    label: \'Tab2-2\',\n                    name: \'Tab2-2\',\n                    // \u4e5f\u53ef\u4ee5\u662f\u6570\u7ec4\n                    shape: \'Input\',\n                    disabled: false,\n                    required: true,\n                    tooltip: \'hello world\',\n                    extra: \'hello world extra\',\n                    placeholder: \'please write something\',\n                    value: \'\',\n                    defaultValue: \'\',\n                    // \u53ef\u4ee5\u8ba4\u4e3a\u662f\u9ed8\u8ba4\u503c\n                    hidden: false,\n                    options: [{\n                      title: \'\',\n                      value: \'\'\n                    }],\n                    originData: {} // \u539f\u59cb\u6570\u636e\n\n                  }, {\n                    label: \'Tab2-3\',\n                    name: \'Tab2-3\',\n                    // \u4e5f\u53ef\u4ee5\u662f\u6570\u7ec4\n                    shape: \'Input\',\n                    disabled: false,\n                    required: true,\n                    tooltip: \'hello world\',\n                    extra: \'hello world extra\',\n                    placeholder: \'please write something\',\n                    value: \'\',\n                    defaultValue: \'\',\n                    // \u53ef\u4ee5\u8ba4\u4e3a\u662f\u9ed8\u8ba4\u503c\n                    hidden: false,\n                    options: [{\n                      title: \'\',\n                      value: \'\'\n                    }],\n                    originData: {} // \u539f\u59cb\u6570\u636e\n\n                  }]\n                }]\n              }]\n            };\n            _context.next = 10;\n            return delay(100);\n\n          case 10:\n            if (!(targetData && i === 0)) {\n              _context.next = 13;\n              break;\n            }\n\n            i = 1;\n            return _context.abrupt("return", nodeSchema);\n\n          case 13:\n            if (!targetData) {\n              _context.next = 16;\n              break;\n            }\n\n            i = 0;\n            return _context.abrupt("return", {\n              tabs: [{\n                name: \'Tab3\',\n                groups: []\n              }]\n            });\n\n          case 16:\n            if (!targetData) {\n              _context.next = 18;\n              break;\n            }\n\n            return _context.abrupt("return", nodeSchema);\n\n          case 18:\n            return _context.abrupt("return", {\n              tabs: []\n            });\n\n          case 19:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function formSchemaService(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar formValueUpdateService = /*#__PURE__*/function () {\n  var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(args) {\n    return regenerator_default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            console.log(\'formValueUpdateService\', args);\n\n          case 1:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function formValueUpdateService(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n// EXTERNAL MODULE: ./docs/tutorial/solutions/dag/demos/basic/index.less\nvar basic = __webpack_require__("DvvA");\n\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// CONCATENATED MODULE: ./docs/tutorial/solutions/dag/demos/basic/index.tsx\n\n\n\n/** app \u6838\u5fc3\u7ec4\u4ef6 */\n\n\n\n/** \u4ea4\u4e92\u7ec4\u4ef6 */\n\n/** app \u7ec4\u4ef6\u914d\u7f6e  */\n\n/** \u914d\u7f6e\u753b\u5e03 */\n\n\n/** \u914d\u7f6eCommand */\n\n\n/** \u914d\u7f6eModel */\n\n\n/** \u914d\u7f6eMenu */\n\n\n/** \u914d\u7f6eToolbar */\n\n\n/** \u914d\u7f6e\u5feb\u6377\u952e */\n\n\n/** \u914d\u7f6eDnd\u7ec4\u4ef6\u9762\u677f */\n\n\n/** \u914d\u7f6eJsonConfigForm */\n\n\n\n\nvar Demo = props => {\n  var meta = props.meta;\n  var graphHooksConfig = useGraphHookConfig(props);\n  var toolbarConfig = useToolbarConfig();\n  var menuConfig = useMenuConfig();\n  var cmdConfig = useCmdConfig();\n  var modelServiceConfig = useModelServiceConfig();\n  var keybindingConfig = useKeybindingConfig();\n  var cache = react_default.a.useMemo(() => ({\n    app: null\n  }), []);\n  /**\n   * @param app \u5f53\u524dXFlow\u5de5\u4f5c\u7a7a\u95f4\n   * @param extensionRegistry \u5f53\u524dXFlow\u914d\u7f6e\u9879\n   */\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              cache.app = app;\n              initGraphCmds(cache.app);\n\n            case 2:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  /** \u7236\u7ec4\u4ef6meta\u5c5e\u6027\u66f4\u65b0\u65f6,\u6267\u884cinitGraphCmds */\n\n\n  react_default.a.useEffect(() => {\n    if (cache.app) {\n      initGraphCmds(cache.app);\n    }\n  }, [cache.app, meta]);\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    className: "user-custom-clz",\n    hookConfig: graphHooksConfig,\n    modelServiceConfig: modelServiceConfig,\n    commandConfig: cmdConfig,\n    onLoad: onLoad,\n    meta: meta\n  }, /*#__PURE__*/react_default.a.createElement(es["g" /* DagGraphExtension */], null), /*#__PURE__*/react_default.a.createElement(es["u" /* NodeTreePanel */], {\n    searchService: searchService,\n    treeDataService: treeDataService,\n    onNodeDrop: onNodeDrop,\n    position: {\n      width: 290,\n      top: 0,\n      bottom: 0,\n      left: 0\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["f" /* CanvasToolbar */], {\n    className: "xflow-workspace-toolbar-top",\n    layout: "horizontal",\n    config: toolbarConfig,\n    position: {\n      top: 0,\n      left: 290,\n      right: 290,\n      bottom: 0\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    position: {\n      top: 40,\n      left: 290,\n      right: 290,\n      bottom: 40\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es["d" /* CanvasScaleToolbar */], {\n    position: {\n      top: 12,\n      right: 12\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["a" /* CanvasContextMenu */], {\n    config: menuConfig\n  }), /*#__PURE__*/react_default.a.createElement(es["b" /* CanvasMiniMap */], null), /*#__PURE__*/react_default.a.createElement(es["e" /* CanvasSnapline */], {\n    color: "#faad14"\n  }), /*#__PURE__*/react_default.a.createElement(es["c" /* CanvasNodePortTooltip */], null)), /*#__PURE__*/react_default.a.createElement(es["x" /* WorkspacePanel */], {\n    className: "xflow-workspace-toolbar-bottom",\n    position: {\n      bottom: 0,\n      left: 290,\n      right: 290,\n      height: 40,\n      lineHeight: 40\n    }\n  }, /*#__PURE__*/react_default.a.createElement("div", null, " Bottom Toolbar ")), /*#__PURE__*/react_default.a.createElement(es["p" /* JsonSchemaForm */], {\n    controlMapService: controlMapService,\n    formSchemaService: formSchemaService,\n    formValueUpdateService: formValueUpdateService,\n    position: {\n      width: 290,\n      top: 0,\n      bottom: 0,\n      right: 0\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["q" /* KeyBindings */], {\n    config: keybindingConfig\n  }));\n};\n/* harmony default export */ var demos_basic = __webpack_exports__["default"] = (Demo);\nDemo.defaultProps = {\n  meta: {\n    flowId: \'test-meta-flow-id\'\n  }\n};\n\n//# sourceURL=webpack:///./docs/tutorial/solutions/dag/demos/basic/index.tsx_+_20_modules?')},Yj0D:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("jem/");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__("jMRu");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__("DuHN");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__("SCaQ");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/workspace-panel/demos/basic/custom-panel/index.tsx\n\n\n\n\n\n\nvar ModelServieCard = () => {\n  var app = Object(es["S" /* useXFlowApp */])();\n\n  var _useModelAsync = Object(es["Q" /* useModelAsync */])({\n    getModel: function () {\n      var _getModel = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n        return regenerator_default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt("return", es["r" /* MODELS */].SELECTED_NODES.getModel(app.modelService));\n\n              case 1:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getModel() {\n        return _getModel.apply(this, arguments);\n      }\n\n      return getModel;\n    }(),\n    initialState: []\n  }),\n      _useModelAsync2 = Object(slicedToArray["a" /* default */])(_useModelAsync, 1),\n      cells = _useModelAsync2[0];\n\n  return /*#__PURE__*/react_default.a.createElement(card["a" /* default */], {\n    title: "Model Service ",\n    size: "small"\n  }, /*#__PURE__*/react_default.a.createElement("div", null, " \\u5F53\\u524D\\u9009\\u4E2D\\u8282\\u70B9\\u6570\\u91CF: ", cells.length, " "));\n};\nvar CommandServieCard = () => {\n  var app = Object(es["S" /* useXFlowApp */])();\n\n  var onFinish = values => {\n    if (!values.label) {\n      return message["b" /* default */].warn("\\u8BF7\\u8F93\\u5165\\u8282\\u70B9\\u540D");\n    }\n\n    app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n      nodeConfig: {\n        id: Object(es["T" /* uuidv4 */])(),\n        label: values.label,\n        x: Object(es["O" /* randomInt */])(50, 100),\n        y: Object(es["O" /* randomInt */])(50, 100),\n        width: 160,\n        height: 30\n      }\n    });\n  };\n\n  return /*#__PURE__*/react_default.a.createElement(card["a" /* default */], {\n    title: "Command Service ",\n    size: "small"\n  }, /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */], {\n    onFinish: onFinish,\n    layout: "vertical"\n  }, /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */].Item, {\n    name: "label",\n    label: "\\u8282\\u70B9\\u540D",\n    required: true,\n    requiredMark: true\n  }, /*#__PURE__*/react_default.a.createElement(input["a" /* default */], {\n    placeholder: "node label"\n  })), /*#__PURE__*/react_default.a.createElement(es_form["a" /* default */].Item, {\n    name: "label"\n  }, /*#__PURE__*/react_default.a.createElement(es_button["a" /* default */], {\n    type: "primary",\n    htmlType: "submit",\n    style: {\n      width: \'100%\'\n    }\n  }, "\\u6267\\u884CAddNode\\u547D\\u4EE4"))));\n};\nvar X6GraphCard = () => {\n  var app = Object(es["S" /* useXFlowApp */])();\n\n  var callX6Api = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2() {\n      var x6, cells;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return app.getGraphInstance();\n\n            case 2:\n              x6 = _context2.sent;\n              cells = x6.getCells();\n              console.log(\'x6 graph\', x6);\n              message["b" /* default */].info("x6 \\u753B\\u5E03\\u5DF2\\u6709cell: ".concat(cells.length, " \\u4E2A")); // \u8bf7\u52ff\u7ed5\u8fc7command \u76f4\u63a5\u4fee\u6539\u753b\u5e03\u6570\u636e\n\n            case 6:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function callX6Api() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(card["a" /* default */], {\n    title: "use X6 Graph ",\n    size: "small"\n  }, /*#__PURE__*/react_default.a.createElement(es_button["a" /* default */], {\n    type: "primary",\n    htmlType: "submit",\n    onClick: callX6Api,\n    style: {\n      width: \'100%\'\n    }\n  }, "\\u83B7\\u53D6X6 Cells \\u6570\\u91CF"));\n};\nvar CustomPanel = () => {\n  var _usePanelContext = Object(es["R" /* usePanelContext */])(),\n      propsProxy = _usePanelContext.propsProxy;\n\n  var app = Object(es["S" /* useXFlowApp */])();\n  var props = propsProxy.getValue();\n  console.log(\'can use root component props:\', props);\n  console.log(\'can use app\', app);\n  return /*#__PURE__*/react_default.a.createElement("div", {\n    className: "card-wrap"\n  }, /*#__PURE__*/react_default.a.createElement(ModelServieCard, null), /*#__PURE__*/react_default.a.createElement(CommandServieCard, null), /*#__PURE__*/react_default.a.createElement(X6GraphCard, null));\n};\n/* harmony default export */ var custom_panel = (props => {\n  return /*#__PURE__*/react_default.a.createElement(es["x" /* WorkspacePanel */], props, /*#__PURE__*/react_default.a.createElement(CustomPanel, null));\n});\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/workspace-panel/demos/basic/index.less\nvar basic = __webpack_require__("PeEK");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/workspace-panel/demos/basic/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/workspace-panel/demos/basic/graph-config.tsx\n\n\n\n\n\n\nvar onLoad = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n    var res, _res$contextProvider$, graphData;\n\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n              layoutType: \'dagre\',\n              layoutOptions: {\n                type: \'dagre\',\n\n                /** \u5e03\u5c40\u65b9\u5411 */\n                rankdir: \'TB\',\n\n                /** \u8282\u70b9\u95f4\u8ddd */\n                nodesep: 60,\n\n                /** \u5c42\u95f4\u8ddd */\n                ranksep: 30\n              },\n              graphData: getGraphData()\n            });\n\n          case 2:\n            res = _context.sent;\n            _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n            _context.next = 6;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n              graphData: graphData\n            });\n\n          case 6:\n            _context.next = 8;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n              factor: \'real\'\n            });\n\n          case 8:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onLoad(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/workspace-panel/demos/basic/index.tsx\n/**\n * title: \u57fa\u7840\u4f7f\u7528\n * desc: \uff5c\n *    \u83b7\u53d6app, \u5206\u522b\u4f7f\u7528Model/Command/X6Graph <br>\n */\n\n\n\n\n\n\n/**  Demo Props  */\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 290,\n      right: 0\n    }\n  }), /*#__PURE__*/react_default.a.createElement(custom_panel, {\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      width: 290\n    }\n  }));\n};\n\n/* harmony default export */ var demos_basic = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/workspace-panel/demos/basic/index.tsx_+_3_modules?')},bDTx:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "width", function() { return /* binding */ width; });\n__webpack_require__.d(__webpack_exports__, "height", function() { return /* binding */ height; });\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("jem/");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__("DuHN");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__("jMRu");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-front/demos/form.tsx\n\n\n\n\n\n\n\nvar formItems = [{\n  name: \'nodeId\',\n  label: \'nodeId\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */],\n  renderProps: {\n    disabled: true\n  }\n}];\nvar CmdForm = () => {\n  var _usePanelContext = Object(es["R" /* usePanelContext */])(),\n      commandService = _usePanelContext.commandService;\n\n  var _Form$useForm = es_form["a" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray["a" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(values) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              commandService.executeCommand(es["F" /* XFlowNodeCommands */].FRONT_NODE.id, values);\n              console.log(\'executeCommand with args\', values);\n              message["b" /* default */].success("".concat(es["F" /* XFlowNodeCommands */].FRONT_NODE.label, ": \\u547D\\u4EE4\\u6267\\u884C\\u6210\\u529F"));\n              form.setFieldsValue({\n                nodeId: values.nodeId === \'node1\' ? \'node2\' : \'node1\'\n              });\n\n            case 4:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onFinish(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["l" /* FormBuilder */], {\n    form: form,\n    formItems: formItems,\n    onFinish: onFinish,\n    initialValues: {\n      nodeId: \'node1\'\n    }\n  });\n};\nvar FormPanel = () => {\n  return /*#__PURE__*/react_default.a.createElement(es["x" /* WorkspacePanel */], {\n    position: {\n      top: 0,\n      left: 0,\n      bottom: 0,\n      width: 230\n    },\n    className: "panel"\n  }, /*#__PURE__*/react_default.a.createElement(card["a" /* default */], {\n    title: "NodeConfig Options",\n    size: "small",\n    bordered: false\n  }, /*#__PURE__*/react_default.a.createElement(CmdForm, null)));\n};\n// EXTERNAL MODULE: ./docs/api/commands/nodes/node-front/demos/index.less\nvar demos = __webpack_require__("kgZ3");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-front/demos/index.tsx\n\n\n\n\n\n\nvar width = 100;\nvar height = 40;\n/**  graphConfig hook  */\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setX6Config({\n    grid: true\n  });\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar NodeAddDemo = () => {\n  var graphConfig = useGraphConfig();\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'node1\',\n                  x: 100,\n                  y: 30,\n                  label: \'NODENODE1\',\n                  width,\n                  height\n                }\n              });\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'node2\',\n                  x: 120,\n                  y: 50,\n                  label: \'NODENODE2\',\n                  width,\n                  height\n                }\n              });\n              return _context.abrupt("return", app);\n\n            case 3:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    meta: {\n      flowId: \'add-node-demo\'\n    },\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(FormPanel, null), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    className: "app-main-content",\n    config: graphConfig,\n    position: {\n      top: 0,\n      left: 230,\n      right: 0,\n      bottom: 0\n    }\n  }));\n};\n\n/* harmony default export */ var node_front_demos = __webpack_exports__["default"] = (NodeAddDemo);\n\n//# sourceURL=webpack:///./docs/api/commands/nodes/node-front/demos/index.tsx_+_1_modules?')},bTza:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__(\"mqVf\");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"KOBo\");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"RY7m\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(\"BcGY\");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-node-panel/demos/basic/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: 'block',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: '',\n      stroke: '#A2B1C3',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2[\"a\" /* default */])({\n    id: 'node1',\n    label: '\u7b97\u6cd5\u8282\u70b9-1'\n  }, NODE_COMMON_PROPS), Object(objectSpread2[\"a\" /* default */])({\n    id: 'node2',\n    label: '\u7b97\u6cd5\u8282\u70b9-2'\n  }, NODE_COMMON_PROPS), Object(objectSpread2[\"a\" /* default */])({\n    id: 'node3',\n    label: '\u7b97\u6cd5\u8282\u70b9-3'\n  }, NODE_COMMON_PROPS), Object(objectSpread2[\"a\" /* default */])({\n    id: 'node4',\n    label: '\u7b97\u6cd5\u8282\u70b9-4'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2[\"a\" /* default */])({\n    id: Object(es[\"T\" /* uuidv4 */])(),\n    source: 'node1',\n    target: 'node2',\n    sourcePortId: 'node1-output-1',\n    targetPortId: 'node2-input-1'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2[\"a\" /* default */])({\n    id: Object(es[\"T\" /* uuidv4 */])(),\n    source: 'node1',\n    target: 'node3',\n    sourcePortId: 'node1-output-1',\n    targetPortId: 'node3-input-1'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2[\"a\" /* default */])({\n    id: Object(es[\"T\" /* uuidv4 */])(),\n    source: 'node1',\n    target: 'node4',\n    sourcePortId: 'node1-output-1',\n    targetPortId: 'node4-input-1'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-node-panel/demos/basic/graph-config.tsx\n\n\n\n\n\n\nvar onLoad = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n    var res, _res$contextProvider$, graphData;\n\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return app.executeCommand(es[\"D\" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n              layoutType: 'dagre',\n              layoutOptions: {\n                type: 'dagre',\n\n                /** \u5e03\u5c40\u65b9\u5411 */\n                rankdir: 'TB',\n\n                /** \u8282\u70b9\u95f4\u8ddd */\n                nodesep: 60,\n\n                /** \u5c42\u95f4\u8ddd */\n                ranksep: 30\n              },\n              graphData: getGraphData()\n            });\n\n          case 2:\n            res = _context.sent;\n            _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n            _context.next = 6;\n            return app.executeCommand(es[\"D\" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n              graphData: graphData\n            });\n\n          case 6:\n            _context.next = 8;\n            return app.executeCommand(es[\"D\" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n              factor: 'real'\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onLoad(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\n\nvar useGraphConfig = Object(es[\"I\" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: \"react-dnd-node\"\n    }, \" \", props.data.label, \" \");\n  });\n});\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-node-panel/demos/basic/comannd-utils.tsx\n\n\nvar addNode = (cmd, nodeConfig) => {\n  return cmd.executeCommand(es[\"F\" /* XFlowNodeCommands */].ADD_NODE.id, {\n    nodeConfig: Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({}, nodeConfig), {}, {\n      id: Object(es[\"T\" /* uuidv4 */])(),\n      width: 190,\n      height: 32\n    })\n  });\n};\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-node-panel/demos/basic/dnd-tree-config.tsx\n\n\n\n\n\nvar DND_RENDER_ID = 'DND_RENDER_ID';\nvar onNodeDrop = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(nodeConfig, commandService, modelService) {\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            addNode(commandService, nodeConfig);\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onNodeDrop(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar treeDataService = /*#__PURE__*/function () {\n  var _ref2 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(meta, modelService) {\n    return regenerator_default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", [{\n              id: '1',\n              label: '\u6570\u636e\u8bfb\u5199',\n              parentId: '',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '2',\n              label: '\u7b97\u6cd5\u7ec4\u4ef61',\n              parentId: '1',\n              width: 190,\n              height: 32,\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE,\n              popoverContent: /*#__PURE__*/react_default.a.createElement(\"div\", null, \" test \")\n            }, {\n              id: '3',\n              label: '\u7b97\u6cd5\u7ec4\u4ef62',\n              parentId: '1',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '4',\n              label: '\u7b97\u6cd5\u7ec4\u4ef63',\n              parentId: '1',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '5',\n              label: '\u6570\u636e\u52a0\u5de5',\n              parentId: '',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '6',\n              label: '\u7b97\u6cd5\u7ec4\u4ef64',\n              parentId: '5',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '7',\n              label: '\u7b97\u6cd5\u7ec4\u4ef65',\n              parentId: '5',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '8',\n              label: '\u7b97\u6cd5\u7ec4\u4ef66',\n              parentId: '5',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '9',\n              label: '\u6a21\u578b\u8bad\u7ec3',\n              parentId: '',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '10',\n              label: '\u7b97\u6cd5\u7ec4\u4ef67',\n              parentId: '9',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '11',\n              label: '\u7b97\u6cd5\u7ec4\u4ef68',\n              parentId: '9',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }, {\n              id: '12',\n              label: '\u7b97\u6cd5\u7ec4\u4ef69',\n              parentId: '9',\n              renderKey: es[\"B\" /* XFlowConstants */].XFLOW_DEFAULT_NODE\n            }]);\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function treeDataService(_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-node-panel/demos/basic/index.less\nvar basic = __webpack_require__(\"Tjt5\");\n\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__(\"1MRj\");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-node-panel/demos/basic/index.tsx\n/**\n * title: \u57fa\u7840\u4f7f\u7528\n * desc: |\n *  treeDataService:\u8fd4\u56de\u5e73\u94fa\u7684\u6811\u7ed3\u6784 <br>\n *  \u901a\u8fc7parentId\u5c06node\u7ec4\u7ec7\u5230\u5bf9\u5e94\u6587\u4ef6\u5939\u4e0b, parentId \u4e3a\u7a7a\u7684\u8282\u70b9\u662f\u6587\u4ef6\u5939\u8282\u70b9 <br>\n *  \u652f\u6301popoverContent\u5c5e\u6027  <br>\n *  onNodeDrop \u56de\u8c03\u65f6\u65f6\uff0c\u8981\u6c42\u4f7f\u7528\u547d\u4ee4\u521b\u5efa\u8282\u70b9  <br>\n */\n\n\n\n\n\n\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  return /*#__PURE__*/react_default.a.createElement(es[\"y\" /* XFlow */], {\n    onLoad: onLoad,\n    className: \"xflow-workspace\"\n  }, /*#__PURE__*/react_default.a.createElement(es[\"u\" /* NodeTreePanel */], {\n    header: /*#__PURE__*/react_default.a.createElement(\"h4\", {\n      className: \"dnd-panel-header\"\n    }, \" \\u7EC4\\u4EF6\\u9762\\u677F \"),\n    footer: /*#__PURE__*/react_default.a.createElement(\"div\", null, \" Foorter \"),\n    onNodeDrop: onNodeDrop,\n    treeDataService: treeDataService,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      width: 290\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es[\"A\" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 290,\n      right: 0\n    }\n  }));\n};\n\n/* harmony default export */ var demos_basic = __webpack_exports__[\"default\"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-node-panel/demos/basic/index.tsx_+_4_modules?")},fLTG:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return useGraphConfig; });\n/* harmony import */ var _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("KOBo");\n/* harmony import */ var _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("RY7m");\n/* harmony import */ var _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("q1tI");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _antv_xflow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("mqVf");\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("m2sD");\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_index_less__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n/** graphConfig hook */\n\nvar useGraphConfig = Object(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* createGraphConfig */ "I"])(config => {\n  config.setX6Config({\n    grid: true\n  });\n  config.setNodeRender(\'NODE1\', props => {\n    var _props$data;\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {\n      className: "react-node"\n    }, (_props$data = props.data) === null || _props$data === void 0 ? void 0 : _props$data.info);\n  });\n  config.setNodeTypeParser(node => node === null || node === void 0 ? void 0 : node.renderKey);\n});\n\nvar Demo = () => {\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(_Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"])( /*#__PURE__*/_Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(app) {\n      var nodes, edges, graphData;\n      return _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              nodes = [{\n                id: \'root1\',\n                x: 200,\n                y: 50,\n                width: 120,\n                height: 40,\n                renderKey: \'NODE1\',\n                info: \'React\u8282\u70b91\'\n              }, {\n                id: \'down1\',\n                x: 550,\n                y: 50,\n                width: 120,\n                height: 40,\n                renderKey: \'NODE1\',\n                info: \'React\u8282\u70b92\'\n              }];\n              edges = [{\n                id: \'root1-down1\',\n                source: \'root1\',\n                target: \'down1\',\n                label: \'text\'\n              }];\n              graphData = {\n                nodes,\n                edges\n              };\n              /** \u6267\u884c\u753b\u5e03\u6e32\u67d3\u547d\u4ee4 */\n\n              app.executeCommand(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* XFlowGraphCommands */ "D"].GRAPH_RENDER.id, {\n                graphData\n              });\n\n            case 4:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* XFlow */ "y"], {\n    onLoad: onLoad,\n    className: "xflow-render-graph-demo"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* XFlowCanvas */ "A"], {\n    config: useGraphConfig()\n  }));\n};\n\n/* harmony default export */ __webpack_exports__["default"] = (Demo);\n\n//# sourceURL=webpack:///./docs/api/commands/graph/graph-render/demos/index.tsx?')},kcdX:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/lodash/lodash.js\nvar lodash = __webpack_require__("nsO7");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/basic/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/basic/graph-config.tsx\n\n\n\n\nvar onLoad = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n    var res, _res$contextProvider$, graphData;\n\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n              layoutType: \'dagre\',\n              layoutOptions: {\n                type: \'dagre\',\n\n                /** \u5e03\u5c40\u65b9\u5411 */\n                rankdir: \'TB\',\n\n                /** \u8282\u70b9\u95f4\u8ddd */\n                nodesep: 60,\n\n                /** \u5c42\u95f4\u8ddd */\n                ranksep: 30\n              },\n              graphData: getGraphData()\n            });\n\n          case 2:\n            res = _context.sent;\n            _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n            _context.next = 6;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n              graphData: graphData\n            });\n\n          case 6:\n            _context.next = 8;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n              factor: \'real\'\n            });\n\n          case 8:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onLoad(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/basic/index.less\nvar basic = __webpack_require__("YxKg");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-config-form/demos/basic/index.tsx\n\n\n\n\n/**\n * title: \u57fa\u7840\u4f7f\u7528\n * desc: |\n *  \u4f7f\u7528 formSchemaService \u51fd\u6570\u8fd4\u56de\u7684\u6570\u636e\u4f5c\u4e3aform\u7684schema <br>\n *  schema \u4e2d\u7684 shape \u5b57\u6bb5\u51b3\u5b9a\u6e32\u67d3\u7684\u7ec4\u4ef6 <br>\n *  \u7528\u6237\u4fee\u6539\u8868\u5355\u9879\u540e\u4f1a\u89e6\u53d1 formValueUpdateService \u7684\u56de\u8c03\uff0c\u56de\u8c03\u4e2d\u53ef\u4ee5\u4fdd\u5b58\u6570\u636e <br>\n */\n\n\n\n\n\n\n/**  Demo Props  */\n\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\nvar NsJsonForm;\n\n(function (_NsJsonForm) {\n  /** ControlShape\u7684Enum */\n  var ControlShape = es["w" /* NsJsonSchemaForm */].ControlShape;\n  /** \u4fdd\u5b58form\u7684values */\n\n  var formValueUpdateService = _NsJsonForm.formValueUpdateService = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(args) {\n      var values, commandService, targetData, updateNode, nodeConfig;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              values = args.values, commandService = args.commandService, targetData = args.targetData;\n\n              updateNode = node => {\n                return commandService.executeCommand(es["F" /* XFlowNodeCommands */].UPDATE_NODE.id, {\n                  nodeConfig: node\n                });\n              };\n\n              console.log(\'formValueUpdateService  values:\', values, args);\n              nodeConfig = Object(objectSpread2["a" /* default */])({}, targetData);\n              values.forEach(val => {\n                Object(lodash["set"])(nodeConfig, val.name, val.value);\n              });\n              updateNode(nodeConfig);\n\n            case 6:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var formSchemaService = _NsJsonForm.formSchemaService = /*#__PURE__*/function () {\n    var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(args) {\n      var targetData;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              targetData = args.targetData;\n              console.log("formSchemaService args:", args);\n\n              if (targetData) {\n                _context2.next = 4;\n                break;\n              }\n\n              return _context2.abrupt("return", {\n                tabs: [{\n                  /** Tab\u7684title */\n                  name: \'\u753b\u5e03\u914d\u7f6e\',\n                  groups: []\n                }]\n              });\n\n            case 4:\n              return _context2.abrupt("return", {\n                /** \u914d\u7f6e\u4e00\u4e2aTab */\n                tabs: [{\n                  /** Tab\u7684title */\n                  name: \'\u8282\u70b9\u914d\u7f6e\',\n                  groups: [{\n                    name: \'group1\',\n                    controls: [{\n                      name: \'label\',\n                      label: \'\u8282\u70b9Label\',\n                      shape: ControlShape.INPUT,\n                      value: targetData.label\n                    }, {\n                      name: \'x\',\n                      label: \'x\',\n                      shape: ControlShape.FLOAT,\n                      value: targetData.x\n                    }, {\n                      name: \'y\',\n                      label: \'y\',\n                      shape: ControlShape.FLOAT,\n                      value: targetData.y\n                    }]\n                  }]\n                }]\n              });\n\n            case 5:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n})(NsJsonForm || (NsJsonForm = {}));\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 290\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["p" /* JsonSchemaForm */], {\n    formSchemaService: NsJsonForm.formSchemaService,\n    formValueUpdateService: NsJsonForm.formValueUpdateService,\n    position: {\n      top: 0,\n      bottom: 0,\n      right: 0,\n      width: 290\n    }\n  }));\n};\n\n/* harmony default export */ var demos_basic = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-config-form/demos/basic/index.tsx_+_2_modules?')},moO5:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-snapline/demos/color/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-snapline/demos/color/index.less\nvar color = __webpack_require__("XWkc");\n\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-snapline/demos/color/index.tsx\n\n\n\n/**\n * title: \u5bf9\u9f50\u7ebf\u989c\u8272\n * desc: \u4f7f\u7528color\u5c5e\u6027\u914d\u7f6e\u4e0d\u540c\u7684\u5bf9\u9f50\u7ebf\u989c\u8272\n */\n\n\n\n\n\n/**  Demo Props  */\n\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      var res, _res$contextProvider$, graphData;\n\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n                layoutType: \'dagre\',\n                layoutOptions: {\n                  type: \'dagre\',\n\n                  /** \u5e03\u5c40\u65b9\u5411 */\n                  rankdir: \'TB\',\n\n                  /** \u8282\u70b9\u95f4\u8ddd */\n                  nodesep: 60,\n\n                  /** \u5c42\u95f4\u8ddd */\n                  ranksep: 30\n                },\n                graphData: getGraphData()\n              });\n\n            case 2:\n              res = _context.sent;\n              _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n              _context.next = 6;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n                graphData: graphData\n              });\n\n            case 6:\n              _context.next = 8;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n                factor: \'real\'\n              });\n\n            case 8:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es["e" /* CanvasSnapline */], {\n    color: "#873bf4"\n  })));\n};\n\n/* harmony default export */ var demos_color = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-snapline/demos/color/index.tsx_+_1_modules?')},mqVf:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "s", function() { return /* reexport */ index_esm; });\n__webpack_require__.d(__webpack_exports__, "v", function() { return /* reexport */ NsGraph; });\n__webpack_require__.d(__webpack_exports__, "y", function() { return /* reexport */ XFlow; });\n__webpack_require__.d(__webpack_exports__, "A", function() { return /* reexport */ XFlowCanvas; });\n__webpack_require__.d(__webpack_exports__, "z", function() { return /* reexport */ XFlowAppProvider; });\n__webpack_require__.d(__webpack_exports__, "S", function() { return /* reexport */ useXFlowApp; });\n__webpack_require__.d(__webpack_exports__, "I", function() { return /* reexport */ createGraphConfig; });\n__webpack_require__.d(__webpack_exports__, "n", function() { return /* reexport */ ICommandContextProvider; });\n__webpack_require__.d(__webpack_exports__, "F", function() { return /* reexport */ XFlowNodeCommands; });\n__webpack_require__.d(__webpack_exports__, "C", function() { return /* reexport */ XFlowEdgeCommands; });\n__webpack_require__.d(__webpack_exports__, "E", function() { return /* reexport */ XFlowGroupCommands; });\n__webpack_require__.d(__webpack_exports__, "D", function() { return /* reexport */ XFlowGraphCommands; });\n__webpack_require__.d(__webpack_exports__, "G", function() { return /* reexport */ createCmdConfig; });\n__webpack_require__.d(__webpack_exports__, "P", function() { return /* reexport */ useAppContext; });\n__webpack_require__.d(__webpack_exports__, "J", function() { return /* reexport */ createHookConfig; });\n__webpack_require__.d(__webpack_exports__, "r", function() { return /* reexport */ model_service_constant_namespaceObject; });\n__webpack_require__.d(__webpack_exports__, "L", function() { return /* reexport */ createModelServiceConfig; });\n__webpack_require__.d(__webpack_exports__, "Q", function() { return /* reexport */ useModelAsync; });\n__webpack_require__.d(__webpack_exports__, "t", function() { return /* reexport */ MenuItemType; });\n__webpack_require__.d(__webpack_exports__, "q", function() { return /* reexport */ KeyBindings; });\n__webpack_require__.d(__webpack_exports__, "K", function() { return /* reexport */ createKeybindingConfig; });\n__webpack_require__.d(__webpack_exports__, "i", function() { return /* reexport */ Disposable; });\n__webpack_require__.d(__webpack_exports__, "j", function() { return /* reexport */ disposable_DisposableCollection; });\n__webpack_require__.d(__webpack_exports__, "h", function() { return /* reexport */ Deferred; });\n__webpack_require__.d(__webpack_exports__, "N", function() { return /* reexport */ delay; });\n__webpack_require__.d(__webpack_exports__, "T", function() { return /* reexport */ uuidv4; });\n__webpack_require__.d(__webpack_exports__, "o", function() { return /* reexport */ IconStore; });\n__webpack_require__.d(__webpack_exports__, "B", function() { return /* reexport */ constants_namespaceObject; });\n__webpack_require__.d(__webpack_exports__, "e", function() { return /* reexport */ CanvasSnapline; });\n__webpack_require__.d(__webpack_exports__, "c", function() { return /* reexport */ CanvasNodePortTooltip; });\n__webpack_require__.d(__webpack_exports__, "a", function() { return /* reexport */ CanvasContextMenu; });\n__webpack_require__.d(__webpack_exports__, "H", function() { return /* reexport */ createCtxMenuConfig; });\n__webpack_require__.d(__webpack_exports__, "d", function() { return /* reexport */ CanvasScaleToolbar; });\n__webpack_require__.d(__webpack_exports__, "f", function() { return /* reexport */ CanvasToolbar; });\n__webpack_require__.d(__webpack_exports__, "M", function() { return /* reexport */ createToolbarConfig; });\n__webpack_require__.d(__webpack_exports__, "l", function() { return /* reexport */ FormBuilder; });\n__webpack_require__.d(__webpack_exports__, "O", function() { return /* reexport */ randomInt; });\n__webpack_require__.d(__webpack_exports__, "b", function() { return /* reexport */ CanvasMiniMap; });\n__webpack_require__.d(__webpack_exports__, "u", function() { return /* reexport */ NodeTreePanel; });\n__webpack_require__.d(__webpack_exports__, "p", function() { return /* reexport */ JsonSchemaForm; });\n__webpack_require__.d(__webpack_exports__, "m", function() { return /* reexport */ FormItemWrapper; });\n__webpack_require__.d(__webpack_exports__, "w", function() { return /* reexport */ canvas_json_schema_form_interface_namespaceObject; });\n__webpack_require__.d(__webpack_exports__, "x", function() { return /* reexport */ WorkspacePanel; });\n__webpack_require__.d(__webpack_exports__, "R", function() { return /* reexport */ usePanelContext; });\n__webpack_require__.d(__webpack_exports__, "g", function() { return /* reexport */ DagGraphExtension; });\n__webpack_require__.d(__webpack_exports__, "k", function() { return /* reexport */ FlowGraphExtension; });\n\n// UNUSED EXPORTS: XFlowAppExtensionMoudle, XFlowAppContext, useXflowPrefixCls, XFlowConfigProviderContext, ExtensionRegistryContext, useExtensionRegistry, IGraphProvider, IApplication, IApplicationContribution, IGraphCommandService, GraphCommandRegistry, commandRegistryModule, XFlowModelCommands, AppContext, getNodeReactComponent, IHookService, IHookContribution, IModelService, IModelContribution, RxModel, NsModel, useModel, createComponentModel, useIsMountedRef, ToolbarRegistry, IToolbarService, IToolbarContribution, IMenuService, IMenuContribution, MenuRegistry, KeybindingConfig, IKeyBindingContribution, usePositionStyle, CANVAS_SCALE_TOOLBAR_CONFIG, NsNodeTreePanelModel, NsNodeTreePanel, NsJsonSchemaFormModel, executeJsonSchemaFormCommand, HookHub, ScheduleTypeEnum\n\n// NAMESPACE OBJECT: ../xflow-core/es/constants.js\nvar constants_namespaceObject = {};\n__webpack_require__.r(constants_namespaceObject);\n__webpack_require__.d(constants_namespaceObject, "X6_NODE_PORTAL_NODE_VIEW", function() { return X6_NODE_PORTAL_NODE_VIEW; });\n__webpack_require__.d(constants_namespaceObject, "XFLOW_PREFIX_CLS", function() { return XFLOW_PREFIX_CLS; });\n__webpack_require__.d(constants_namespaceObject, "MIN_ZOOM", function() { return MIN_ZOOM; });\n__webpack_require__.d(constants_namespaceObject, "MAX_ZOOM", function() { return MAX_ZOOM; });\n__webpack_require__.d(constants_namespaceObject, "XFLOW_DEFAULT_NODE", function() { return XFLOW_DEFAULT_NODE; });\n__webpack_require__.d(constants_namespaceObject, "XFLOW_DEFAULT_EDGE", function() { return XFLOW_DEFAULT_EDGE; });\n__webpack_require__.d(constants_namespaceObject, "LOCAL_STORAGE_KEY", function() { return LOCAL_STORAGE_KEY; });\n__webpack_require__.d(constants_namespaceObject, "DEFAULT_NODE_HEIGHT", function() { return DEFAULT_NODE_HEIGHT; });\n__webpack_require__.d(constants_namespaceObject, "DEFAULT_NODE_WIDTH", function() { return DEFAULT_NODE_WIDTH; });\n__webpack_require__.d(constants_namespaceObject, "XFLOW_GROUP_DEFAULT_COLLAPSED_SIZE", function() { return XFLOW_GROUP_DEFAULT_COLLAPSED_SIZE; });\n\n// NAMESPACE OBJECT: ../xflow-core/es/model-service/constant.js\nvar model_service_constant_namespaceObject = {};\n__webpack_require__.r(model_service_constant_namespaceObject);\n__webpack_require__.d(model_service_constant_namespaceObject, "isModelExistUtil", function() { return isModelExistUtil; });\n__webpack_require__.d(model_service_constant_namespaceObject, "getModelUtil", function() { return getModelUtil; });\n__webpack_require__.d(model_service_constant_namespaceObject, "useModelValueUtil", function() { return useModelValueUtil; });\n__webpack_require__.d(model_service_constant_namespaceObject, "GRAPH_ENABLE_MULTI_SELECT", function() { return GRAPH_ENABLE_MULTI_SELECT; });\n__webpack_require__.d(model_service_constant_namespaceObject, "IS_NODE_SELECTED", function() { return IS_NODE_SELECTED; });\n__webpack_require__.d(model_service_constant_namespaceObject, "IS_GROUP_SELECTED", function() { return IS_GROUP_SELECTED; });\n__webpack_require__.d(model_service_constant_namespaceObject, "IS_NORMAL_NODES_SELECTED", function() { return IS_NORMAL_NODES_SELECTED; });\n__webpack_require__.d(model_service_constant_namespaceObject, "SELECTED_CELL", function() { return SELECTED_CELL; });\n__webpack_require__.d(model_service_constant_namespaceObject, "SELECTED_CELLS", function() { return SELECTED_CELLS; });\n__webpack_require__.d(model_service_constant_namespaceObject, "SELECTED_NODE", function() { return SELECTED_NODE; });\n__webpack_require__.d(model_service_constant_namespaceObject, "SELECTED_NODES", function() { return SELECTED_NODES; });\n__webpack_require__.d(model_service_constant_namespaceObject, "SELECTED_EDGES", function() { return SELECTED_EDGES; });\n__webpack_require__.d(model_service_constant_namespaceObject, "SELECTED_GROUPS", function() { return SELECTED_GROUPS; });\n__webpack_require__.d(model_service_constant_namespaceObject, "CONTEXTMENU_NODE", function() { return CONTEXTMENU_NODE; });\n__webpack_require__.d(model_service_constant_namespaceObject, "CONTEXTMENU_EDGE", function() { return CONTEXTMENU_EDGE; });\n__webpack_require__.d(model_service_constant_namespaceObject, "CONTEXTMENU_TARGET", function() { return CONTEXTMENU_TARGET; });\n__webpack_require__.d(model_service_constant_namespaceObject, "GRAPH_META", function() { return GRAPH_META; });\n__webpack_require__.d(model_service_constant_namespaceObject, "GRAPH_SCALE", function() { return GRAPH_SCALE; });\n__webpack_require__.d(model_service_constant_namespaceObject, "COMMAND_REDOABLE", function() { return COMMAND_REDOABLE; });\n__webpack_require__.d(model_service_constant_namespaceObject, "COMMAND_UNDOABLE", function() { return COMMAND_UNDOABLE; });\n__webpack_require__.d(model_service_constant_namespaceObject, "HISTORY_UNDOABLE", function() { return HISTORY_UNDOABLE; });\n__webpack_require__.d(model_service_constant_namespaceObject, "HISTORY_REDOABLE", function() { return HISTORY_REDOABLE; });\n\n// NAMESPACE OBJECT: ../xflow-extension/es/canvas-json-schema-form/interface.js\nvar canvas_json_schema_form_interface_namespaceObject = {};\n__webpack_require__.r(canvas_json_schema_form_interface_namespaceObject);\n__webpack_require__.d(canvas_json_schema_form_interface_namespaceObject, "ControlShape", function() { return ControlShape; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/mana-syringe/dist/index.esm.js\nvar index_esm = __webpack_require__("rZgF");\n\n// CONCATENATED MODULE: ../xflow-core/es/interface.js\n/**\n * XFlow\u753b\u5e03\u6570\u636e\n */\nvar NsGraph;\n(function (NsGraph) {\n    /** \u8282\u70b9\u951a\u70b9\u4f4d\u7f6e\uff1a\u4e0a/\u4e0b/\u5de6/\u53f3 */\n    let AnchorGroup;\n    (function (AnchorGroup) {\n        AnchorGroup["TOP"] = "top";\n        AnchorGroup["BOTTOM"] = "bottom";\n        AnchorGroup["RIGHT"] = "right";\n        AnchorGroup["LEFT"] = "left";\n    })(AnchorGroup = NsGraph.AnchorGroup || (NsGraph.AnchorGroup = {}));\n    /** \u951a\u70b9\u7c7b\u578b\uff1a \u8f93\u5165/\u8f93\u51fa */\n    let AnchorType;\n    (function (AnchorType) {\n        AnchorType["INPUT"] = "input";\n        AnchorType["OUTPUT"] = "output";\n    })(AnchorType = NsGraph.AnchorType || (NsGraph.AnchorType = {}));\n})(NsGraph || (NsGraph = {}));\n//# sourceMappingURL=interface.js.map\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/classnames/index.js\nvar classnames = __webpack_require__("O94r");\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/reflect-metadata/Reflect.js\nvar reflect_metadata_Reflect = __webpack_require__("qzOT");\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__("i8i4");\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@antv/x6/es/index.js + 518 modules\nvar es = __webpack_require__("xShM");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/mana-common/dist/index.esm.js\nvar dist_index_esm = __webpack_require__("lIcq");\n\n// CONCATENATED MODULE: ../xflow-core/es/common/disposable.js\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nvar Disposable;\n(function (Disposable) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    function is(arg) {\n        return !!arg && typeof arg === \'object\' && \'dispose\' in arg && typeof arg.dispose === \'function\';\n    }\n    Disposable.is = is;\n    function create(func) {\n        return {\n            dispose: func,\n        };\n    }\n    Disposable.create = create;\n    Disposable.NULL = create(() => { });\n})(Disposable || (Disposable = {}));\nclass disposable_DisposableCollection {\n    constructor(...toDispose) {\n        this.disposables = [];\n        this.onDisposeEmitter = new dist_index_esm["a" /* Emitter */]();\n        this.disposingElements = false;\n        toDispose.forEach(d => this.push(d));\n    }\n    /**\n     * This event is fired only once\n     * on first dispose of not empty collection.\n     */\n    get onDispose() {\n        return this.onDisposeEmitter.event;\n    }\n    checkDisposed() {\n        if (this.disposed && !this.disposingElements) {\n            this.onDisposeEmitter.fire(undefined);\n            this.onDisposeEmitter.dispose();\n        }\n    }\n    get disposed() {\n        return this.disposables.length === 0;\n    }\n    dispose() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.disposed || this.disposingElements) {\n                return;\n            }\n            this.disposingElements = true;\n            while (!this.disposed) {\n                try {\n                    const d = this.disposables.pop();\n                    yield d.dispose();\n                }\n                catch (e) {\n                    console.error(e);\n                }\n            }\n            this.disposingElements = false;\n            this.checkDisposed();\n        });\n    }\n    push(disposable) {\n        const { disposables } = this;\n        disposables.push(disposable);\n        const originalDispose = disposable.dispose.bind(disposable);\n        const toRemove = Disposable.create(() => {\n            const index = disposables.indexOf(disposable);\n            if (index !== -1) {\n                disposables.splice(index, 1);\n            }\n            this.checkDisposed();\n        });\n        disposable.dispose = () => {\n            toRemove.dispose();\n            originalDispose();\n        };\n        return toRemove;\n    }\n    pushAll(disposables) {\n        return disposables.map(disposable => this.push(disposable));\n    }\n}\n//# sourceMappingURL=disposable.js.map\n// CONCATENATED MODULE: ../xflow-core/es/common/deferred.js\nclass Deferred {\n    constructor() {\n        this.isResolved = false;\n        this.isRejected = false;\n        this.promise = new Promise((resolve, reject) => {\n            this.resolve = (...args) => {\n                this.isResolved = true;\n                resolve(...args);\n            };\n            this.reject = (...args) => {\n                this.isRejected = true;\n                reject(...args);\n            };\n        });\n    }\n}\n//# sourceMappingURL=deferred.js.map\n// CONCATENATED MODULE: ../xflow-core/es/constants.js\n// node portal id\nconst X6_NODE_PORTAL_NODE_VIEW = \'X6_NODE_PORTAL_NODE_VIEW\';\n// style classname prefix\nconst XFLOW_PREFIX_CLS = \'xflow\';\n/** \u753b\u5e03\u7f29\u653e\u6700\u5c0f\u500d\u6570 */\nconst MIN_ZOOM = 0.01;\n/** \u753b\u5e03\u7f29\u653e\u6700\u5927\u500d\u6570 */\nconst MAX_ZOOM = 1.5;\n/** node render \u7684\u9ed8\u8ba4key\u503c */\nconst XFLOW_DEFAULT_NODE = \'XFLOW_DEFAULT_NODE\';\n/** edge render \u7684\u9ed8\u8ba4key\u503c */\nconst XFLOW_DEFAULT_EDGE = \'XFLOW_DEFAULT_EDGE\';\n/** localstorage key */\nconst LOCAL_STORAGE_KEY = \'XFLOW_COPY_ITEMS\';\n/** node height */\nconst DEFAULT_NODE_HEIGHT = 40;\n/** node width */\nconst DEFAULT_NODE_WIDTH = 200;\n/** default group size */\nconst XFLOW_GROUP_DEFAULT_COLLAPSED_SIZE = {\n    width: DEFAULT_NODE_WIDTH,\n    height: DEFAULT_NODE_HEIGHT,\n};\n//# sourceMappingURL=constants.js.map\n// CONCATENATED MODULE: ../xflow-core/es/common/uuid.js\n/** https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid#answer-2117523 */\nfunction uuidv4() {\n    return \'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\'.replace(/[xy]/g, function (c) {\n        const r = (Math.random() * 16) | 0, v = c == \'x\' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\n//# sourceMappingURL=uuid.js.map\n// CONCATENATED MODULE: ../xflow-core/es/xflow-main/graph/config.js\nvar config_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\nvar NsGraphConfig;\n(function (NsGraphConfig) {\n    NsGraphConfig.CONFIG_TYPE = \'GraphConfig\';\n    /** \u9ed8\u8ba4\u7684Node\u89e3\u6790\u51fd\u6570 */\n    NsGraphConfig.defaultNodeTypeParser = (nodeConfig) => nodeConfig.renderKey;\n    /** \u6784\u9020\u7684Edge\u89e3\u6790\u51fd\u6570 */\n    NsGraphConfig.defaultEdgeTypeParser = (edgeConfig) => edgeConfig.renderKey;\n})(NsGraphConfig || (NsGraphConfig = {}));\nclass config_GraphConfig {\n    /** \u6784\u9020\u51fd\u6570 */\n    constructor() {\n        /** \u914d\u7f6e\u7c7b\u578b */\n        this.CONFIG_TYPE = NsGraphConfig.CONFIG_TYPE;\n        /** \u753b\u5e03\u7684\u5c5e\u6027 */\n        this.x6Options = new Deferred();\n        /** \u753b\u5e03\u7684root\u8282\u70b9 */\n        this.rootContainer = new Deferred();\n        /** \u753b\u5e03\u7684dom\u8282\u70b9 */\n        this.graphContainer = new Deferred();\n        /** \u81ea\u5b9a\u4e49\u8282\u70b9 */\n        this.nodeRender = new Map();\n        /** \u81ea\u5b9a\u4e49\u8fb9 */\n        this.edgeRender = new Map();\n        /** \u89e3\u6790node\u6e32\u67d3\u7c7b\u578b\u7684parser */\n        this.nodeTypeParser = NsGraphConfig.defaultNodeTypeParser;\n        /** \u89e3\u6790edge\u6e32\u67d3\u7c7b\u578b\u7684parser  */\n        this.edgeTypeParser = NsGraphConfig.defaultEdgeTypeParser;\n        /** \u81ea\u5b9a\u4e49\u4e8b\u4ef6 */\n        this.events = [];\n        this.mergeX6Config = (config) => config_awaiter(this, void 0, void 0, function* () {\n            const current = yield this.getX6Config();\n            return Object.assign(current, config);\n        });\n        this.getX6Config = () => config_awaiter(this, void 0, void 0, function* () {\n            const config = yield this.x6Options.promise;\n            return config;\n        });\n        this.setX6Config = (options) => {\n            var _a;\n            const defaultOptions = this.getDefaultGraphOptions();\n            (_a = this.x6Options) === null || _a === void 0 ? void 0 : _a.resolve(Object.assign(Object.assign({}, defaultOptions), options));\n        };\n        this.setRootContainer = (ele) => {\n            ele && (this === null || this === void 0 ? void 0 : this.rootContainer.resolve(ele));\n        };\n        this.setGraphContainer = (ele) => {\n            var _a;\n            ele && ((_a = this.graphContainer) === null || _a === void 0 ? void 0 : _a.resolve(ele));\n        };\n        this.setEvents = (events) => {\n            this.events = events;\n        };\n        this.setDefaultNodeRender = (component) => {\n            this.nodeRender.set(XFLOW_DEFAULT_NODE, component);\n        };\n        this.setDefaultEdgeRender = (component) => {\n            this.edgeRender.set(XFLOW_DEFAULT_EDGE, component);\n        };\n        this.setNodeRender = (renderKey, component) => {\n            this.nodeRender.set(renderKey, component);\n        };\n        this.setEdgeRender = (renderKey, component) => {\n            this.edgeRender.set(renderKey, component);\n        };\n        /** \u8bbe\u7f6e\u89e3\u6790node render key\u7684 parser */\n        this.setNodeTypeParser = (parser) => {\n            this.nodeTypeParser = parser;\n        };\n        /** \u8bbe\u7f6e\u89e3\u6790edge render key\u7684 parser */\n        this.setEdgeTypeParser = (parser) => {\n            this.edgeTypeParser = parser;\n        };\n        /** \u83b7\u53d6Graph\u53c2\u6570 */\n        this.getConfig = () => config_awaiter(this, void 0, void 0, function* () {\n            const [rootContainer, graphContainer, x6Options] = yield Promise.all([\n                this.rootContainer.promise,\n                this.graphContainer.promise,\n                this.x6Options.promise,\n            ]);\n            const graphConfig = {\n                xflowInstanceId: this.xflowInstanceId,\n                graphId: this.graphId,\n                nodeViewId: this.graphId,\n                rootContainer,\n                graphContainer,\n                x6Options,\n                events: this.events,\n                nodeRender: this.nodeRender,\n                edgeRender: this.edgeRender,\n                nodeTypeParser: this.nodeTypeParser,\n                edgeTypeParser: this.edgeTypeParser,\n            };\n            return graphConfig;\n        });\n        this.getDefaultGraphOptions = () => {\n            const defaultOptions = {\n                // \u8282\u70b9\u662f\u5426\u53ef\u65cb\u8f6c\n                rotating: false,\n                // \u8282\u70b9\u662f\u5426\u53ef\u8c03\u6574\u5927\u5c0f\n                resizing: false,\n                // \u8282\u70b9\u8fde\u7ebf\u89c4\u5219\u914d\u7f6e\uff08\u8be6\u7ec6\u6587\u6863\uff1ahttps://X6.antv.vision/zh/docs/api/graph/interaction#connecting\uff09\n                connecting: {\n                    snap: true,\n                    dangling: false,\n                    highlight: false,\n                    connectionPoint: \'rect\',\n                    router: { name: \'er\' },\n                    connector: {\n                        name: \'rounded\',\n                        args: {\n                            radius: 15,\n                        },\n                    },\n                },\n                // \u753b\u5e03\u80cc\u666f\uff0c\u652f\u6301\u989c\u8272/\u56fe\u7247/\u6c34\u5370\u7b49\uff08\u8be6\u7ec6\u6587\u6863\uff1ahttps://X6.antv.vision/zh/docs/tutorial/basic/background\uff09\n                background: {},\n                // \u7f51\u683c\u914d\u7f6e\uff08\u8be6\u7ec6\u6587\u6863\uff1ahttps://X6.antv.vision/zh/docs/tutorial/basic/grid\uff09\n                grid: {\n                    visible: true,\n                },\n                // \u70b9\u9009/\u6846\u9009\u914d\u7f6e\uff08\u8be6\u7ec6\u6587\u6863\uff1ahttps://X6.antv.vision/zh/docs/tutorial/basic/selection\uff09\n                selecting: {\n                    strict: true,\n                    enabled: true,\n                    multiple: true,\n                    selectCellOnMoved: true,\n                    showNodeSelectionBox: false,\n                    // \u6846\u9009\u53ef\u4ee5\u9009\u4e2dedge\n                    rubberEdge: true,\n                    // \u6846\u9009\u53ef\u4ee5\u9009\u4e2dnode\n                    rubberNode: true,\n                    movable: true,\n                },\n                // \u5bf9\u9f50\u7ebf\u914d\u7f6e\uff0c\u8f85\u52a9\u79fb\u52a8\u8282\u70b9\u6392\u7248\uff08\u8be6\u7ec6\u6587\u6863\uff1ahttps://X6.antv.vision/zh/docs/tutorial/basic/snapline\uff09\n                snapline: {\n                    enabled: false,\n                },\n                // \u64a4\u9500/\u91cd\u505a\u80fd\u529b\uff08\u8be6\u7ec6\u6587\u6863\uff1ahttps://X6.antv.vision/zh/docs/tutorial/basic/history\uff09\n                history: {\n                    enabled: false,\n                },\n                // \u526a\u5207\u677f\uff0c\u652f\u6301\u8de8\u753b\u5e03\u7684\u590d\u5236/\u7c98\u8d34\uff08\u8be6\u7ec6\u6587\u6863\uff1ahttps://X6.antv.vision/zh/docs/tutorial/basic/clipboard\uff09\n                clipboard: {\n                    enabled: true,\n                    useLocalStorage: true,\n                },\n                // \u4f7f\u753b\u5e03\u5177\u5907\u6eda\u52a8\u3001\u5e73\u79fb\u3001\u5c45\u4e2d\u3001\u7f29\u653e\u7b49\u80fd\u529b\uff08\u8be6\u7ec6\u6587\u6863\uff1ahttps://X6.antv.vision/zh/docs/tutorial/basic/scroller\uff09\n                scroller: {\n                    enabled: false,\n                },\n                // \u6eda\u8f6e\u7f29\u653e \uff08\u8be6\u7ec6\u6587\u6863\uff1ahttps://X6.antv.vision/zh/docs/tutorial/basic/mousewheel\uff09\n                mousewheel: {\n                    enabled: true,\n                    minScale: MIN_ZOOM,\n                    maxScale: MAX_ZOOM,\n                    factor: 1.1,\n                    modifiers: [\'ctrl\', \'meta\'],\n                },\n                /** \u666e\u901a\u753b\u5e03, \u652f\u6301\u62d6\u62fd\u5e73\u79fb */\n                panning: {\n                    enabled: true,\n                },\n                /** \u7f29\u653e\u53c2\u6570 */\n                scaling: {\n                    min: MIN_ZOOM,\n                    max: MAX_ZOOM,\n                },\n                /** keyboad */\n                keyboard: {\n                    enabled: true,\n                },\n                /** \u5b9a\u5236\u8282\u70b9\u548c\u8fb9\u7684\u4ea4\u4e92\u884c\u4e3a */\n                interacting: {\n                    /** \u8282\u70b9\u9ed8\u8ba4\u53ef\u4ee5\u88ab\u79fb\u52a8 */\n                    nodeMovable: true,\n                    /** \u8fb9\u4e0a\u6807\u7b7e\u9ed8\u8ba4\u4e0d\u53ef\u4ee5\u88ab\u79fb\u52a8 */\n                    edgeLabelMovable: false,\n                },\n                async: false,\n            };\n            return defaultOptions;\n        };\n        this.dispose = () => {\n            // TODO: \u7edf\u4e00\u770b\u4e0bdefer\u7684\u9500\u6bc1\n            this.rootContainer = new Deferred();\n            this.graphContainer = new Deferred();\n            this.x6Options = new Deferred();\n        };\n        this.graphId = uuidv4();\n    }\n}\nconst IGraphOptionProvider = Symbol(\'IGraphOptionProvider\');\nconst registerGraphConfig = (register, graphConfig) => {\n    register(IGraphOptionProvider, {\n        lifecycle: index_esm["Syringe"].Lifecycle.singleton,\n        useDynamic: () => {\n            return {\n                getOptions: () => config_awaiter(void 0, void 0, void 0, function* () {\n                    return graphConfig.getConfig();\n                }),\n            };\n        },\n    });\n};\nconst createGraphConfig = (addOptions) => (props) => {\n    /** bridge config and props */\n    const propsContainer = react_default.a.useMemo(() => ({ getValue: () => ({}) }), []);\n    propsContainer.getValue = () => props;\n    const graphConfig = react_default.a.useMemo(() => {\n        const config = new config_GraphConfig();\n        addOptions(config, propsContainer);\n        return config;\n    }, [propsContainer]);\n    return graphConfig;\n};\n//# sourceMappingURL=config.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/rxjs/_esm5/internal/scheduler/async.js + 4 modules\nvar scheduler_async = __webpack_require__("diMa");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/rxjs/_esm5/internal/BehaviorSubject.js + 3 modules\nvar BehaviorSubject = __webpack_require__("LiEJ");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/rxjs/_esm5/internal/operators/distinctUntilChanged.js\nvar distinctUntilChanged = __webpack_require__("lqvn");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/rxjs/_esm5/internal/operators/filter.js\nvar filter = __webpack_require__("z5yO");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/rxjs/_esm5/internal/operators/throttleTime.js + 10 modules\nvar throttleTime = __webpack_require__("hOK2");\n\n// EXTERNAL MODULE: ../xflow-core/node_modules/immer/dist/immer.esm.js\nvar immer_esm = __webpack_require__("QBUb");\n\n// CONCATENATED MODULE: ../xflow-core/es/common/rx-model.js\nvar rx_model_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n// docs:https://immerjs.github.io/immer/map-set\nObject(immer_esm["b" /* enableMapSet */])();\n// https://immerjs.github.io/immer/freezing\nObject(immer_esm["e" /* setAutoFreeze */])(false);\nvar rx_model_NsModel;\n(function (NsModel) {\n    /**\n     * observable \u7a7a\u503c\uff0c\u5f53\u4f5cmodel ready\u7684\u53d8\u91cf\n     * \u7a7a\u503c\u4e0d\u4f1a\u89e6\u53d1subscrition\n     */\n    NsModel.EMPTY_VALUE = Symbol(\'EMPTY_MODEL_VALUE\');\n    /** \u5224\u65ad\u662f\u5426\u662f\u7a7a */\n    function isValidValue(val) {\n        return val !== NsModel.EMPTY_VALUE;\n    }\n    NsModel.isValidValue = isValidValue;\n    /** \u9ed8\u8ba4\u7684\u5bf9\u4e8b\u4ef6\u6027\u80fd\u4f18\u5316\u65b9\u6cd5\uff1a\u53ea\u5728value\u4e0d\u540c\u65f6\u624d\u89e6\u53d1\uff0c\u540c\u65f6\u589e\u52a0throttle */\n    function defaultPipeFunction(observable) {\n        return observable.pipe(Object(distinctUntilChanged["a" /* distinctUntilChanged */])(), Object(filter["a" /* filter */])(item => isValidValue(item)), Object(throttleTime["a" /* throttleTime */])(17, scheduler_async["b" /* asyncScheduler */], { leading: false, trailing: true }));\n    }\n    NsModel.defaultPipeFunction = defaultPipeFunction;\n})(rx_model_NsModel || (rx_model_NsModel = {}));\nclass rx_model_RxModel {\n    /** \u521d\u59cb\u5316 */\n    constructor(initialValue = rx_model_NsModel.EMPTY_VALUE, maxSubscription = 30) {\n        /** disposable */\n        this.toDispose = new disposable_DisposableCollection();\n        /** \u76d1\u542cmodel\u53d8\u5316 */\n        this.watch = (cb, pipeFunction = rx_model_NsModel.defaultPipeFunction) => {\n            if (this.subject$.observers.length + 1 > this.maxSubscription) {\n                console.warn(`${this.subject$} reach maxSubscription limitation, please check`);\n            }\n            const observable = pipeFunction ? pipeFunction(this.subject$) : this.subject$;\n            const subscription = observable.subscribe(cb);\n            return Disposable.create(() => {\n                subscription.unsubscribe();\n            });\n        };\n        /** \u83b7\u53d6model\u7684\u503c */\n        this.getValue = () => {\n            return this.subject$.getValue();\n        };\n        /** \u66f4\u65b0model */\n        this.setValue = value => {\n            if (!this.subject$) {\n                return;\n            }\n            if (typeof value === \'function\') {\n                const currentValue = this.subject$.getValue();\n                const nextState = Object(immer_esm["d" /* produce */])(currentValue, draft => {\n                    value(draft);\n                });\n                if (rx_model_NsModel.isValidValue(nextState)) {\n                    this.setValue(nextState);\n                }\n                return;\n            }\n            this.subject$.next(value);\n        };\n        /** \u662f\u5426\u5df2\u6709\u503c */\n        this.hasValidValue = () => {\n            const value = this.getValue();\n            return rx_model_NsModel.isValidValue(value);\n        };\n        /** \u83b7\u53d6\u975e\u7a7a\u7684\u503c */\n        this.getValidValue = () => rx_model_awaiter(this, void 0, void 0, function* () {\n            const deffer = new Deferred();\n            /** \u8fd4\u56de\u975e\u7a7a\u7684\u503c */\n            if (this.hasValidValue()) {\n                return this.getValue();\n            }\n            /** \u8fd4\u56de\u4f1aresolve\u975e\u7a7a\u503c\u7684Promise */\n            const d = this.watch(val => {\n                if (rx_model_NsModel.isValidValue(val)) {\n                    deffer.resolve(val);\n                    d.dispose();\n                }\n            });\n            return deffer.promise;\n        });\n        /** disposable */\n        this.dispose = () => {\n            this.toDispose.dispose();\n        };\n        this.subject$ = new BehaviorSubject["a" /* BehaviorSubject */](initialValue || rx_model_NsModel.EMPTY_VALUE);\n        this.maxSubscription = maxSubscription;\n        this.toDispose.push(Disposable.create(() => {\n            this.subject$.complete();\n            this.subject$.unsubscribe();\n            // @ts-ignore\n            this.subject$ = null;\n        }));\n    }\n}\n//# sourceMappingURL=rx-model.js.map\n// CONCATENATED MODULE: ../xflow-core/es/xflow-main/interface.js\n\nconst IFrontendApplicationContribution = index_esm["Syringe"].defineToken(\'IFrontendApplicationContribution\');\n//# sourceMappingURL=interface.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command/interface.js\n// utils\n\n/**\n * IGraphCommandService\n * \u58f0\u660e\u6267\u884cCommand\u7684\u63a5\u53e3\n */\nconst IGraphCommandService = Symbol(\'IGraphCommandService\');\n/**\n * Command Handler \u7684 Token\n */\nconst ICommandHandler = index_esm["Syringe"].defineToken(\'ICommandHandler\');\n/** Command Context Provider \u7684 Symbol \u63d0\u4f9b\u6267\u884c\u9700\u8981\u7684\u5404\u79cdapi */\nconst ICommandContextProvider = Symbol(\'ICommandContextProvider\');\n/**\n * IGraphCommandFactory\n * Command\u5de5\u5382\u65b9\u6cd5\n */\nconst IGraphCommandFactory = Symbol(\'IGraphCommandFactory\');\n/**\n * Command\u6ce8\u518c\u6269\u5c55\u7684Symbol\n */\nconst IGraphCommandContribution = index_esm["Syringe"].defineToken(\'IGraphCommandContribution\');\n//# sourceMappingURL=interface.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command/graph-command.js\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar graph_command_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\nvar NCommand;\n(function (NCommand) {\n    /* Determine whether object is a Command */\n    function is(arg) {\n        return !!arg && arg === Object(arg) && \'id\' in arg;\n    }\n    NCommand.is = is;\n    /** Comparator function for when sorting commands */\n    function compareCommands(a, b) {\n        if (a.label && b.label) {\n            const aCommand = (a.category ? `${a.category}: ${a.label}` : a.label).toLowerCase();\n            const bCommand = (b.category ? `${b.category}: ${b.label}` : b.label).toLowerCase();\n            return aCommand.localeCompare(bCommand);\n        }\n        else {\n            return 0;\n        }\n    }\n    NCommand.compareCommands = compareCommands;\n    /**\n     * Determine if two commands are equal.\n     *\n     * @param a the first command for comparison.\n     * @param b the second command for comparison.\n     */\n    function equals(a, b) {\n        return (a.id === b.id && a.label === b.label && a.iconName === b.iconName && a.category === b.category);\n    }\n    NCommand.equals = equals;\n})(NCommand || (NCommand = {}));\nlet graph_command_GraphCommandRegistry = class GraphCommandRegistry {\n    constructor(contributionProvider) {\n        this.contributionProvider = contributionProvider;\n        /**\n         * undo cmd\u540e\u5c06\u547d\u4ee4\u5b58\u50a8\u5728\u961f\u5217\u4e2d\u7ed9redo\u8c03\u7528\n         */\n        this.redoStack = [];\n        /**\n         * executeCommand\u540e\u5c06\u547d\u4ee4\u5b58\u50a8\u5728\u961f\u5217\u4e2d\u7ed9undo\u8c03\u7528\n         */\n        this.undoStack = [];\n        /**\n         * \u50a8\u5b58\u6240\u6709\u6ce8\u518c\u7684command\n         */\n        this.commands = new Map();\n        /**\n         * \u50a8\u5b58\u6240\u6709\u6ce8\u518c\u7684command factory\n         */\n        this.factories = new Map();\n        /**\n         * \u50a8\u5b58\u6240\u6709\u6ce8\u518c\u7684command handler disposables\n         */\n        this.disposables = new Map();\n        /**\n         * \u76d1\u542ccmdregistry\u7684\u53d8\u5316\n         */\n        this.cmdChangeEvent = new rx_model_RxModel(null);\n        /**\n         * \u6267\u884cundo stack\u4e2d\u6700\u540e\u4e00\u6761Command\n         */\n        this.undoCommand = () => graph_command_awaiter(this, void 0, void 0, function* () {\n            /* \u83b7\u53d6\u53ef\u4ee5undo\u7684Command */\n            const cmd = this.undoStack.pop();\n            if (!cmd) {\n                console.error(\'empty undo stack\');\n                return;\n            }\n            /* \u6267\u884c\u547d\u4ee4\u7684undo\u65b9\u6cd5 */\n            yield cmd.undo();\n            /* \u6267\u884c\u540e\u585e\u5230redo\u7684\u6808\u4e2d */\n            this.redoStack.push(cmd);\n            /* \u89e6\u53d1\u4e8b\u4ef6\u56de\u8c03 */\n            this.cmdChangeEvent.setValue(null);\n        });\n        /**\n         * \u6267\u884credo stack\u4e2d\u6700\u540e\u4e00\u6761Command\n         */\n        this.redoCommand = () => graph_command_awaiter(this, void 0, void 0, function* () {\n            /* \u83b7\u53d6\u53ef\u4ee5redo\u7684Command */\n            const cmd = this.redoStack.pop();\n            if (!cmd) {\n                console.error(\'empty undo stack\');\n                return;\n            }\n            /* \u6267\u884c\u547d\u4ee4\u7684undo */\n            yield cmd.redo();\n            /* \u6267\u884c\u540e\u585e\u5230undo\u7684\u6808\u4e2d */\n            this.undoStack.push(cmd);\n            /* \u89e6\u53d1\u4e8b\u4ef6\u56de\u8c03 */\n            this.cmdChangeEvent.setValue(null);\n        });\n        /**\n         * \u6ce8\u518c\u4e00\u6279\u53ef\u5355\u72ecdispose\u7684Command\n         * @param externalRegisterFn ICommandRegisterFunction\n         */\n        this.registerDisposableCommand = (externalRegisterFn) => {\n            const toDispose = new disposable_DisposableCollection();\n            const disposableRegistry = {\n                registerCommand: (command, factory) => {\n                    const disposable = this.registerCommand(command, factory);\n                    toDispose.push(disposable);\n                    return disposable;\n                },\n            };\n            externalRegisterFn(disposableRegistry);\n            return toDispose;\n        };\n    }\n    /**\n     * \u76d1\u542ccmdregistry\u7684\u53d8\u5316\n     */\n    get watchChange() {\n        return this.cmdChangeEvent.watch;\n    }\n    onStart() {\n        const contributions = this.contributionProvider.getContributions();\n        for (const contribItem of contributions) {\n            contribItem.registerGraphCommands(this);\n        }\n    }\n    executeCommandPipeline(cmdOptions) {\n        return graph_command_awaiter(this, void 0, void 0, function* () {\n            let res = null;\n            for (const cmdOption of cmdOptions) {\n                const cmdCtx = res === null || res === void 0 ? void 0 : res.contextProvider();\n                const { args, hooks } = yield (cmdOption === null || cmdOption === void 0 ? void 0 : cmdOption.getCommandOption(cmdCtx));\n                res = yield this.executeCommand(cmdOption === null || cmdOption === void 0 ? void 0 : cmdOption.commandId, args, hooks);\n            }\n            /* \u89e6\u53d1\u4e8b\u4ef6\u56de\u8c03 */\n            this.cmdChangeEvent.setValue(null);\n            return res;\n        });\n    }\n    /** \u6267\u884c Command\uff1a\u4f1a\u5728undo stack\u4e2dpush cmd */\n    executeCommand(commandId, cmdArgs, hook = []) {\n        return graph_command_awaiter(this, void 0, void 0, function* () {\n            const factory = this.getFactory(commandId);\n            if (factory) {\n                const cmd = (yield factory.createCommand(commandId, cmdArgs, hook));\n                yield cmd.execute();\n                if (cmd.isUndoable()) {\n                    this.undoStack.push(cmd);\n                }\n                /* \u89e6\u53d1\u4e8b\u4ef6\u56de\u8c03 */\n                this.cmdChangeEvent.setValue(null);\n                return cmd;\n            }\n            throw Object.assign(new Error(`The command \'${commandId}\' cannot be executed. There are no active handlers available for the command.`), { code: \'NO_ACTIVE_HANDLER\' });\n        });\n    }\n    /** \u6267\u884c unod Command\uff1a\u4e0d\u4f1a\u5728undo stack\u4e2dpush\u65b0\u7684command\u8bb0\u5f55 */\n    executeUndoCommand(commandId, cmdArgs, hook = []) {\n        return graph_command_awaiter(this, void 0, void 0, function* () {\n            const factory = this.getFactory(commandId);\n            if (factory) {\n                const cmd = yield factory.createCommand(commandId, cmdArgs, hook);\n                yield cmd.execute();\n                return cmd;\n            }\n            throw Object.assign(new Error(`The command \'${commandId}\' cannot be executed. There are no active handlers available for the command.`), { code: \'NO_ACTIVE_HANDLER\' });\n        });\n    }\n    /**\n     * Execute the active handler for the given command and arguments.\n     *\n     * Reject if a command cannot be executed.\n     */\n    createCommand(commandId, cmdArgs, hook = []) {\n        return graph_command_awaiter(this, void 0, void 0, function* () {\n            const factory = this.getFactory(commandId);\n            if (factory) {\n                const cmd = yield factory.createCommand(commandId, cmdArgs, hook);\n                return cmd;\n            }\n            throw Object.assign(new Error(`The command \'${commandId}\' cannot be executed. There are no active handlers available for the command.`), { code: \'NO_ACTIVE_HANDLER\' });\n        });\n    }\n    /**\n     * \u68c0\u67e5\u662f\u5426\u6ce8\u518c\u4e86Command\n     */\n    get isUndoable() {\n        return this.undoStack.length > 0;\n    }\n    /**\n     * \u68c0\u67e5\u662f\u5426\u6ce8\u518c\u4e86Command\n     */\n    get isRedoable() {\n        return this.redoStack.length > 0;\n    }\n    /**\n     * \u68c0\u67e5\u662f\u5426\u6ce8\u518c\u4e86Command\n     */\n    hasCommand(commandId) {\n        return this.commands.has(commandId);\n    }\n    /**\n     * Get a command for the given command identifier.\n     */\n    getCommand(id) {\n        return this.commands.get(id);\n    }\n    /**\n     * Register the given command and handler if present.\n     *\n     * Throw if a command is already registered for the given command identifier.\n     */\n    registerCommand(command, factory) {\n        if (this.factories.has(command.id)) {\n            console.warn(`A command ${command.id} is already registered.`);\n            return Disposable.NULL;\n        }\n        const toDispose = new disposable_DisposableCollection(this.doRegisterCommand(command), this.registerFactory(command.id, factory), Disposable.create(() => this.disposables.delete(command.id)));\n        this.disposables.set(command.id, toDispose);\n        return toDispose;\n    }\n    doRegisterCommand(command) {\n        this.commands.set(command.id, command);\n        return Disposable.create(() => this.disposables.delete(command.id));\n    }\n    /**\n     * Unregister command from the registry\n     *\n     * @param id\n     */\n    unregisterCommand(commandOrId) {\n        const id = NCommand.is(commandOrId) ? commandOrId.id : commandOrId;\n        const disposableCmd = this.disposables.get(id);\n        if (disposableCmd) {\n            disposableCmd.dispose();\n        }\n    }\n    /**\n     * \u68c0\u67e5commandId\u662f\u5426\u6709Factory\n     */\n    hasFactory(commandId) {\n        const factory = this.factories.get(commandId);\n        return !!factory;\n    }\n    /**\n     * Get a visible handler for the given command or `undefined`.\n     */\n    getFactory(commandId) {\n        const factory = this.factories.get(commandId);\n        return factory;\n    }\n    /**\n     * Register the given handler for the given command identifier.\n     *\n     * If there is already a handler for the given command\n     * then the given handler is registered as more specific, and\n     * has higher priority during enablement, visibility and toggle state evaluations.\n     */\n    registerFactory(commandId, factory, force = false) {\n        if (this.hasFactory(commandId) && force === false) {\n            console.error(\'cannot register command:\', commandId);\n        }\n        this.factories.set(commandId, factory);\n        return Disposable.create(() => {\n            this.factories.delete(commandId);\n        });\n    }\n    /**\n     * Returns with all handlers for the given command. If the command does not have any handlers,\n     * or the command is not registered, returns an empty array.\n     */\n    getAllFactories() {\n        return Array.from(this.factories.entries());\n    }\n};\ngraph_command_GraphCommandRegistry = __decorate([\n    Object(index_esm["singleton"])({\n        contrib: [IFrontendApplicationContribution, IGraphCommandService],\n    }),\n    __param(0, Object(index_esm["contrib"])(IGraphCommandContribution)),\n    __metadata("design:paramtypes", [Object])\n], graph_command_GraphCommandRegistry);\n\n//# sourceMappingURL=graph-command.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command/module.js\n/* eslint-disable @typescript-eslint/no-redeclare */\n\n/** Command */\n\n\n/** Command \u6269\u5c55\u4f9d\u8d56 */\n\nconst commandRegistryModule = Object(index_esm["Module"])(register => {\n    /** \u58f0\u660e GraphCommandRegistry */\n    index_esm["Contribution"].register(register, IGraphCommandContribution);\n    /** \u5c06 GraphCommandRegistry \u6ce8\u518c\u6210 IFrontendApplicationContribution \u7684\u6269\u5c55 */\n    /** \u5c06 IGraphCommandContribution \u6ce8\u518c\u6210\u4e3a\u6269\u5c55\u70b9 */\n    register(graph_command_GraphCommandRegistry);\n});\n//# sourceMappingURL=module.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command/index.js\n/** Command */\n\n\n\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/model-service/interface.js\n\n/**\n * Model Service Token\n */\nconst IModelService = index_esm["Syringe"].defineToken(\'IModelService\');\n/**\n * \u5728 extensions \u4e2d\u5b9e\u73b0\u8fd9\u4e2a\u6269\u5c55\u70b9\u6765\u6ce8\u518c\u66f4\u591a\u7684Model\n */\nconst IModelContribution = index_esm["Syringe"].defineToken(\'IModelContribution\');\nconst IModelOptionProvider = Symbol(\'IModelOptionProvider\');\n//# sourceMappingURL=interface.js.map\n// CONCATENATED MODULE: ../xflow-hook/es/interface.js\n/** hooks \u6267\u884c\u7684\u7b56\u7565 */\nvar ScheduleTypeEnum;\n(function (ScheduleTypeEnum) {\n    /** pipeline\u4e32\u884c\u6267\u884c\uff1a\u6240\u6709async\u4efb\u52a1\u5b8c\u6210\u540e\u518d\u6267\u884c\u56de\u8c03 */\n    ScheduleTypeEnum["ASYNC_SRRIES"] = "ASYNC_SRRIES";\n    /** async\u5e76\u884c\u6267\u884c\uff1a\u7b49\u5f85Promise.all\u6240\u6709async\u4efb\u52a1\u540e\u518d\u6267\u884c\u56de\u8c03 */\n    ScheduleTypeEnum["ASYNC_PARALLEL"] = "ASYNC_PARALLEL";\n})(ScheduleTypeEnum || (ScheduleTypeEnum = {}));\n//# sourceMappingURL=interface.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/toposort/index.js\nvar toposort = __webpack_require__("VNI2");\nvar toposort_default = /*#__PURE__*/__webpack_require__.n(toposort);\n\n// CONCATENATED MODULE: ../xflow-hook/es/utils.js\n\nvar ErrorUtils;\n(function (ErrorUtils) {\n    let ErrorEnum;\n    (function (ErrorEnum) {\n        ErrorEnum["INVALID_HOOK_BEFORE"] = "INVALID_HOOK_BEFORE";\n        ErrorEnum["INVALID_HOOK_AFTER"] = "INVALID_HOOK_AFTER";\n        ErrorEnum["INVALID_HOOK_ARGS_LENGTH"] = "INVALID_HOOK_ARGS_LENGTH";\n    })(ErrorEnum = ErrorUtils.ErrorEnum || (ErrorUtils.ErrorEnum = {}));\n    class HookError extends Error {\n        constructor(code, message, ...contexts) {\n            if (Array.isArray(message)) {\n                message = message\n                    .filter(function (line) {\n                    return !!line;\n                })\n                    .join(\' \');\n            }\n            super(`${code}: ${message}`);\n            if (Error.captureStackTrace) {\n                ;\n                Error.captureStackTrace(this, HookError);\n            }\n            this.code = code;\n            this.contexts = {};\n            contexts.forEach(context => {\n                if (typeof context === \'object\') {\n                    Object.entries(context).forEach(pair => {\n                        const [key, value] = pair;\n                        if (key !== \'key\' && value) {\n                            this.contexts[key] = JSON.parse(JSON.stringify(value));\n                        }\n                    });\n                }\n            });\n        }\n        toString() {\n            return `${this.code}: ${this.message}`;\n        }\n    }\n    ErrorUtils.HookError = HookError;\n    const createError = (code, message, ...args) => {\n        return new HookError(code, message, ...args);\n    };\n    ErrorUtils.HookBeforeError = () => {\n        return createError(ErrorEnum.INVALID_HOOK_BEFORE, [\n            \'hook require a before dependency but not exist in hookmap\',\n        ]);\n    };\n    ErrorUtils.HookAfterError = () => {\n        return createError(ErrorEnum.INVALID_HOOK_AFTER, [\n            \'hook require a after dependency but not exist in hookmap\',\n        ]);\n    };\n    ErrorUtils.InvalidHookArguments = (hook) => {\n        return createError(ErrorEnum.INVALID_HOOK_ARGS_LENGTH, [\n            \'hook handlers must have 0 to 2 arguments\',\n            `but got ${hook.handler.length}`,\n        ]);\n    };\n})(ErrorUtils || (ErrorUtils = {}));\nvar utils_HookUtils;\n(function (HookUtils) {\n    /** \u5904\u7406 runtime hooks */\n    HookUtils.normalize = (hookConfig = [], hookMap) => {\n        const runtimeHook = Array.isArray(hookConfig) ? hookConfig : [hookConfig];\n        const innerHooks = [];\n        hookMap.forEach(val => {\n            innerHooks.push(val);\n        });\n        return [...innerHooks, ...runtimeHook].filter(item => item && !!item.handler);\n    };\n    /** \u6392\u5e8f hooks */\n    HookUtils.sort = (hooks = [], hookMap) => {\n        const edges = [];\n        hooks.forEach(hook => {\n            if (hook.before) {\n                if (!hookMap.has(hook.before)) {\n                    throw ErrorUtils.HookBeforeError();\n                }\n                const edge = [hookMap.get(hook.before), hook];\n                edges.push(edge);\n            }\n            if (hook.after) {\n                if (!hookMap.has(hook.after)) {\n                    throw ErrorUtils.HookBeforeError();\n                }\n                const edge = [hook, hookMap.get(hook.after)];\n                edges.push(edge);\n            }\n        });\n        const sortedHooks = toposort_default()(edges);\n        sortedHooks.reverse();\n        return sortedHooks;\n    };\n})(utils_HookUtils || (utils_HookUtils = {}));\nclass utils_Deferred {\n    constructor() {\n        this.isResolved = false;\n        this.isRejected = false;\n        this.promise = new Promise((resolve, reject) => {\n            this.resolve = args => {\n                this.isResolved = true;\n                resolve(args);\n            };\n            this.reject = args => {\n                this.isRejected = true;\n                reject(args);\n            };\n        });\n    }\n}\n//# sourceMappingURL=utils.js.map\n// CONCATENATED MODULE: ../xflow-hook/es/index.js\nvar es_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nclass es_HookHub {\n    constructor(options) {\n        /** scheduleType */\n        this.scheduleType = ScheduleTypeEnum.ASYNC_SRRIES;\n        /** hasRegistered */\n        this.hasHook = (hookName) => {\n            return this.hookMap.has(hookName);\n        };\n        /** getHooks */\n        this.getHooks = (runtimeHooks = [], sort = true) => {\n            const hooks = utils_HookUtils.normalize(runtimeHooks, this.hookMap);\n            if (!sort) {\n                return hooks;\n            }\n            utils_HookUtils.sort(hooks, this.hookMap);\n            return hooks;\n        };\n        /** registerHook */\n        this.registerHook = (hookMeta) => {\n            if (this.hookMap.has(hookMeta.name)) {\n                console.error(`${hookMeta.name} is duplicated in hookmap`);\n            }\n            this.hookMap.set(hookMeta.name, hookMeta);\n            return {\n                dispose: () => {\n                    this.hookMap.delete(hookMeta.name);\n                },\n            };\n        };\n        /** registerHook */\n        this.call = (args, main = (mainArgs) => es_awaiter(this, void 0, void 0, function* () { return mainArgs; }), runtimeHook = []) => es_awaiter(this, void 0, void 0, function* () {\n            // TODO: \u8fd9\u91cc\u52a0cache\n            const hooks = this.getHooks(runtimeHook);\n            const scheduler = this.schedulers[this.scheduleType];\n            return scheduler(args, main, hooks);\n        });\n        /** \u6267\u884chook\u7684scheduler */\n        this.schedulers = {\n            /** pipeline\u6267\u884c */\n            [ScheduleTypeEnum.ASYNC_SRRIES]: (args, main, hooks = []) => es_awaiter(this, void 0, void 0, function* () {\n                let callback = main;\n                /** \u7528 hook \u52a0\u5de5 args  */\n                for (const hook of hooks) {\n                    if ([0, 1].includes(hook.handler.length)) {\n                        yield hook.handler.call(this, args);\n                        continue;\n                    }\n                    if ([2].includes(hook.handler.length) && callback !== null) {\n                        // eslint-disable-next-line @typescript-eslint/no-shadow\n                        const result = yield hook.handler.call(this, args, callback);\n                        /** \u5982\u679c\u8fd4\u56de\u4e3anull\uff0c\u5219\u76f4\u63a5\u4e2d\u65ad\u6267\u884c */\n                        if (result === null) {\n                            callback = null;\n                            break;\n                        }\n                        else if (typeof result === \'function\') {\n                            callback = result;\n                            continue;\n                        }\n                    }\n                    const err = ErrorUtils.InvalidHookArguments(hook);\n                    throw err;\n                }\n                /** \u68c0\u67e5\u662f\u5426\u88ab\u66ff\u6362\u4e3anull */\n                if (callback) {\n                    return yield callback.call(this, args);\n                }\n            }),\n            [ScheduleTypeEnum.ASYNC_PARALLEL]: (args, main, hooks = []) => es_awaiter(this, void 0, void 0, function* () {\n                /** \u540c\u65f6\u89e6\u53d1 hook */\n                const promises = hooks.map(hook => {\n                    if ([0, 1].includes(hook.handler.length)) {\n                        return hook.handler.call(this, args);\n                    }\n                    if ([2].includes(hook.handler.length)) {\n                        return hook.handler.call(this, args, main);\n                    }\n                    throw ErrorUtils.InvalidHookArguments(hook);\n                });\n                const defer = new utils_Deferred();\n                Promise.all(promises).then(res => defer.resolve(res));\n                /** \u68c0\u67e5\u662f\u5426\u88ab\u66ff\u6362 */\n                if (main) {\n                    return yield main.call(this, defer);\n                }\n            }),\n        };\n        this.hookMap = new Map();\n        if (options && options.type) {\n            this.scheduleType = options.type;\n        }\n    }\n}\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/hooks/interface.js\n\n\n/**\n * extension \u5e94\u8be5\u5b9e\u73b0\u8fd9\u4e2a\u6269\u5c55\u70b9\u6765\u6ce8\u518c\u66f4\u591a\u7684hook\n */\nconst IHookService = index_esm["Syringe"].defineToken(\'IHookService\');\n/**\n * extension \u5e94\u8be5\u5b9e\u73b0\u8fd9\u4e2a\u6269\u5c55\u70b9\u6765\u6ce8\u518c\u66f4\u591a\u7684hook\n */\nconst IHookContribution = index_esm["Syringe"].defineToken(\'IHookContribution\');\nconst initHooks = () => ({\n    graphOptions: new es_HookHub(),\n    reactNodeRender: new es_HookHub(),\n    reactEdgeLabelRender: new es_HookHub(),\n    afterGraphInit: new es_HookHub(),\n    beforeGraphDestory: new es_HookHub(),\n    x6Events: new es_HookHub(),\n});\n//# sourceMappingURL=interface.js.map\n// CONCATENATED MODULE: ../xflow-core/es/hooks/config.js\nvar hooks_config_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nconst noop = () => {\n    return {\n        dispose: () => { },\n    };\n};\nvar NsXFlowHook;\n(function (NsXFlowHook) {\n    NsXFlowHook.CONFIG_TYPE = \'XFlowHook\';\n})(NsXFlowHook || (NsXFlowHook = {}));\nclass HookConfig {\n    constructor() {\n        /** CONFIG_TYPE */\n        this.CONFIG_TYPE = NsXFlowHook.CONFIG_TYPE;\n        this.time = Date.now();\n        /** \u63d0\u4f9b\u4e00\u4e2aruntime\u6ce8\u518chook\u7684\u65b9\u5f0f */\n        this.setRegisterHook = (fn) => {\n            this.hookRegisterFunc = fn;\n        };\n        /** \u8fd9\u91cc\u5728canvas\u4e0a\u63d0\u4f9b\u4e00\u4e2aruntime\u6ce8\u518chookhub\u7684\u65b9\u5f0f */\n        this.setRegisterHookhub = (fn) => {\n            this.hookhubRegisterFn = fn;\n        };\n        this.getConfig = () => hooks_config_awaiter(this, void 0, void 0, function* () {\n            const options = {\n                CONFIG_TYPE: this.CONFIG_TYPE,\n                hookRegisterFn: this.hookRegisterFunc || noop,\n                hookhubRegisterFn: this.hookhubRegisterFn || noop,\n            };\n            return options;\n        });\n        this.dispose = () => { };\n    }\n}\n//# sourceMappingURL=config.js.map\n// CONCATENATED MODULE: ../xflow-core/es/hooks/hook-registry.js\nvar hook_registry_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar hook_registry_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar hook_registry_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nlet hook_registry_HookRegistry = class HookRegistry {\n    constructor() {\n        /** disposables */\n        this.toDispose = new disposable_DisposableCollection();\n        /** hooks */\n        this.hookProvider = () => this.hooks;\n        /** \u6ce8\u518chook\u63d2\u4ef6 */\n        this.registerHook = (fn) => {\n            return fn(this.hooks);\n        };\n        /** \u6ce8\u518chook  */\n        this.registerHookHub = (hookName, hook) => {\n            this.hooks[hookName] = hook;\n            return {\n                dispose: () => {\n                    delete this.hooks[hookName];\n                },\n            };\n        };\n        /** app\u542f\u52a8\u65f6\uff0c\u6536\u96c6hook\u6269\u5c55\u70b9\u7684\u6ce8\u518c\u9879 */\n        this.onStart = () => hook_registry_awaiter(this, void 0, void 0, function* () {\n            const contributions = this.contributionProvider.getContributions();\n            for (const contribution of contributions) {\n                contribution.registerHookHub(this);\n            }\n            for (const contribution of contributions) {\n                contribution.registerHook(this.hooks);\n            }\n        });\n        this.hooks = initHooks();\n    }\n    /** app\u7684\u505c\u6b62\u903b\u8f91 */\n    onStop() {\n        this.toDispose.dispose();\n    }\n};\nhook_registry_decorate([\n    Object(index_esm["contrib"])(IHookContribution),\n    hook_registry_metadata("design:type", Object)\n], hook_registry_HookRegistry.prototype, "contributionProvider", void 0);\nhook_registry_HookRegistry = hook_registry_decorate([\n    Object(index_esm["singleton"])({ contrib: [IFrontendApplicationContribution, IHookService] }),\n    hook_registry_metadata("design:paramtypes", [])\n], hook_registry_HookRegistry);\n\n//# sourceMappingURL=hook-registry.js.map\n// CONCATENATED MODULE: ../xflow-core/es/hooks/contributions/default.js\nvar default_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar default_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar default_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar NsGraphEventPlugin;\n(function (NsGraphEventPlugin) {\n    NsGraphEventPlugin.pluginId = \'GraphEventPlugin\';\n})(NsGraphEventPlugin || (NsGraphEventPlugin = {}));\n/**\n * \u5185\u7f6e\u7684hook contribution\n * \u5904\u7406 config\u4e0a\u7684runtime\u7684\u6ce8\u518c\u9879\n */\nlet default_RuntimeContribution = class RuntimeContribution {\n    constructor() {\n        this.toDispose = new disposable_DisposableCollection();\n        this.registerHook = (hooks) => default_awaiter(this, void 0, void 0, function* () {\n            const { hookRegisterFn } = yield this.hookConfig.getConfig();\n            const d = hookRegisterFn(hooks);\n            return Disposable.create(() => {\n                d.dispose();\n            });\n        });\n        this.registerHookHub = (registry) => default_awaiter(this, void 0, void 0, function* () {\n            const { hookhubRegisterFn } = yield this.hookConfig.getConfig();\n            const d = hookhubRegisterFn(registry);\n            return Disposable.create(() => {\n                d.dispose();\n            });\n        });\n    }\n};\ndefault_decorate([\n    Object(index_esm["inject"])(HookConfig),\n    default_metadata("design:type", HookConfig)\n], default_RuntimeContribution.prototype, "hookConfig", void 0);\ndefault_RuntimeContribution = default_decorate([\n    Object(index_esm["singleton"])({ contrib: IHookContribution })\n], default_RuntimeContribution);\n\n//# sourceMappingURL=default.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/constant.js\n/** \u8282\u70b9\u547d\u4ee4 */\nvar XFlowNodeCommands;\n(function (XFlowNodeCommands) {\n    const category = \'\u8282\u70b9\u64cd\u4f5c\';\n    /** \u65b0\u589e\u8282\u70b9 */\n    XFlowNodeCommands.ADD_NODE = {\n        id: \'xflow:add-node\',\n        label: \'\u6dfb\u52a0\u8282\u70b9\',\n        category,\n    };\n    /** \u79fb\u52a8\u8282\u70b9 */\n    XFlowNodeCommands.MOVE_NODE = {\n        id: \'xflow:move-node\',\n        label: \'Move Node\',\n        category,\n    };\n    /** \u5220\u9664\u8282\u70b9 */\n    XFlowNodeCommands.DEL_NODE = {\n        id: \'xflow:del-node\',\n        label: \'\u5220\u9664\u8282\u70b9\',\n        category,\n    };\n    /** \u66f4\u65b0\u8282\u70b9 */\n    XFlowNodeCommands.UPDATE_NODE = {\n        id: \'xflow:update-node\',\n        label: \'\u66f4\u65b0\u8282\u70b9\',\n        category,\n    };\n    /** \u8282\u70b9\u4ea4\u4e92\uff1a\u9ad8\u4eae\u8282\u70b9 */\n    XFlowNodeCommands.HIGHLIGHT_NODE = {\n        id: \'xflow:highlight-node\',\n        label: \'\u9ad8\u4eae\u8282\u70b9\',\n        category,\n    };\n    /** \u8282\u70b9\u4ea4\u4e92\uff1a\u9009\u4e2d\u8282\u70b9 */\n    XFlowNodeCommands.SELECT_NODE = {\n        id: \'xflow:select-node\',\n        label: \'\u9009\u4e2d\u8282\u70b9\',\n        category,\n    };\n    /** \u8282\u70b9\u5c45\u4e2d */\n    XFlowNodeCommands.CENTER_NODE = {\n        id: \'xflow:center-node\',\n        label: \'\u5c45\u4e2d\u8282\u70b9\',\n        category,\n    };\n    /** \u8282\u70b9\u524d\u7f6e\uff1a\u8c03\u6574zindex */\n    XFlowNodeCommands.FRONT_NODE = {\n        id: \'xflow:front-node\',\n        label: \'\u524d\u7f6e\u8282\u70b9\',\n        category,\n    };\n    /** \u8282\u70b9\u540e\u7f6e\uff1a\u8c03\u6574zindex */\n    XFlowNodeCommands.BACK_NODE = {\n        id: \'xflow:back-node\',\n        label: \'\u540e\u7f6e\u8282\u70b9\',\n        category,\n    };\n})(XFlowNodeCommands || (XFlowNodeCommands = {}));\n/** \u8fb9\u547d\u4ee4 */\nvar XFlowEdgeCommands;\n(function (XFlowEdgeCommands) {\n    const category = \'\u8fb9\u64cd\u4f5c\';\n    /** \u65b0\u589e\u8fb9 */\n    XFlowEdgeCommands.ADD_EDGE = {\n        id: \'xflow:add-edge\',\n        label: \'\u6dfb\u52a0\u8fb9\',\n        category,\n    };\n    /** \u5220\u9664\u8fb9 */\n    XFlowEdgeCommands.DEL_EDGE = {\n        id: \'xflow:del-edge\',\n        label: \'\u5220\u9664\u8fb9\',\n        category,\n    };\n    /** \u66f4\u65b0\u8fb9 */\n    XFlowEdgeCommands.UPDATE_EDGE = {\n        id: \'xflow:update-edge\',\n        label: \'\u66f4\u65b0\u8fb9\',\n        category,\n    };\n    /** \u9ad8\u4eae\u8fb9 */\n    XFlowEdgeCommands.HIGHLIGHT_EDGE = {\n        id: \'xflow:highlight-edge\',\n        label: \'\u9ad8\u4eae\u8fb9\',\n        category,\n    };\n    /** \u8fb9\u524d\u7f6e\uff1a\u8c03\u6574zindex */\n    XFlowEdgeCommands.FRONT_EDGE = {\n        id: \'xflow:front-edge\',\n        label: \'\u524d\u7f6e\u53d8\',\n        category,\n    };\n    /** \u8fb9\u540e\u7f6e\uff1a\u8c03\u6574zindex */\n    XFlowEdgeCommands.BACK_EDGE = {\n        id: \'xflow:back-edge\',\n        label: \'\u540e\u7f6e\u8fb9\',\n        category,\n    };\n})(XFlowEdgeCommands || (XFlowEdgeCommands = {}));\n/** \u753b\u5e03\u547d\u4ee4 */\nvar XFlowGraphCommands;\n(function (XFlowGraphCommands) {\n    const category = \'\u753b\u5e03\u64cd\u4f5c\';\n    /** LOAD \u5143\u6570\u636e\u64cd\u4f5c */\n    XFlowGraphCommands.LOAD_META = {\n        id: \'xflow:load-meta\',\n        label: \'\u83b7\u53d6\u5143\u6570\u636e\',\n        category,\n    };\n    /** LOAD DATA\u64cd\u4f5c */\n    XFlowGraphCommands.LOAD_DATA = {\n        id: \'xflow:load-data\',\n        label: \'\u83b7\u53d6\u56fe\u6570\u636e\',\n        category,\n    };\n    /** SAVE GRAPH DATA\u64cd\u4f5c */\n    XFlowGraphCommands.SAVE_GRAPH_DATA = {\n        id: \'xflow:save-graph-data\',\n        label: \'\u4fdd\u5b58\',\n        category,\n    };\n    /** LAYOUT */\n    XFlowGraphCommands.GRAPH_LAYOUT = {\n        id: \'xflow:layout\',\n        label: \'\u8ba1\u7b97\u5e03\u5c40\',\n        category,\n    };\n    /** Graph Render */\n    XFlowGraphCommands.GRAPH_RENDER = {\n        id: \'xflow:graph-render\',\n        label: \'\u6e32\u67d3\u753b\u5e03\',\n        category,\n    };\n    /** UNDO \u64cd\u4f5c */\n    XFlowGraphCommands.UNDO_CMD = {\n        id: \'xflow:undo-cmd\',\n        label: \'\u64a4\u9500\',\n        category,\n    };\n    /** REDO \u64cd\u4f5c */\n    XFlowGraphCommands.REDO_CMD = {\n        id: \'xflow:redo-cmd\',\n        label: \'\u91cd\u505a\',\n        category,\n    };\n    /** Graph General Operations: XFlow\u547d\u4ee4\u4e0d\u6ee1\u8db3\u7684\u53ef\u4ee5\u7528\u8fd9\u4e2a\u547d\u4ee4\uff0c\u76f4\u63a5\u4f7f\u7528Graph\u7684api */\n    XFlowGraphCommands.GRAPH_INSTANCE_COMMAND = {\n        id: \'xflow:graph-instacne-cmd\',\n        label: \'Graph\u901a\u7528Command\',\n        category,\n    };\n    /** Graph Zoom */\n    XFlowGraphCommands.GRAPH_ZOOM = {\n        id: \'xflow:graph-zoom\',\n        label: \'\u7f29\u653e\u753b\u5e03\',\n        category,\n    };\n    /** Graph Resize */\n    XFlowGraphCommands.GRAPH_RESIZE = {\n        id: \'xflow:graph-resize\',\n        label: \'\u8c03\u6574\u7a97\u53e3\u5927\u5c0f\',\n        category,\n    };\n    /** Graph Copy */\n    XFlowGraphCommands.GRAPH_COPY = {\n        id: \'xflow:graph-copy-selection\',\n        label: \'\u590d\u5236\',\n        category,\n    };\n    /** Graph Paste */\n    XFlowGraphCommands.GRAPH_PASTE = {\n        id: \'xflow:graph-paste-selection\',\n        label: \'\u7c98\u8d34\',\n        category,\n    };\n    /** Graph \u5f00\u542f\u6846\u9009 */\n    XFlowGraphCommands.GRAPH_TOGGLE_MULTI_SELECT = {\n        id: \'xflow:graph-toggle-multi-select\',\n        label: \'\u542f\u7528\u6846\u9009\',\n        category,\n    };\n    /** \u65b0\u589e Tool: https://x6.antv.vision/zh/docs/api/registry/edge-tool */\n    XFlowGraphCommands.GRAPH_ADD_TOOL = {\n        id: \'xflow:add-tool\',\n        label: \'\u6dfb\u52a0\u5de5\u5177\',\n        category,\n    };\n    /** \u5220\u9664 Tool: https://x6.antv.vision/zh/docs/api/registry/edge-tool */\n    XFlowGraphCommands.GRAPH_DEL_TOOL = {\n        id: \'xflow:del-tool\',\n        label: \'\u5220\u9664\u5de5\u5177\',\n        category,\n    };\n    /** history: https://x6.antv.vision/zh/docs/api/graph/history#%E6%96%B9%E6%B3%95 */\n    XFlowGraphCommands.GRAPH_HISTORY_UNDO = {\n        id: \'xflow:history-undo\',\n        label: \'history undo\',\n        category,\n    };\n    /** history: https://x6.antv.vision/zh/docs/api/graph/history#%E6%96%B9%E6%B3%95  */\n    XFlowGraphCommands.GRAPH_HISTORY_REDO = {\n        id: \'xflow:history-redo\',\n        label: \'history redo\',\n        category,\n    };\n    /** history: https://x6.antv.vision/zh/docs/api/graph/history#%E6%96%B9%E6%B3%95  */\n    XFlowGraphCommands.GRAPH_HISTORY_RESET = {\n        id: \'xflow:history-reset\',\n        label: \'history reset\',\n        category,\n    };\n    /** history: https://x6.antv.vision/zh/docs/api/graph/history#%E6%96%B9%E6%B3%95  */\n    XFlowGraphCommands.GRAPH_HISTORY_TOGGLE = {\n        id: \'xflow:history-toggle\',\n        label: \'history toggle\',\n        category,\n    };\n})(XFlowGraphCommands || (XFlowGraphCommands = {}));\n/** \u5168\u5c40\u72b6\u6001 */\nvar XFlowModelCommands;\n(function (XFlowModelCommands) {\n    const category = \'\u72b6\u6001\u64cd\u4f5c\';\n    /** Update model \u64cd\u4f5c */\n    XFlowModelCommands.UPDATE_MODEL = {\n        id: \'xflow:update-model\',\n        label: \'\u8bbe\u7f6e\u72b6\u6001\u503c\',\n        category,\n    };\n})(XFlowModelCommands || (XFlowModelCommands = {}));\n/** \u5168\u5c40\u72b6\u6001 */\nvar XFlowGroupCommands;\n(function (XFlowGroupCommands) {\n    const category = \'\u7fa4\u7ec4\u64cd\u4f5c\';\n    /** \u521d\u59cb\u5316\u7fa4\u7ec4\u64cd\u4f5c */\n    XFlowGroupCommands.INIT_GROUP = {\n        id: \'xflow:init-group\',\n        label: \'\u521d\u59cb\u5316\u7fa4\u7ec4\',\n        category,\n    };\n    /** ADD GROUP \u64cd\u4f5c */\n    XFlowGroupCommands.ADD_GROUP = {\n        id: \'xflow:add-group\',\n        label: \'\u65b0\u5efa\u7fa4\u7ec4\',\n        category,\n    };\n    /** DELETE GROUP \u64cd\u4f5c */\n    XFlowGroupCommands.DEL_GROUP = {\n        id: \'xflow:del-group\',\n        label: \'\u89e3\u6563\u7fa4\u7ec4\',\n        category,\n    };\n    /** \u6298\u53e0\u64cd\u4f5c */\n    XFlowGroupCommands.COLLAPSE_GROUP = {\n        id: \'xflow:collapse-group\',\n        label: \'\u6298\u53e0\u7fa4\u7ec4\',\n        category,\n    };\n})(XFlowGroupCommands || (XFlowGroupCommands = {}));\n//# sourceMappingURL=constant.js.map\n// CONCATENATED MODULE: ../xflow-core/es/common/utils.js\nconst utils_noop = () => null;\nconst disposableNoop = {\n    dispose: utils_noop,\n};\nfunction debounce(cb, time) {\n    let flag;\n    return () => {\n        clearTimeout(flag);\n        flag = window.setTimeout(cb, time);\n    };\n}\nfunction throttle(cb) {\n    let flag;\n    return () => {\n        if (!flag) {\n            flag = requestAnimationFrame(() => {\n                flag = null;\n                cb();\n            });\n        }\n    };\n}\nconst insertCss = (cssString) => {\n    const $style = document.createElement(\'style\');\n    $style.setAttribute(\'type\', \'text/css\');\n    document.head.appendChild($style);\n    // This is required for IE8 and below.\n    // @ts-ignore\n    if ($style.styleSheet) {\n        // @ts-ignore\n        $style.styleSheet.cssText = cssString;\n    }\n    else {\n        $style.appendChild(document.createTextNode(cssString));\n    }\n    return $style;\n};\n//# sourceMappingURL=utils.js.map\n// CONCATENATED MODULE: ../xflow-core/es/hooks/contributions/graph.js\nvar graph_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\nvar graph_NsGraphEventPlugin;\n(function (NsGraphEventPlugin) {\n    NsGraphEventPlugin.pluginId = \'GraphEventPlugin\';\n})(graph_NsGraphEventPlugin || (graph_NsGraphEventPlugin = {}));\n/**\n * \u5185\u7f6e\u7684hook contribution\n * \u5904\u7406graph config \u7684 evnets props\n */\nlet graph_GraphEventContribution = class GraphEventContribution {\n    constructor() {\n        this.toDispose = new disposable_DisposableCollection();\n        this.registerHookHub = () => graph_awaiter(this, void 0, void 0, function* () {\n            return Disposable.create(() => { });\n        });\n        /** \u6269\u5c55Hook */\n        this.registerHook = (hooks) => graph_awaiter(this, void 0, void 0, function* () {\n            const toDispose = new disposable_DisposableCollection();\n            const disposables = [\n                /** \u5728graph\u542f\u52a8\u524d, \u6ce8\u518c\u5916\u90e8\u4e8b\u4ef6\u5230x6Events\u7684hooks\u4e0a*/\n                hooks.x6Events.registerHook({\n                    name: graph_NsGraphEventPlugin.pluginId,\n                    handler: (args) => graph_awaiter(this, void 0, void 0, function* () {\n                        const { events } = yield this.graphOptions.getOptions();\n                        events.forEach(event => {\n                            args.push(event);\n                        });\n                    }),\n                }),\n                /** \u5728graph init\u540e, \u5916\u90e8\u4e8b\u4ef6 */\n                hooks.afterGraphInit.registerHook({\n                    name: graph_NsGraphEventPlugin.pluginId,\n                    handler: (args) => graph_awaiter(this, void 0, void 0, function* () {\n                        const { commandService, modelService, graph } = args;\n                        /** \u6ce8\u518c\u4e8b\u4ef6 */\n                        const todo = yield hooks.x6Events.call([], (mergedEvents) => graph_awaiter(this, void 0, void 0, function* () {\n                            return mergedEvents.map(e => {\n                                const handler = handlerArgs => {\n                                    e.callback(handlerArgs, commandService, modelService);\n                                };\n                                graph.on(e.eventName, handler);\n                                return {\n                                    dispose: () => {\n                                        graph.off(e.eventName, handler);\n                                    },\n                                };\n                            });\n                        }));\n                        toDispose.pushAll(todo);\n                    }),\n                }),\n                /** \u76d1\u542cwindow\u7684resize\u4e8b\u4ef6\uff0c\u5b9e\u73b0\u81ea\u52a8resize */\n                hooks.afterGraphInit.registerHook({\n                    name: \'add auto resize event\',\n                    handler: (args) => graph_awaiter(this, void 0, void 0, function* () {\n                        const { commandService } = args;\n                        const resizeHandler = throttle(() => {\n                            commandService.executeCommand(XFlowGraphCommands.GRAPH_RESIZE.id, {});\n                        });\n                        window.addEventListener(\'resize\', resizeHandler);\n                        toDispose.push(Disposable.create(() => {\n                            window.removeEventListener(\'resize\', resizeHandler);\n                        }));\n                    }),\n                }),\n                /** \u5728graph\u505c\u6b62\u65f6 \u53d6\u6d88\u5916\u90e8\u4e8b\u4ef6 */\n                hooks.beforeGraphDestory.registerHook({\n                    name: graph_NsGraphEventPlugin.pluginId,\n                    handler: () => graph_awaiter(this, void 0, void 0, function* () {\n                        toDispose.dispose();\n                    }),\n                }),\n            ];\n            toDispose.pushAll(disposables);\n            return toDispose;\n        });\n    }\n};\ngraph_decorate([\n    Object(index_esm["inject"])(IGraphOptionProvider),\n    graph_metadata("design:type", Object)\n], graph_GraphEventContribution.prototype, "graphOptions", void 0);\ngraph_GraphEventContribution = graph_decorate([\n    Object(index_esm["singleton"])({ contrib: IHookContribution })\n], graph_GraphEventContribution);\n\n//# sourceMappingURL=graph.js.map\n// CONCATENATED MODULE: ../xflow-core/es/hooks/module.js\n\n/** Application \u6269\u5c55\u4f9d\u8d56 */\n\n\n\n\n\n\n/** \u4f9d\u8d56\u6269\u5c55\u6a21\u5757\uff0c\u5fc5\u987b\u8981\u52a0\u8f7d */\nconst module_createModule = (config) => {\n    return Object(index_esm["Module"])(register => {\n        /** \u6ce8\u518c IGraphHookContribution \u6210\u4e3a\u4e00\u4e2a\u65b0\u6269\u5c55\u70b9 */\n        index_esm["Contribution"].register(register, IHookContribution);\n        /** \u6269\u5c55 runtime hook */\n        register(default_RuntimeContribution);\n        /** \u6269\u5c55 graph event hook */\n        register(graph_GraphEventContribution);\n        /** \u6ce8\u518c HookRegistry \u5230 IFrontendApplicationContribution */\n        /** \u6ce8\u518c HookRegistry */\n        register(hook_registry_HookRegistry);\n        /** \u6ce8\u518c XFlowHookConfig */\n        register(HookConfig, { useValue: config });\n    });\n};\n\n//# sourceMappingURL=module.js.map\n// CONCATENATED MODULE: ../xflow-core/es/xflow-main/components/extension-registry.js\n\n\n\n/** \u4fdd\u5b58\u7ec4\u4ef6\u4e0a\u7684\u914d\u7f6e */\nclass extension_registry_ExtensionRegistry {\n    constructor() {\n        this.extensions = [];\n        this.containerClassNames = new Set();\n        this.addCoreModule = (extension) => {\n            // core module \u6dfb\u52a0\u5728\u524d\u9762\n            this.extensions.unshift(extension);\n            return Disposable.create(() => {\n                this.removeExtension(extension);\n            });\n        };\n        this.addExtension = (extension) => {\n            this.extensions.push(extension);\n            return Disposable.create(() => {\n                this.removeExtension(extension);\n            });\n        };\n        this.removeExtension = (extension) => {\n            const idx = this.extensions.indexOf(extension);\n            if (idx > -1) {\n                this.extensions.splice(idx, 1);\n            }\n        };\n        this.getInstaceId = () => {\n            return this.instanceId;\n        };\n        this.addContainerClassNames = (clz) => {\n            return this.containerClassNames.add(clz);\n        };\n        this.getContainerClassNames = () => {\n            return Array.from(this.containerClassNames);\n        };\n        this.getAllExtensions = () => {\n            return this.extensions;\n        };\n        this.getAllExtensionConfigs = () => {\n            return this.extensions.map(i => i.config);\n        };\n        this.instanceId = uuidv4();\n    }\n    has(name) {\n        return this.extensions.some(ext => ext.config.CONFIG_TYPE === name);\n    }\n}\n/** \u83b7\u53d6Xflow extension\uff0c\u7528\u4e8e\u6536\u96c6React\u7ec4\u4ef6\u7684\u914d\u7f6e */\nconst createExtensionRegistry = () => {\n    /* eslint-disable-next-line react-hooks/rules-of-hooks */\n    const registry = react_default.a.useMemo(() => {\n        return new extension_registry_ExtensionRegistry();\n    }, []);\n    return registry;\n};\n//# sourceMappingURL=extension-registry.js.map\n// CONCATENATED MODULE: ../xflow-core/es/xflow-main/components/extension-context.js\n\n\n/** \u901a\u8fc7context\u6536\u96c6extension\u7684\u914d\u7f6e */\nconst ExtensionRegistryContext = react_default.a.createContext({});\nconst useExtensionRegistry = () => {\n    return react_default.a.useContext(ExtensionRegistryContext);\n};\n\n//# sourceMappingURL=extension-context.js.map\n// CONCATENATED MODULE: ../xflow-core/es/hooks/components/index.js\n\n\n\n\nconst components_HookRegistry = props => {\n    /** \u83b7\u53d6\u914d\u7f6e\u4e2d\u5fc3 */\n    const extensionRegistry = useExtensionRegistry();\n    /** \u83b7\u53d6ContextService\u7684\u914d\u7f6e */\n    const hookConfig = react_default.a.useMemo(() => (props.config ? props.config : new HookConfig()), \n    // \u4e0d\u8981\u79fb\u9664\uff1a\u4fdd\u8bc1config\u53ea\u751f\u6210\u4e00\u6b21\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []);\n    react_default.a.useEffect(() => {\n        const disposable = extensionRegistry.addCoreModule({\n            config: hookConfig,\n            createModule: module_createModule,\n        });\n        return () => {\n            disposable.dispose();\n            hookConfig.dispose();\n        };\n    }, [extensionRegistry, hookConfig]);\n    return null;\n};\nconst createHookConfig = (addOptions) => (value) => {\n    /** bridge config and value */\n    const valueContainer = react_default.a.useMemo(() => ({ getValue: () => ({}) }), []);\n    valueContainer.getValue = () => value;\n    const hookConfig = react_default.a.useMemo(() => {\n        const config = new HookConfig();\n        addOptions(config, valueContainer);\n        return config;\n    }, [valueContainer]);\n    return hookConfig;\n};\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/hooks/index.js\n\n\n\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/components/context.js\n\nconst AppContext = react_default.a.createContext({\n    cell: null,\n    x6Graph: null,\n    commands: null,\n    modelService: null,\n});\nconst useAppContext = () => react_default.a.useContext(AppContext);\nfunction getNodeReactComponent(Component, commands, modelService) {\n    return function (x6Node) {\n        /* eslint-disable-next-line  */\n        const x6Graph = this;\n        const nodeData = x6Node === null || x6Node === void 0 ? void 0 : x6Node.getData();\n        const size = x6Node === null || x6Node === void 0 ? void 0 : x6Node.getSize();\n        const position = x6Node === null || x6Node === void 0 ? void 0 : x6Node.getPosition();\n        const WrappedComponent = () => {\n            return (react_default.a.createElement(AppContext.Provider, { value: {\n                    cell: x6Node,\n                    x6Graph,\n                    commands,\n                    modelService,\n                } }, react_default.a.createElement(Component, {\n                cell: x6Node,\n                data: nodeData,\n                size,\n                position,\n            })));\n        };\n        return react_default.a.createElement(WrappedComponent, null);\n    };\n}\nfunction getEdgeReactComponent(Component, commands, modelService) {\n    return function (x6Edge) {\n        /* eslint-disable-next-line  */\n        const x6Graph = this;\n        const edgeData = x6Edge === null || x6Edge === void 0 ? void 0 : x6Edge.getData();\n        const WrappedComponent = () => {\n            return (react_default.a.createElement(AppContext.Provider, { value: {\n                    cell: x6Edge,\n                    x6Graph,\n                    commands,\n                    modelService,\n                } }, react_default.a.createElement(Component, {\n                data: edgeData,\n                cell: x6Edge,\n            })));\n        };\n        return react_default.a.createElement(WrappedComponent, null);\n    };\n}\n/** \u83b7\u53d6\u8282\u70b9\u9009\u4e2d\u72b6\u6001 */\nconst useIsNodeSelected = () => {\n    const [isSelected, setIsSelected] = react_default.a.useState(false);\n    const { x6Graph, cell } = useAppContext();\n    react_default.a.useEffect(() => {\n        const handler = ({ added, removed }) => {\n            const isAdded = added\n                .filter(selectedCell => selectedCell.isNode())\n                .some(node => {\n                node.id === cell.id;\n            });\n            if (isAdded) {\n                cell.setData(Object.assign(Object.assign({}, cell.getData()), { isNodeSelected: true }));\n                setIsSelected(true);\n                return;\n            }\n            const isRemoved = removed\n                .filter(selectedCell => selectedCell.isNode())\n                .some(node => {\n                node.id === cell.id;\n            });\n            if (isRemoved) {\n                cell.setData(Object.assign(Object.assign({}, cell.getData()), { isNodeSelected: false }));\n                setIsSelected(false);\n                return;\n            }\n        };\n        x6Graph.on(\'selection:changed\', handler);\n        return () => {\n            x6Graph.off(\'selection:changed\', handler);\n        };\n        /* eslint-disable-next-line  */\n    }, [x6Graph]);\n    return [isSelected];\n};\n//# sourceMappingURL=context.js.map\n// CONCATENATED MODULE: ../xflow-core/es/xflow-main/graph/graph-provider.js\nvar graph_provider_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_provider_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_provider_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\n\n\n/** !!! \u6240\u6709\u9700\u8981\u4f7f\u7528Graph\u76f8\u5173\u4fe1\u606f\u7684\u5730\u65b9, \u90fd\u7edf\u4e00\u4f7f\u7528IGraphProvider\u6765\u83b7\u53d6 */\nconst IGraphProvider = Symbol(\'IGraphProvider\');\nconst ICommandServiceProvider = Symbol(\'ICommandServiceProvider\');\nconst IModelServiceProvider = Symbol(\'IModelServiceProvider\');\nlet graph_provider_GraphManager = class GraphManager {\n    constructor() {\n        /** \u5904\u7406\u753b\u5e03\u5b9e\u4f8b\u7684\u9500\u6bc1 */\n        this.toDisposce = new disposable_DisposableCollection();\n        /** \u50a8\u5b58\u753b\u5e03\u5b9e\u4f8b */\n        this.graphMap = new Map();\n        /** \u83b7\u53d6X6 Graph \u5b9e\u4f8b */\n        this.getGraph = (graphId) => graph_provider_awaiter(this, void 0, void 0, function* () {\n            let graphDefer = this.graphMap.get(graphId);\n            if (!graphDefer) {\n                graphDefer = new Deferred();\n                this.graphMap.set(graphId, graphDefer);\n                const options = yield this.optionProvider.getOptions();\n                /** \u83b7\u53d6hooks\u5b9e\u4f8b\uff1a hooks\u65b9\u4fbf\u5176\u4ed6\u7ec4\u4ef6\u53ef\u4ee5\u4fee\u6539\u6ce8\u518cgraphOpions/events */\n                const hooks = this.hookService.hookProvider();\n                /** \u6267\u884chooks\uff1a\u83b7\u53d6graphOptions */\n                const mergedOptions = yield hooks.graphOptions.call(options.x6Options);\n                const { graphContainer, edgeRender, edgeTypeParser } = options;\n                /** \u6267\u884chooks\uff1a\u83b7\u53d6edge label render */\n                const edgeRenderMap = yield hooks.reactEdgeLabelRender.call(edgeRender);\n                const { clientHeight, clientWidth } = graphContainer;\n                const commandService = yield this.commandServiceProvider.getCommandService();\n                const modelService = yield this.modelServiceProvider.getModelService();\n                /** \u5b9e\u4f8b\u5316 X6 Graph */\n                const graph = new es["e" /* Graph */](Object.assign(Object.assign({ container: graphContainer, width: clientWidth, height: clientHeight }, mergedOptions), { \n                    /** X6\u63d0\u4f9b\u4e86\u8fb9\u6e32\u67d3\u7684\u94a9\u5b50, \u53ef\u4ee5\u5728\u8fd9\u91cc\u8bbe\u7f6e\u8fb9\u4e0a\u9700\u8981\u6e32\u67d3\u7684React\u5185\u5bb9 */\n                    onEdgeLabelRendered: args => {\n                        const { edge, container } = args;\n                        this.renderEdgeReactLabel({\n                            edge,\n                            container,\n                            edgeRenderMap,\n                            edgeTypeParser,\n                            modelService,\n                            commandService,\n                        });\n                    } }));\n                /** \u6267\u884chooks\uff1a\u7ed1\u5b9a\u4e8b\u4ef6\u6267\u884capi */\n                yield hooks.afterGraphInit.call({\n                    graph,\n                    commandService,\n                    modelService,\n                });\n                graphDefer.resolve(graph);\n                this.toDisposce.push(Disposable.create(() => graph_provider_awaiter(this, void 0, void 0, function* () {\n                    yield hooks.beforeGraphDestory.call({\n                        graph,\n                        commandService,\n                        modelService,\n                    });\n                    this.graphMap.delete(graphId);\n                    graph.dispose();\n                })));\n            }\n            return graphDefer.promise;\n        });\n        this.renderEdgeReactLabel = (args) => graph_provider_awaiter(this, void 0, void 0, function* () {\n            const { container, edgeTypeParser, edge, edgeRenderMap, commandService, modelService } = args;\n            const renderKey = edgeTypeParser(edge === null || edge === void 0 ? void 0 : edge.data) || XFLOW_DEFAULT_EDGE;\n            const reactComponent = edgeRenderMap.get(renderKey);\n            if (!reactComponent) {\n                return;\n            }\n            if (edge && (edge === null || edge === void 0 ? void 0 : edge.data) && reactComponent) {\n                const content = this.edgeAppendForeignObject(edge, container);\n                const WrappedReactComponent = getEdgeReactComponent(reactComponent, commandService, modelService)(edge);\n                react_dom_default.a.render(WrappedReactComponent, content);\n            }\n        });\n    }\n    /** \u5b9e\u73b0\u5728\u8fde\u7ebf\u4e0a\u6e32\u67d3React\u8282\u70b9 */\n    edgeAppendForeignObject(x6Edge, container) {\n        const fo = es["c" /* Dom */].createSvgElement(\'foreignObject\');\n        const body = es["c" /* Dom */].createElementNS(\'body\', es["c" /* Dom */].ns.xhtml);\n        const content = es["c" /* Dom */].createElementNS(\'div\', es["c" /* Dom */].ns.xhtml);\n        const edgeData = x6Edge === null || x6Edge === void 0 ? void 0 : x6Edge.data;\n        const foWdith = (edgeData === null || edgeData === void 0 ? void 0 : edgeData.edgeContentWidth) || 100;\n        const foHeight = (edgeData === null || edgeData === void 0 ? void 0 : edgeData.edgeContentHeigt) || 30;\n        fo.setAttribute(\'width\', `${foWdith}`);\n        fo.setAttribute(\'height\', `${foHeight}`);\n        fo.setAttribute(\'x\', `${(-1.0 * foWdith) / 2}`);\n        fo.setAttribute(\'y\', `${(-1.0 * foHeight) / 2}`);\n        body.setAttribute(\'xhtmls\', es["c" /* Dom */].ns.xhtml);\n        body.style.width = \'100%\';\n        body.style.height = \'100%\';\n        body.style.padding = \'0\';\n        body.style.margin = \'0\';\n        body.style.background = \'unset\';\n        body.style.overflow = \'visible\';\n        body.className = \'xflow-edge-label-body\';\n        content.style.width = \'100%\';\n        content.style.height = \'100%\';\n        body.appendChild(content);\n        fo.appendChild(body);\n        container.appendChild(fo);\n        return content;\n    }\n    dispose() {\n        this.toDisposce.dispose();\n    }\n};\ngraph_provider_decorate([\n    Object(index_esm["inject"])(IGraphOptionProvider),\n    graph_provider_metadata("design:type", Object)\n], graph_provider_GraphManager.prototype, "optionProvider", void 0);\ngraph_provider_decorate([\n    Object(index_esm["inject"])(IHookService),\n    graph_provider_metadata("design:type", Object)\n], graph_provider_GraphManager.prototype, "hookService", void 0);\ngraph_provider_decorate([\n    Object(index_esm["inject"])(ICommandServiceProvider),\n    graph_provider_metadata("design:type", Object)\n], graph_provider_GraphManager.prototype, "commandServiceProvider", void 0);\ngraph_provider_decorate([\n    Object(index_esm["inject"])(IModelServiceProvider),\n    graph_provider_metadata("design:type", Object)\n], graph_provider_GraphManager.prototype, "modelServiceProvider", void 0);\ngraph_provider_GraphManager = graph_provider_decorate([\n    Object(index_esm["singleton"])()\n], graph_provider_GraphManager);\n\nconst registerGraphModule = (register) => {\n    /** \u6ce8\u518cGraphManager */\n    register(graph_provider_GraphManager);\n    register(IGraphProvider, {\n        lifecycle: index_esm["Syringe"].Lifecycle.singleton,\n        useDynamic: context => {\n            return {\n                getGraphInstance: () => graph_provider_awaiter(void 0, void 0, void 0, function* () {\n                    const graphManager = context.container.get(graph_provider_GraphManager);\n                    const graphOptionProvider = context.container.get(IGraphOptionProvider);\n                    const graphConfig = yield (graphOptionProvider === null || graphOptionProvider === void 0 ? void 0 : graphOptionProvider.getOptions());\n                    const x6Graph = yield (graphManager === null || graphManager === void 0 ? void 0 : graphManager.getGraph(graphConfig.graphId));\n                    return x6Graph;\n                }),\n                getGraphOptions: () => graph_provider_awaiter(void 0, void 0, void 0, function* () {\n                    const graphOptionProvider = context.container.get(IGraphOptionProvider);\n                    return graphOptionProvider === null || graphOptionProvider === void 0 ? void 0 : graphOptionProvider.getOptions();\n                }),\n            };\n        },\n    });\n    register(ICommandServiceProvider, {\n        lifecycle: index_esm["Syringe"].Lifecycle.singleton,\n        useDynamic: context => {\n            return {\n                getCommandService: () => graph_provider_awaiter(void 0, void 0, void 0, function* () {\n                    const commandService = context.container.get(IGraphCommandService);\n                    return commandService;\n                }),\n            };\n        },\n    });\n    register(IModelServiceProvider, {\n        lifecycle: index_esm["Syringe"].Lifecycle.singleton,\n        useDynamic: context => {\n            return {\n                getModelService: () => graph_provider_awaiter(void 0, void 0, void 0, function* () {\n                    const modelService = context.container.get(IModelService);\n                    return modelService;\n                }),\n            };\n        },\n    });\n};\n//# sourceMappingURL=graph-provider.js.map\n// CONCATENATED MODULE: ../xflow-core/es/model-service/config.js\nvar model_service_config_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nvar NsModelServiceConfig;\n(function (NsModelServiceConfig) {\n    NsModelServiceConfig.CONFIG_TYPE = \'MODEL_SERVICE_CONFIG\';\n})(NsModelServiceConfig || (NsModelServiceConfig = {}));\nconst dispoableNoop = () => Disposable.create(() => { });\nclass config_ModelServiceConfig {\n    constructor() {\n        /** CONFIG_TYPE */\n        this.CONFIG_TYPE = NsModelServiceConfig.CONFIG_TYPE;\n        /** \u5916\u90e8\u6ce8\u518ccontext\u7684\u65b9\u6cd5 */\n        this.registerModelFn = dispoableNoop;\n        /** CONFIG_TYPE */\n        this.isMounted = new Deferred();\n        this.registerModel = (registerModel) => {\n            this.registerModelFn = registerModel;\n        };\n        this.setMountState = () => {\n            this.isMounted.resolve(true);\n        };\n        this.getConfig = () => model_service_config_awaiter(this, void 0, void 0, function* () {\n            yield this.isMounted.promise;\n            return {\n                CONFIG_TYPE: this.CONFIG_TYPE,\n                modelRegisterFunc: this.registerModelFn || dispoableNoop,\n            };\n        });\n        this.dispose = () => {\n            this.registerModelFn = dispoableNoop;\n            this.isMounted = new Deferred();\n        };\n    }\n}\n//# sourceMappingURL=config.js.map\n// CONCATENATED MODULE: ../xflow-core/es/model-service/model-registry.js\nvar model_registry_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar model_registry_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar model_registry_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\nlet model_registry_ModelRegistry = class ModelRegistry {\n    constructor() {\n        /** disposables */\n        this.toDispose = new disposable_DisposableCollection();\n        /** Deferred Model Map */\n        this.deferredModelMap = new Map();\n        /**\n         * \u6ce8\u518cmodel\n         * @param options IModelOptions<T>\n         */\n        this.registerModel = (options) => {\n            const { id, getInitialValue, modelFactory } = options;\n            const toDispose = new disposable_DisposableCollection();\n            const defer = this.ensureModel(id);\n            if (defer.isResolved) {\n                console.error(options, \'model has been registerd\');\n                return;\n            }\n            const initialValue = getInitialValue ? getInitialValue() : rx_model_NsModel.EMPTY_VALUE;\n            const model = modelFactory\n                ? modelFactory()\n                : new rx_model_RxModel(initialValue);\n            if (options.watchChange) {\n                /** \u7ed1\u5b9awatch\u4e8b\u4ef6 */\n                options.watchChange(model, this).then(d => {\n                    /** createModel \u540e resolve */\n                    defer.resolve(model);\n                    this.toDispose.pushAll([d, toDispose]);\n                    toDispose.push(d);\n                });\n            }\n            return toDispose;\n        };\n        /**\n         * \u67e5\u627e model\n         * @param token: Token<T>\n         */\n        this.findDeferredModel = (token) => {\n            return this.deferredModelMap.get(token);\n        };\n        /**\n         *  \u6d88\u8d39Model: await model resolve\n         * @param token: Token<T>\n         */\n        this.awaitModel = (token) => {\n            const defer = this.ensureModel(token);\n            return defer.promise;\n        };\n        /**\n         * \u6ce8\u518c \u5b9a\u4e49\u5728IModelOptionProvider\u4e2d\u7684Model\n         */\n        this.registerRuntimeModel = () => model_registry_awaiter(this, void 0, void 0, function* () {\n            const { modelRegisterFunc } = yield this.modelOptionProvider.getOption();\n            const graphInstance = yield this.graphProvider.getGraphInstance();\n            if (modelRegisterFunc) {\n                modelRegisterFunc(this, graphInstance);\n            }\n        });\n        /**\n         * \u786e\u4fdd\u8c03\u7528\u65f6\u6709\u53ef\u7528\u7684Model\n         * @param id ModelId\n         */\n        this.ensureModel = (token) => {\n            const existDeferred = this.deferredModelMap.get(token);\n            if (existDeferred) {\n                return existDeferred;\n            }\n            /** \u6ce8\u518cModelDeferred */\n            const newDeferred = new Deferred();\n            this.deferredModelMap.set(token, newDeferred);\n            this.toDispose.push(Disposable.create(() => this.deferredModelMap.delete(token)));\n            return newDeferred;\n        };\n    }\n    /** app\u542f\u52a8\u65f6\uff0c\u6536\u96c6Model\u6269\u5c55\u70b9\u7684\u6ce8\u518c\u9879 */\n    onStart() {\n        const contributions = this.contributionProvider.getContributions();\n        for (const contribution of contributions) {\n            contribution.registerModel(this);\n        }\n        this.registerRuntimeModel();\n    }\n    /** app\u505c\u6b62\u7684\u903b\u8f91 */\n    onStop() {\n        this.toDispose.dispose();\n    }\n};\nmodel_registry_decorate([\n    Object(index_esm["contrib"])(IModelContribution),\n    model_registry_metadata("design:type", Object)\n], model_registry_ModelRegistry.prototype, "contributionProvider", void 0);\nmodel_registry_decorate([\n    Object(index_esm["inject"])(IModelOptionProvider),\n    model_registry_metadata("design:type", Object)\n], model_registry_ModelRegistry.prototype, "modelOptionProvider", void 0);\nmodel_registry_decorate([\n    Object(index_esm["inject"])(IGraphProvider),\n    model_registry_metadata("design:type", Object)\n], model_registry_ModelRegistry.prototype, "graphProvider", void 0);\nmodel_registry_ModelRegistry = model_registry_decorate([\n    Object(index_esm["singleton"])({ contrib: [IFrontendApplicationContribution, IModelService] })\n], model_registry_ModelRegistry);\n\n//# sourceMappingURL=model-registry.js.map\n// CONCATENATED MODULE: ../xflow-core/es/model-service/constant.js\nvar constant_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/** existModel\u7684Utils */\nconst isModelExistUtil = (token) => (modelService) => {\n    const defer = modelService.findDeferredModel(token);\n    return defer && defer.promise ? true : false;\n};\n/** useModel\u7684Utils */\nconst getModelUtil = (token) => (modelService) => constant_awaiter(void 0, void 0, void 0, function* () {\n    return yield modelService.awaitModel(token);\n});\n/** useModel\u7684Utils */\nconst useModelValueUtil = (token) => (modelService) => constant_awaiter(void 0, void 0, void 0, function* () {\n    const model = yield modelService.awaitModel(token);\n    return model.getValidValue();\n});\n/** \u753b\u5e03\u662f\u5426\u5df2\u5f00\u542f\u591a\u9009 */\nvar GRAPH_ENABLE_MULTI_SELECT;\n(function (GRAPH_ENABLE_MULTI_SELECT) {\n    GRAPH_ENABLE_MULTI_SELECT.id = \'GRAPH_ENABLE_MULTI_SELECT\';\n    GRAPH_ENABLE_MULTI_SELECT.getModel = getModelUtil(GRAPH_ENABLE_MULTI_SELECT.id);\n    GRAPH_ENABLE_MULTI_SELECT.useValue = useModelValueUtil(GRAPH_ENABLE_MULTI_SELECT.id);\n})(GRAPH_ENABLE_MULTI_SELECT || (GRAPH_ENABLE_MULTI_SELECT = {}));\n/** \u753b\u5e03\u5df2\u9009\u4e2d\u8282\u70b9 */\nvar IS_NODE_SELECTED;\n(function (IS_NODE_SELECTED) {\n    IS_NODE_SELECTED.id = \'IS_NODE_SELECTED\';\n    IS_NODE_SELECTED.getModel = getModelUtil(IS_NODE_SELECTED.id);\n    IS_NODE_SELECTED.useValue = useModelValueUtil(IS_NODE_SELECTED.id);\n})(IS_NODE_SELECTED || (IS_NODE_SELECTED = {}));\n/** \u753b\u5e03\u9009\u4e2d\u8282\u70b9\u662fGroup */\nvar IS_GROUP_SELECTED;\n(function (IS_GROUP_SELECTED) {\n    IS_GROUP_SELECTED.id = \'IS_GROUP_SELECTED\';\n    IS_GROUP_SELECTED.getModel = getModelUtil(IS_GROUP_SELECTED.id);\n    IS_GROUP_SELECTED.useValue = useModelValueUtil(IS_GROUP_SELECTED.id);\n})(IS_GROUP_SELECTED || (IS_GROUP_SELECTED = {}));\n/** \u753b\u5e03\u9009\u4e2d\u8282\u70b9\u662fGroup */\nvar IS_NORMAL_NODES_SELECTED;\n(function (IS_NORMAL_NODES_SELECTED) {\n    IS_NORMAL_NODES_SELECTED.id = \'IS_NORMAL_NODES_SELECTED\';\n    IS_NORMAL_NODES_SELECTED.getModel = getModelUtil(IS_NORMAL_NODES_SELECTED.id);\n    IS_NORMAL_NODES_SELECTED.useValue = useModelValueUtil(IS_NORMAL_NODES_SELECTED.id);\n})(IS_NORMAL_NODES_SELECTED || (IS_NORMAL_NODES_SELECTED = {}));\n/** \u753b\u5e03\u9009\u4e2dCell\u72b6\u6001\uff0c\u4fdd\u5b58\u6700\u540e\u4e00\u4e2a\u9009\u4e2d\u7684\u8282\u70b9 */\nvar SELECTED_CELL;\n(function (SELECTED_CELL) {\n    SELECTED_CELL.id = \'LAST_SELECTED_CELL\';\n    SELECTED_CELL.getModel = getModelUtil(SELECTED_CELL.id);\n    SELECTED_CELL.useValue = useModelValueUtil(SELECTED_CELL.id);\n})(SELECTED_CELL || (SELECTED_CELL = {}));\n/** \u753b\u5e03\u9009\u4e2dCellS\u72b6\u6001 */\nvar SELECTED_CELLS;\n(function (SELECTED_CELLS) {\n    SELECTED_CELLS.id = \'SELECTED_CELLS\';\n    SELECTED_CELLS.getModel = getModelUtil(SELECTED_CELLS.id);\n    SELECTED_CELLS.useValue = useModelValueUtil(SELECTED_CELLS.id);\n})(SELECTED_CELLS || (SELECTED_CELLS = {}));\n/** \u753b\u5e03\u9009\u4e2d\u8282\u70b9\u72b6\u6001\uff0c \u5982\u6709\u591a\u4e2a\u8282\u70b9\u5219\u4fdd\u5b58\u6700\u540e\u4e00\u4e2a\u9009\u4e2d\u7684\u8282\u70b9 */\nvar SELECTED_NODE;\n(function (SELECTED_NODE) {\n    SELECTED_NODE.id = \'LAST_SELECTED_NODE\';\n    SELECTED_NODE.getModel = getModelUtil(SELECTED_NODE.id);\n    SELECTED_NODE.useValue = useModelValueUtil(SELECTED_NODE.id);\n})(SELECTED_NODE || (SELECTED_NODE = {}));\n/** \u753b\u5e03\u9009\u4e2d\u8282\u70b9\u72b6\u6001 */\nvar SELECTED_NODES;\n(function (SELECTED_NODES) {\n    SELECTED_NODES.id = \'SELECTED_NODES\';\n    SELECTED_NODES.getModel = getModelUtil(SELECTED_NODES.id);\n    SELECTED_NODES.useValue = useModelValueUtil(SELECTED_NODES.id);\n})(SELECTED_NODES || (SELECTED_NODES = {}));\n/** \u753b\u5e03\u9009\u4e2d\u8fb9\u72b6\u6001 */\nvar SELECTED_EDGES;\n(function (SELECTED_EDGES) {\n    SELECTED_EDGES.id = \'SELECTED_EDGES\';\n    SELECTED_EDGES.getModel = getModelUtil(SELECTED_EDGES.id);\n    SELECTED_EDGES.useValue = useModelValueUtil(SELECTED_EDGES.id);\n})(SELECTED_EDGES || (SELECTED_EDGES = {}));\n/** \u753b\u5e03\u9009\u4e2dGROUP List */\nvar SELECTED_GROUPS;\n(function (SELECTED_GROUPS) {\n    SELECTED_GROUPS.id = \'SELECTED_GROUPS\';\n    SELECTED_GROUPS.getModel = getModelUtil(SELECTED_GROUPS.id);\n    SELECTED_GROUPS.useValue = useModelValueUtil(SELECTED_GROUPS.id);\n})(SELECTED_GROUPS || (SELECTED_GROUPS = {}));\n/** \u753b\u5e03\u8282\u70b9\u53f3\u952e\u83dc\u5355\u72b6\u6001 */\nvar CONTEXTMENU_NODE;\n(function (CONTEXTMENU_NODE) {\n    CONTEXTMENU_NODE.id = \'CONTEXTMENU_NODE\';\n    CONTEXTMENU_NODE.getModel = getModelUtil(CONTEXTMENU_NODE.id);\n    CONTEXTMENU_NODE.useValue = useModelValueUtil(CONTEXTMENU_NODE.id);\n})(CONTEXTMENU_NODE || (CONTEXTMENU_NODE = {}));\n/** \u753b\u5e03\u8fb9\u53f3\u952e\u83dc\u5355\u72b6\u6001 */\nvar CONTEXTMENU_EDGE;\n(function (CONTEXTMENU_EDGE) {\n    CONTEXTMENU_EDGE.id = \'CONTEXTMENU_EDGE\';\n    CONTEXTMENU_EDGE.getModel = getModelUtil(CONTEXTMENU_EDGE.id);\n    CONTEXTMENU_EDGE.useValue = useModelValueUtil(CONTEXTMENU_EDGE.id);\n})(CONTEXTMENU_EDGE || (CONTEXTMENU_EDGE = {}));\n/** \u753b\u5e03\u53f3\u952e\u83dc\u5355\u72b6\u6001 */\nvar CONTEXTMENU_TARGET;\n(function (CONTEXTMENU_TARGET) {\n    CONTEXTMENU_TARGET.id = \'CONTEXTMENU_TARGET\';\n    CONTEXTMENU_TARGET.getModel = getModelUtil(CONTEXTMENU_TARGET.id);\n    CONTEXTMENU_TARGET.useValue = useModelValueUtil(CONTEXTMENU_TARGET.id);\n})(CONTEXTMENU_TARGET || (CONTEXTMENU_TARGET = {}));\n/** \u753b\u5e03\u5143\u6570\u636e\u72b6\u6001 */\nvar GRAPH_META;\n(function (GRAPH_META) {\n    GRAPH_META.id = \'GRAPH_META\';\n    GRAPH_META.getModel = getModelUtil(GRAPH_META.id);\n    GRAPH_META.useValue = useModelValueUtil(GRAPH_META.id);\n})(GRAPH_META || (GRAPH_META = {}));\n/** \u753b\u5e03\u7f29\u653e\u72b6\u6001 */\nvar GRAPH_SCALE;\n(function (GRAPH_SCALE) {\n    GRAPH_SCALE.id = \'GRAPH_SCALE\';\n    GRAPH_SCALE.getModel = getModelUtil(GRAPH_SCALE.id);\n    GRAPH_SCALE.useValue = useModelValueUtil(GRAPH_SCALE.id);\n})(GRAPH_SCALE || (GRAPH_SCALE = {}));\n/** COMMAND REDO STACK\u7684\u72b6\u6001*/\nvar COMMAND_REDOABLE;\n(function (COMMAND_REDOABLE) {\n    COMMAND_REDOABLE.id = \'COMMAND_REDOABLE\';\n    COMMAND_REDOABLE.getModel = getModelUtil(COMMAND_REDOABLE.id);\n    COMMAND_REDOABLE.useValue = useModelValueUtil(COMMAND_REDOABLE.id);\n})(COMMAND_REDOABLE || (COMMAND_REDOABLE = {}));\n/** COMMAND UNDO STACK\u7684\u72b6\u6001*/\nvar COMMAND_UNDOABLE;\n(function (COMMAND_UNDOABLE) {\n    COMMAND_UNDOABLE.id = \'COMMAND_UNDOABLE\';\n    COMMAND_UNDOABLE.getModel = getModelUtil(COMMAND_UNDOABLE.id);\n    COMMAND_UNDOABLE.useValue = useModelValueUtil(COMMAND_UNDOABLE.id);\n})(COMMAND_UNDOABLE || (COMMAND_UNDOABLE = {}));\n/** History Undo Redo */\nvar HISTORY_UNDOABLE;\n(function (HISTORY_UNDOABLE) {\n    HISTORY_UNDOABLE.id = \'HISTORY_UNDOABLE\';\n    HISTORY_UNDOABLE.getModel = getModelUtil(HISTORY_UNDOABLE.id);\n    HISTORY_UNDOABLE.useValue = useModelValueUtil(HISTORY_UNDOABLE.id);\n})(HISTORY_UNDOABLE || (HISTORY_UNDOABLE = {}));\nvar HISTORY_REDOABLE;\n(function (HISTORY_REDOABLE) {\n    HISTORY_REDOABLE.id = \'HISTORY_REDOABLE\';\n    HISTORY_REDOABLE.getModel = getModelUtil(HISTORY_REDOABLE.id);\n    HISTORY_REDOABLE.useValue = useModelValueUtil(HISTORY_REDOABLE.id);\n})(HISTORY_REDOABLE || (HISTORY_REDOABLE = {}));\n//# sourceMappingURL=constant.js.map\n// CONCATENATED MODULE: ../xflow-core/es/model-service/contributions/command-model.js\nvar command_model_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar command_model_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar command_model_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nlet command_model_CommandModelContribution = class CommandModelContribution {\n    /** \u6269\u5c55Model */\n    registerModel(registry) {\n        /** \u662f\u5426\u53ef\u4ee5redo */\n        registry.registerModel({\n            id: COMMAND_REDOABLE.id,\n            getInitialValue: () => this.commands.isRedoable,\n            watchChange: (model) => command_model_awaiter(this, void 0, void 0, function* () {\n                const disposable = this.commands.watchChange(() => {\n                    model.setValue(this.commands.isRedoable);\n                });\n                return disposable;\n            }),\n        });\n        /** \u662f\u5426\u53ef\u4ee5undo */\n        registry.registerModel({\n            id: COMMAND_UNDOABLE.id,\n            getInitialValue: () => this.commands.isUndoable,\n            watchChange: (model) => command_model_awaiter(this, void 0, void 0, function* () {\n                const disposable = this.commands.watchChange(() => {\n                    model.setValue(this.commands.isUndoable);\n                });\n                return disposable;\n            }),\n        });\n    }\n};\ncommand_model_decorate([\n    Object(index_esm["inject"])(IGraphCommandService),\n    command_model_metadata("design:type", Object)\n], command_model_CommandModelContribution.prototype, "commands", void 0);\ncommand_model_CommandModelContribution = command_model_decorate([\n    Object(index_esm["singleton"])({ contrib: IModelContribution })\n], command_model_CommandModelContribution);\n\n//# sourceMappingURL=command-model.js.map\n// CONCATENATED MODULE: ../xflow-core/es/common/event-helper.js\n\nconst disposableSubscribe = (target, eventName, cb) => {\n    target.on(eventName, cb);\n    return Disposable.create(() => {\n        target.off(eventName, cb);\n    });\n};\n//# sourceMappingURL=event-helper.js.map\n// CONCATENATED MODULE: ../xflow-core/es/model-service/contributions/graph-model.js\nvar graph_model_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_model_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_model_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\nlet graph_model_GraphModelContribution = class GraphModelContribution {\n    constructor() {\n        /** \u83b7\u53d6\u753b\u5e03\u5b9e\u4f8b */\n        this.getGraphInstance = () => graph_model_awaiter(this, void 0, void 0, function* () {\n            const graphInstance = yield this.graphProvider.getGraphInstance();\n            const graphConfig = yield this.graphProvider.getGraphOptions();\n            return { graph: graphInstance, config: graphConfig };\n        });\n    }\n    registerModel(registry) {\n        /** X6 GRAPH META */\n        registry.registerModel({\n            id: GRAPH_META.id,\n            getInitialValue: () => ({\n                flowId: \'-1\',\n            }),\n            watchChange: (self) => graph_model_awaiter(this, void 0, void 0, function* () {\n                return Disposable.create(() => {\n                    self.setValue({ flowId: \'-1\' });\n                });\n            }),\n        });\n        /** Graph \u591a\u9009\u72b6\u6001 */\n        registry.registerModel({\n            id: GRAPH_ENABLE_MULTI_SELECT.id,\n            getInitialValue: () => ({\n                isEnable: false,\n            }),\n            watchChange: (self) => graph_model_awaiter(this, void 0, void 0, function* () {\n                return Disposable.create(() => {\n                    self.setValue({ isEnable: false });\n                });\n            }),\n        });\n        /** \u9009\u4e2dCells\u72b6\u6001 */\n        registry.registerModel({\n            id: SELECTED_CELLS.id,\n            getInitialValue: () => [],\n            watchChange: (self) => graph_model_awaiter(this, void 0, void 0, function* () {\n                const { graph } = yield this.getGraphInstance();\n                const onChange = (e) => {\n                    const { selected } = e;\n                    self.setValue(selected);\n                };\n                graph.on(\'selection:changed\', onChange);\n                return Disposable.create(() => graph.off(\'selection:changed\', onChange));\n            }),\n        });\n        /** \u9009\u4e2dCell\u72b6\u6001 */\n        registry.registerModel({\n            id: SELECTED_CELL.id,\n            watchChange: (self, modelService) => graph_model_awaiter(this, void 0, void 0, function* () {\n                const cellsModel = yield SELECTED_CELLS.getModel(modelService);\n                return cellsModel.watch((cells = []) => {\n                    self.setValue([...cells].pop() || null);\n                });\n            }),\n        });\n        /** \u9009\u4e2d\u8282\u70b9\u5217\u8868\u72b6\u6001 */\n        registry.registerModel({\n            id: SELECTED_NODES.id,\n            getInitialValue: () => [],\n            watchChange: (self, modelService) => graph_model_awaiter(this, void 0, void 0, function* () {\n                const model = yield SELECTED_CELLS.getModel(modelService);\n                return model.watch((cells = []) => {\n                    const nodes = cells.filter(cell => cell.isNode());\n                    self.setValue(nodes);\n                });\n            }),\n        });\n        /** \u9009\u4e2d\u8282\u70b9\u72b6\u6001 */\n        registry.registerModel({\n            id: SELECTED_NODE.id,\n            watchChange: (self, modelService) => graph_model_awaiter(this, void 0, void 0, function* () {\n                const model = yield SELECTED_NODES.getModel(modelService);\n                const disposable = model.watch(nodes => {\n                    self.setValue([...nodes].pop() || null);\n                });\n                return disposable;\n            }),\n        });\n        /** \u662f\u5426\u9009\u4e2d\u8282\u70b9\u72b6\u6001 */\n        registry.registerModel({\n            id: IS_NODE_SELECTED.id,\n            watchChange: (self, modelService) => graph_model_awaiter(this, void 0, void 0, function* () {\n                const model = yield SELECTED_NODES.getModel(modelService);\n                const disposable = model.watch(nodes => {\n                    self.setValue(nodes.length > 0);\n                });\n                return disposable;\n            }),\n        });\n        /** \u753b\u5e03\u9009\u4e2d\u8282\u70b9\u662f\u5426\u662fGroup */\n        registry.registerModel({\n            id: IS_GROUP_SELECTED.id,\n            getInitialValue: () => false,\n            watchChange: (self, modelService) => graph_model_awaiter(this, void 0, void 0, function* () {\n                const model = yield SELECTED_CELLS.getModel(modelService);\n                const disposable = model.watch(cells => {\n                    const isGroup = cells.every(cell => {\n                        return cell && cell.getProp(\'isGroup\') === true;\n                    });\n                    self.setValue(isGroup);\n                });\n                return disposable;\n            }),\n        });\n        /** \u753b\u5e03\u9009\u4e2d\u8282\u70b9\u662f\u5426\u662fGroup */\n        registry.registerModel({\n            id: SELECTED_GROUPS.id,\n            getInitialValue: () => [],\n            watchChange: (self, modelService) => graph_model_awaiter(this, void 0, void 0, function* () {\n                const model = yield SELECTED_NODES.getModel(modelService);\n                const disposable = model.watch(cells => {\n                    const groups = cells.filter(cell => {\n                        return cell && cell.getProp(\'isGroup\') === true;\n                    });\n                    self.setValue(groups);\n                });\n                return disposable;\n            }),\n        });\n        /** \u753b\u5e03\u9009\u4e2d\u8282\u70b9\u662f\u5426\u662f\u666e\u901a\u8282\u70b9 */\n        registry.registerModel({\n            id: IS_NORMAL_NODES_SELECTED.id,\n            getInitialValue: () => false,\n            watchChange: (self, modelService) => graph_model_awaiter(this, void 0, void 0, function* () {\n                const model = yield SELECTED_CELLS.getModel(modelService);\n                const disposable = model.watch(cells => {\n                    const isNormalNodesSelected = cells.every(cell => {\n                        const isNotGroup = !(cell && cell.getProp(\'isGroup\'));\n                        const isNotGroupChild = !(cell && cell.getProp(\'group\'));\n                        return isNotGroup && isNotGroupChild;\n                    });\n                    const isNodeSelected = cells.length > 0 && isNormalNodesSelected;\n                    self.setValue(isNodeSelected);\n                });\n                return disposable;\n            }),\n        });\n        /** \u753b\u5e03\u7f29\u653e\u72b6\u6001 */\n        registry.registerModel({\n            id: GRAPH_SCALE.id,\n            getInitialValue: () => ({ zoomFactor: -1 }),\n            watchChange: (self) => graph_model_awaiter(this, void 0, void 0, function* () {\n                const { graph } = yield this.getGraphInstance();\n                const onChange = (e) => {\n                    const factor = graph.zoom();\n                    self.setValue(Object.assign(Object.assign({}, e), { zoomFactor: factor }));\n                };\n                graph.on(\'scale\', onChange);\n                return Disposable.create(() => graph.off(\'scale\', onChange));\n            }),\n        });\n        /** \u753b\u5e03\u53f3\u952e\u83dc\u5355\u72b6\u6001 */\n        registry.registerModel({\n            id: CONTEXTMENU_TARGET.id,\n            watchChange: (self) => graph_model_awaiter(this, void 0, void 0, function* () {\n                const { graph, config } = yield this.getGraphInstance();\n                const onContextMenu = (type) => (e) => {\n                    const { x, y } = e;\n                    const pagePoint = graph.localToClient({ x, y });\n                    const clientRect = config.rootContainer.getBoundingClientRect();\n                    const anchor = {\n                        x: pagePoint.x - ((clientRect === null || clientRect === void 0 ? void 0 : clientRect.x) || 0),\n                        y: pagePoint.y - ((clientRect === null || clientRect === void 0 ? void 0 : clientRect.y) || 0),\n                    };\n                    self.setValue({\n                        type,\n                        anchor,\n                        data: e,\n                        cell: e.cell,\n                    });\n                };\n                const toDispose = new disposable_DisposableCollection();\n                toDispose.pushAll([\n                    disposableSubscribe(graph, \'node:contextmenu\', onContextMenu(\'node\')),\n                    disposableSubscribe(graph, \'edge:contextmenu\', onContextMenu(\'edge\')),\n                    disposableSubscribe(graph, \'blank:contextmenu\', onContextMenu(\'blank\')),\n                ]);\n                return toDispose;\n            }),\n        });\n        /** \u753b\u5e03\u5386\u53f2Redo */\n        registry.registerModel({\n            id: HISTORY_REDOABLE.id,\n            getInitialValue: () => false,\n            watchChange: (self) => graph_model_awaiter(this, void 0, void 0, function* () {\n                const { graph } = yield this.getGraphInstance();\n                const onChange = () => {\n                    const canRedo = graph.history.canRedo();\n                    self.setValue(canRedo);\n                };\n                if (graph.history) {\n                    graph.history.on(\'change\', onChange);\n                }\n                return Disposable.create(() => graph.history.off(\'change\', onChange));\n            }),\n        });\n        /** \u753b\u5e03\u5386\u53f2undo */\n        registry.registerModel({\n            id: HISTORY_UNDOABLE.id,\n            getInitialValue: () => false,\n            watchChange: (self) => graph_model_awaiter(this, void 0, void 0, function* () {\n                const { graph } = yield this.getGraphInstance();\n                const onChange = () => {\n                    const canUndo = graph.history.canUndo();\n                    self.setValue(canUndo);\n                };\n                if (graph.history) {\n                    graph.history.on(\'change\', onChange);\n                }\n                return Disposable.create(() => graph.history.off(\'change\', onChange));\n            }),\n        });\n    }\n};\ngraph_model_decorate([\n    Object(index_esm["inject"])(IGraphProvider),\n    graph_model_metadata("design:type", Object)\n], graph_model_GraphModelContribution.prototype, "graphProvider", void 0);\ngraph_model_GraphModelContribution = graph_model_decorate([\n    Object(index_esm["singleton"])({ contrib: IModelContribution })\n], graph_model_GraphModelContribution);\n\n//# sourceMappingURL=graph-model.js.map\n// CONCATENATED MODULE: ../xflow-core/es/model-service/module.js\nvar module_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/* eslint-disable @typescript-eslint/no-redeclare */\n\n\n\n/**  model service \u6269\u5c55  */\n\n\n\n/** \u6a21\u5757 */\nconst modelServiceModule = Object(index_esm["Module"])(register => {\n    /** \u6ce8\u518c IModelService Contribution */\n    index_esm["Contribution"].register(register, IModelContribution);\n    /** \u6ce8\u518c ModelRegistry \u5230 IFrontendApplicationContribution  */\n    /** \u6ce8\u518c ModelRegistry alias IModelService Service */\n    register(model_registry_ModelRegistry);\n    /** \u6ce8\u518c Graph \u76f8\u5173\u7684ModelService  */\n    register(graph_model_GraphModelContribution);\n    /** \u6ce8\u518c Command \u76f8\u5173\u7684ModelService  */\n    register(command_model_CommandModelContribution);\n});\nconst registerModelServiceConfig = (register, config) => {\n    register({\n        token: IModelOptionProvider,\n        useDynamic: () => {\n            return {\n                getOption: () => module_awaiter(void 0, void 0, void 0, function* () {\n                    return config.getConfig();\n                }),\n            };\n        },\n        lifecycle: index_esm["Syringe"].Lifecycle.singleton,\n    });\n};\n/** \u7ec4\u4ef6\u7684 config \u6a21\u5757\uff0c\u5fc5\u987b\u8981\u52a0\u8f7d */\nconst model_service_module_createModule = (config) => {\n    return Object(index_esm["Module"])(register => {\n        /** \u7ed1\u5b9a ModelService  \u914d\u7f6e */\n        registerModelServiceConfig(register, config);\n    });\n};\n//# sourceMappingURL=module.js.map\n// CONCATENATED MODULE: ../xflow-core/es/model-service/components/index.js\n\n\n\n\nconst ModelServiceRegistry = props => {\n    const { config } = props;\n    /** \u83b7\u53d6\u914d\u7f6e\u4e2d\u5fc3 */\n    const extensionRegistry = useExtensionRegistry();\n    /** \u83b7\u53d6ModelService\u7684\u914d\u7f6e */\n    const modelServiceConfig = react_default.a.useMemo(() => (config ? config : new config_ModelServiceConfig()), \n    /* eslint-disable-next-line  */\n    []);\n    react_default.a.useEffect(() => {\n        const disposable = extensionRegistry.addCoreModule({\n            config: modelServiceConfig,\n            createModule: model_service_module_createModule,\n        });\n        modelServiceConfig.setMountState();\n        return () => {\n            disposable.dispose();\n            modelServiceConfig.dispose();\n        };\n        // \u4e0d\u8981\u79fb\u9664\uff1a\u4fdd\u8bc1 \u53ea\u751f\u6267\u884c\u4e00\u6b21\n        // eslint-disable-next-line\n    }, []);\n    return null;\n};\nModelServiceRegistry.defaultProps = { XFlowModuleType: \'ModelServiceConfig\' };\nconst createModelServiceConfig = (addOptions) => (value) => {\n    /** bridge config and value */\n    const valueContainer = react_default.a.useMemo(() => ({ getValue: () => ({}) }), []);\n    valueContainer.getValue = () => value;\n    const hookConfig = react_default.a.useMemo(() => {\n        const config = new config_ModelServiceConfig();\n        addOptions(config, valueContainer);\n        return config;\n    }, [valueContainer]);\n    return hookConfig;\n};\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/model-service/index.js\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/xflow-main/application.js\nvar application_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar application_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar application_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/* eslint-disable @typescript-eslint/no-redeclare */\n/* eslint-disable no-await-in-loop */\n/* eslint-disable max-classes-per-file */\n\n\n\n\n\n\nconst TIMER_WARNING_THRESHOLD = 100;\nlet FrontendApplication = class FrontendApplication {\n    /** \u542f\u52a8app */\n    start() {\n        return application_awaiter(this, void 0, void 0, function* () {\n            yield this.startContributions();\n            this.registerEventListeners();\n        });\n    }\n    /** \u83b7\u53d6\u753b\u5e03\u5b9e\u4f8b */\n    getGraphInstance() {\n        return this.graphProvider.getGraphInstance();\n    }\n    /** \u83b7\u53d6\u753b\u5e03\u914d\u7f6e\u9879 */\n    getGraphConfig() {\n        return this.graphProvider.getGraphOptions();\n    }\n    /** \u66b4\u9732\u547d\u4ee4\u7684\u6267\u884c\u63a5\u53e3 */\n    executeCommand(commandId, cmdArgs, hook = []) {\n        return this.commandService.executeCommand(commandId, cmdArgs, hook);\n    }\n    /** \u66b4\u9732\u547d\u4ee4\u7684\u6279\u91cf\u6267\u884c\u63a5\u53e3 */\n    executeCommandPipeline(cmdOptions) {\n        return this.commandService.executeCommandPipeline(cmdOptions);\n    }\n    /**\n     * Register global event listeners.\n     */\n    registerEventListeners() {\n        /** \u89e6\u53d1app\u7684\u5378\u8f7d\u903b\u8f91 */\n        window.addEventListener(\'unload\', () => {\n            this.stopContributions();\n        });\n    }\n    /**\n     * Initialize and start the frontend application contributions.\n     */\n    startContributions() {\n        return application_awaiter(this, void 0, void 0, function* () {\n            console.log(this.contributions.getContributions());\n            for (const contribution of this.contributions.getContributions()) {\n                if (contribution.onStart) {\n                    try {\n                        yield this.measure(`${contribution.constructor.name}.onStart`, () => contribution.onStart(this));\n                    }\n                    catch (error) {\n                        console.error(\'Could not start contribution\', error);\n                    }\n                }\n            }\n        });\n    }\n    /**\n     * Stop the frontend application contributions. This is called when the window is unloaded.\n     */\n    stopContributions() {\n        console.info(\'>>> Stopping frontend contributions...\');\n        for (const contribution of this.contributions.getContributions()) {\n            if (contribution.onStop) {\n                try {\n                    contribution.onStop(this);\n                }\n                catch (error) {\n                    console.error(\'Could not stop contribution\', error);\n                }\n            }\n        }\n        console.info(\'<<< All frontend contributions have been stopped.\');\n    }\n    measure(name, fn) {\n        return application_awaiter(this, void 0, void 0, function* () {\n            const startMark = `${name}-start`;\n            const endMark = `${name}-end`;\n            performance.mark(startMark);\n            const result = yield fn();\n            performance.mark(endMark);\n            performance.measure(name, startMark, endMark);\n            for (const item of performance.getEntriesByName(name)) {\n                const contribution = `Frontend ${item.name}`;\n                if (item.duration > TIMER_WARNING_THRESHOLD) {\n                    console.warn(`${contribution} is slow, took: ${item.duration.toFixed(1)} ms`);\n                }\n                else {\n                    console.debug(`${contribution} took: ${item.duration.toFixed(1)} ms`);\n                }\n            }\n            performance.clearMeasures(name);\n            return result;\n        });\n    }\n};\napplication_decorate([\n    Object(index_esm["contrib"])(IFrontendApplicationContribution),\n    application_metadata("design:type", Object)\n], FrontendApplication.prototype, "contributions", void 0);\napplication_decorate([\n    Object(index_esm["inject"])(IGraphProvider),\n    application_metadata("design:type", Object)\n], FrontendApplication.prototype, "graphProvider", void 0);\napplication_decorate([\n    Object(index_esm["inject"])(IGraphCommandService),\n    application_metadata("design:type", Object)\n], FrontendApplication.prototype, "commandService", void 0);\napplication_decorate([\n    Object(index_esm["inject"])(IModelService),\n    application_metadata("design:type", Object)\n], FrontendApplication.prototype, "modelService", void 0);\nFrontendApplication = application_decorate([\n    Object(index_esm["singleton"])()\n], FrontendApplication);\n\n//# sourceMappingURL=application.js.map\n// CONCATENATED MODULE: ../xflow-core/es/xflow-main/application-module.js\n/* eslint-disable @typescript-eslint/no-redeclare */\n\n/** Application */\n\n/** Command \u6a21\u5757 */\n\n\n/** Extension \u6ce8\u518c\u4e2d\u5fc3 */\n\n/** \u7c7b\u578b\u5b9a\u4e49 */\n\n\n/** application */\nconst appMainModule = Object(index_esm["Module"])(register => {\n    /** \u58f0\u660eIFrontendApplicationContribution\u6269\u5c55\u70b9*/\n    index_esm["Contribution"].register(register, IFrontendApplicationContribution);\n    /** \u58f0\u660e FrontendApplication */\n    register(FrontendApplication);\n});\nconst initApp = (moduleRegistry) => {\n    const extensions = moduleRegistry.getAllExtensions();\n    const container = new index_esm["Container"]();\n    /** command */\n    /** react renderer */\n    /** \u6279\u91cf\u521b\u5efa extension module */\n    const modules = extensions.map(module => {\n        const { createModule, config } = module;\n        return createModule(config);\n    });\n    /** \u5355\u72ec\u52a0\u8f7d appMainModule */\n    container.load(appMainModule);\n    /** \u5355\u72ec\u52a0\u8f7d commandRegistryModule */\n    container.load(commandRegistryModule);\n    // /** \u5355\u72ec\u52a0\u8f7d modelServiceModule */\n    container.load(modelServiceModule);\n    /**\n     * \u6279\u91cf\u52a0\u8f7d extension module\n     * \u5305\u62ec\uff1amenu/toolbar/keybinding/graph\n     */\n    modules.forEach(module => {\n        container.load(module);\n    });\n    const app = container.get(FrontendApplication);\n    return app;\n};\n//# sourceMappingURL=application-module.js.map\n// CONCATENATED MODULE: ../xflow-core/es/xflow-main/components/app-context.js\n\n/** AppContext */\nconst XFlowAppContext = react_default.a.createContext(null);\nXFlowAppContext.displayName = \'XFlowAppContext\';\n/** AppContext:\u83b7\u53d6 app */\nconst useXFlowApp = () => {\n    const container = react_default.a.useContext(XFlowAppContext);\n    return container && container.getApp ? container.getApp() : null;\n};\n/** AppContext: \u83b7\u53d6 appContainer */\nconst useXFlowAppContainer = () => {\n    return react_default.a.useContext(XFlowAppContext);\n};\nclass AppContainer {\n    constructor(isUserDefined = false) {\n        this.cache = null;\n        this.setApp = (app) => {\n            this.cache = app;\n            if (this.onAppChangeCallback) {\n                this.onAppChangeCallback(app);\n            }\n        };\n        this.isUserDefined = () => this.isUserDefinedFlag;\n        this.getApp = () => {\n            return this.cache;\n        };\n        this.onAppChange = cb => {\n            this.onAppChangeCallback = cb;\n        };\n        this.dispose = () => {\n            this.cache = null;\n        };\n        this.isUserDefinedFlag = isUserDefined;\n    }\n}\n/** XFlow\u5185\u90e8\u4f7f\u7528 */\nconst XFlowAppInternalProvider = props => {\n    const userDefinedAppContainer = useXFlowAppContainer();\n    const [, setTick] = react_default.a.useState(null);\n    const appContainer = react_default.a.useMemo(() => {\n        return userDefinedAppContainer && userDefinedAppContainer.isUserDefined()\n            ? userDefinedAppContainer\n            : new AppContainer(false);\n        // \u4e0d\u8981\u79fb\u9664\uff1a\u4fdd\u8bc1config\u53ea\u751f\u6210\u4e00\u6b21\n        // eslint-disable-next-line\n    }, []);\n    // set appChange callback\n    if (!appContainer.isUserDefined()) {\n        appContainer.onAppChange(() => setTick(0));\n    }\n    react_default.a.useEffect(() => {\n        if (props.app) {\n            appContainer.setApp(props.app);\n        }\n        // \u4e0d\u8981\u79fb\u9664\uff1a\u53ea\u5173\u5fc3 props.app\n        // eslint-disable-next-line\n    }, [props.app]);\n    if (appContainer.isUserDefined()) {\n        return react_default.a.createElement(react_default.a.Fragment, null, props.children);\n    }\n    return (react_default.a.createElement(XFlowAppContext.Provider, { value: Object.assign({}, appContainer) }, props.children));\n};\nXFlowAppInternalProvider.displayName = \'XFlowAppInternalProvider\';\n/** XFlow\u5916\u90e8\u4f7f\u7528 */\nconst XFlowAppProvider = ({ children }) => {\n    const [, setTick] = react_default.a.useState(null);\n    const appContainer = react_default.a.useMemo(() => {\n        return new AppContainer(true);\n    }, []);\n    // add callback\n    appContainer.onAppChange(() => setTick(0));\n    return react_default.a.createElement(XFlowAppContext.Provider, { value: Object.assign({}, appContainer) }, children);\n};\nXFlowAppProvider.displayName = \'XFlowAppProvider\';\n//# sourceMappingURL=app-context.js.map\n// CONCATENATED MODULE: ../xflow-core/es/xflow-main/components/global-config-context.js\n\n\n/** xflow classname prefix context */\nclass global_config_context_ConfigProvider {\n    constructor() {\n        this.xflowPrefixCls = XFLOW_PREFIX_CLS;\n        this.getXflowPrefixCls = (pkgName) => {\n            return `${this.xflowPrefixCls}-${pkgName}`;\n        };\n        this.setXflowPrefixCls = (prefixCls) => {\n            return (this.xflowPrefixCls = prefixCls);\n        };\n    }\n}\nconst XFlowConfigProviderContext = react_default.a.createContext({\n    configProvider: null,\n});\nconst useConfigContext = () => {\n    return react_default.a.useContext(XFlowConfigProviderContext);\n};\nconst useXflowPrefixCls = (pkgName) => {\n    const ctx = useConfigContext();\n    return react_default.a.useMemo(() => {\n        if (ctx.configProvider) {\n            return ctx.configProvider.getXflowPrefixCls(pkgName);\n        }\n        return `${XFLOW_PREFIX_CLS}-${pkgName}`;\n        /* eslint-disable-next-line  */\n    }, [pkgName]);\n};\n//# sourceMappingURL=global-config-context.js.map\n// CONCATENATED MODULE: ../xflow-core/es/xflow-main/components/app-extension-module.js\nvar app_extension_module_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nfunction XFlowAppExtensionMoudle(props) {\n    const { createModule, children } = props;\n    /** \u83b7\u53d6\u6269\u5c55Registry */\n    const extensionRegistry = useExtensionRegistry();\n    /** Config */\n    const config = react_default.a.useMemo(() => props.config || { CONFIG_TYPE: \'\', getConfig: () => app_extension_module_awaiter(this, void 0, void 0, function* () { return ({}); }) }, \n    /* eslint-disable-next-line  */\n    []);\n    react_default.a.useEffect(() => {\n        /** \u6ce8\u518c extension \u5230 Registry */\n        const disposable = extensionRegistry.addExtension({\n            config: config,\n            createModule,\n        });\n        return () => {\n            disposable.dispose();\n        };\n        /* eslint-disable-next-line  */\n    }, []);\n    /** \u53ef\u4ee5 Wrap Children\u7ec4\u4ef6 */\n    if (Array.isArray(children) || react_default.a.isValidElement(children)) {\n        return react_default.a.createElement(react_default.a.Fragment, null,\n            " ",\n            children,\n            " ");\n    }\n    return null;\n}\n//# sourceMappingURL=app-extension-module.js.map\n// CONCATENATED MODULE: ../xflow-core/es/common/position.js\n\nconst usePositionStyle = (conf = {}) => {\n    return Object(react["useMemo"])(() => {\n        const config = Object.entries(conf);\n        const style = config.length > 0 ? { position: \'absolute\' } : {};\n        config.forEach(([key, val = 0]) => {\n            style[key] = `${val}px`;\n        });\n        return style;\n    }, [conf]);\n};\n//# sourceMappingURL=position.js.map\n// CONCATENATED MODULE: ../xflow-core/es/xflow-main/graph/module.js\n/* eslint-disable @typescript-eslint/no-redeclare */\n\n/** Application \u6269\u5c55\u4f9d\u8d56 */\n\n\n\n/** \u4f9d\u8d56\u6269\u5c55\u6a21\u5757\uff0c\u5fc5\u987b\u8981\u52a0\u8f7d */\nconst createX6GraphModule = (config) => {\n    return Object(index_esm["Module"])(register => {\n        /** \u6ce8\u518c GraphProvider */\n        registerGraphModule(register);\n        /** \u6ce8\u518c GraphProvider \u914d\u7f6e */\n        registerGraphConfig(register, config);\n    });\n};\n//# sourceMappingURL=module.js.map\n// CONCATENATED MODULE: ../xflow-core/es/xflow-main/graph/index.js\n\n\n\n\n//# sourceMappingURL=index.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@antv/x6-react-shape/es/index.js + 7 modules\nvar x6_react_shape_es = __webpack_require__("P6wp");\n\n// CONCATENATED MODULE: ../xflow-core/es/xflow-main/components/canvas.js\nvar canvas_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\nconst XFlowCanvas = props => {\n    const app = useXFlowApp();\n    /** x6\u753b\u5e03parent\u7684dom\u8282\u70b9 */\n    const rootRef = react_default.a.useRef(null);\n    /** x6\u753b\u5e03\u7684dom\u8282\u70b9 */\n    const canvasRef = react_default.a.useRef(null);\n    /** \u751f\u6210\u914d\u7f6e\u4e2d\u5fc3 */\n    const extensionRegistry = useExtensionRegistry();\n    /** \u83b7\u53d6ContextService\u7684\u914d\u7f6e */\n    const graphConfig = react_default.a.useMemo(() => {\n        const config = props.config ? props.config : new config_GraphConfig();\n        config.setX6Config();\n        return config;\n        /** \u4fdd\u8bc1\u53ea\u751f\u6210\u4e00\u6b21 */\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    /** X6_NODE_PORTAL_NODE_VIEW */\n    const [Portal, setGraph] = Object(x6_react_shape_es["b" /* usePortal */])(graphConfig.graphId);\n    react_default.a.useEffect(() => {\n        app &&\n            app.getGraphInstance().then(graph => {\n                setGraph(graph);\n            });\n    }, [app, setGraph]);\n    react_default.a.useEffect(() => {\n        /** \u8bbe\u7f6e\u753b\u5e03parent dom\u8282\u70b9\u3001\u753b\u5e03dom\u8282\u70b9 */\n        graphConfig.setRootContainer(rootRef.current);\n        graphConfig.setGraphContainer(canvasRef.current);\n        /** \u5173\u8054XflowApp\u548cGraph*/\n        graphConfig.xflowInstanceId = extensionRegistry.getInstaceId();\n        extensionRegistry.addCoreModule({ config: graphConfig, createModule: createX6GraphModule });\n        /** unmount */\n        const destroy = () => canvas_awaiter(void 0, void 0, void 0, function* () {\n            graphConfig.dispose();\n        });\n        return () => {\n            destroy();\n        };\n        /** \u4fdd\u8bc1\u53ea\u751f\u6210\u4e00\u6b21 */\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    const style = usePositionStyle(props.position);\n    const rootClz = useXflowPrefixCls(\'canvas-root\');\n    const canvasClz = useXflowPrefixCls(\'x6-canvas\');\n    return (react_default.a.createElement(react_default.a.Fragment, null,\n        react_default.a.createElement("div", { ref: rootRef, className: rootClz, style: style, id: graphConfig.graphId, tabIndex: 0 },\n            react_default.a.createElement("div", { ref: canvasRef, className: canvasClz }),\n            props.children),\n        react_default.a.createElement(Portal, null)));\n};\nXFlowCanvas.defaultProps = {\n    isXFlowCanvas: true,\n};\n//# sourceMappingURL=canvas.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/cmd-context.js\nvar cmd_context_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar cmd_context_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar cmd_context_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\nlet cmd_context_CmdContext = class CmdContext {\n    constructor() {\n        /** undos \u5b58\u5728\u8fd9\u91cc */\n        this.toDispose = new disposable_DisposableCollection();\n        /** command handler\u7684runtimeHook */\n        this.runtimeHooks = [];\n        /** \u83b7\u53d6 x6 \u5b9e\u4f8b */\n        this.getX6Graph = () => cmd_context_awaiter(this, void 0, void 0, function* () {\n            if (this.graph)\n                return this.graph;\n            const graphInstance = yield this.graphProvider.getGraphInstance();\n            this.graph = graphInstance;\n            return graphInstance;\n        });\n        /** \u83b7\u53d6 graph */\n        this.getGraphConfig = () => cmd_context_awaiter(this, void 0, void 0, function* () {\n            return this.graphProvider.getGraphOptions();\n        });\n        this.getGraphMeta = () => cmd_context_awaiter(this, void 0, void 0, function* () {\n            const service = this.getModelService();\n            const meta = this.graphMeta || (yield model_service_constant_namespaceObject.GRAPH_META.useValue(service));\n            return meta;\n        });\n        /** \u8bbe\u7f6e\u53c2\u6570 */\n        this.setArgs = (args, runtimeHooks = []) => {\n            this.args = args;\n            this.runtimeHooks = runtimeHooks;\n            return { args, hooks: runtimeHooks };\n        };\n        /** \u83b7\u53d6\u53c2\u6570 */\n        this.getArgs = () => {\n            /** \u6ce8\u5165graph meta */\n            const args = Object.assign(Object.assign({}, this.args), { graphMeta: this.graphMeta, modelService: this.getModelService(), commandService: this.getCommands(), getX6Graph: this.getX6Graph, getGraphConfig: this.getGraphConfig });\n            return { args: args, hooks: this.runtimeHooks };\n        };\n        /** \u8bbe\u7f6e\u6267\u884c\u7ed3\u679c */\n        this.setResult = (result) => {\n            this.result = result;\n            return this.result;\n        };\n        /** \u83b7\u53d6\u6267\u884c\u7ed3\u679c */\n        this.getResult = () => {\n            return this.result;\n        };\n        /** hooks */\n        this.getHooks = () => {\n            return this.hookService.hookProvider();\n        };\n        /** \u83b7\u53d6Command Service */\n        this.getCommands = () => {\n            return this.command;\n        };\n        /** \u83b7\u53d6Context Service */\n        this.getModelService = () => {\n            return this.modelService;\n        };\n        /** \u6dfb\u52a0undo */\n        this.addUndo = (disposable) => {\n            if (!Array.isArray(disposable)) {\n                return this.addUndo([disposable]);\n            }\n            this.toDispose.pushAll(disposable);\n        };\n        /** \u6267\u884cundo */\n        this.undo = () => cmd_context_awaiter(this, void 0, void 0, function* () {\n            yield this.toDispose.dispose();\n        });\n        /** \u662f\u5426\u53ef\u4ee5\u6267\u884cundo */\n        this.isUndoable = () => {\n            return !this.toDispose.disposed;\n        };\n        /** \u83b7\u53d6 toDispose */\n        this.getDisposables = () => this.toDispose;\n    }\n    init() {\n        this.getGraphMeta().then(meta => {\n            this.graphMeta = meta;\n        });\n    }\n};\ncmd_context_decorate([\n    Object(index_esm["inject"])(IGraphProvider),\n    cmd_context_metadata("design:type", Object)\n], cmd_context_CmdContext.prototype, "graphProvider", void 0);\ncmd_context_decorate([\n    Object(index_esm["inject"])(IHookService),\n    cmd_context_metadata("design:type", Object)\n], cmd_context_CmdContext.prototype, "hookService", void 0);\ncmd_context_decorate([\n    Object(index_esm["inject"])(IGraphCommandService),\n    cmd_context_metadata("design:type", Object)\n], cmd_context_CmdContext.prototype, "command", void 0);\ncmd_context_decorate([\n    Object(index_esm["inject"])(IModelService),\n    cmd_context_metadata("design:type", Object)\n], cmd_context_CmdContext.prototype, "modelService", void 0);\ncmd_context_decorate([\n    Object(index_esm["postConstruct"])(),\n    cmd_context_metadata("design:type", Function),\n    cmd_context_metadata("design:paramtypes", []),\n    cmd_context_metadata("design:returntype", void 0)\n], cmd_context_CmdContext.prototype, "init", null);\ncmd_context_CmdContext = cmd_context_decorate([\n    Object(index_esm["injectable"])()\n], cmd_context_CmdContext);\n\n//# sourceMappingURL=cmd-context.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/config.js\nvar command_contributions_config_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nconst CONFIG_TYPE = \'CommandConfig\';\nconst getDefaultContributions = () => {\n    return [];\n};\nclass config_CommandConfig {\n    constructor() {\n        this.setCommandContributions = (fn) => {\n            this.getContributions = fn;\n        };\n        this.getCommandContributions = () => {\n            return this.getContributions();\n        };\n        this.registerHook = (hooks) => command_contributions_config_awaiter(this, void 0, void 0, function* () {\n            if (this.registerHookFn) {\n                return this.registerHookFn(hooks);\n            }\n            return disposableNoop;\n        });\n        this.registerHookHub = (registry) => command_contributions_config_awaiter(this, void 0, void 0, function* () {\n            if (this.registerHookHubFn) {\n                return this.registerHookHubFn(registry);\n            }\n            return disposableNoop;\n        });\n        /** \u8bbe\u7f6eCONFIG\u7c7b\u578b */\n        this.CONFIG_TYPE = CONFIG_TYPE;\n        /** set command hook fn */\n        this.setRegisterHookFn = (fn) => {\n            this.registerHookFn = fn;\n        };\n        /** \u6ce8\u518c command hook hub */\n        this.setRegisterHookHubFn = (fn) => {\n            this.registerHookHubFn = fn;\n        };\n        /** \u83b7\u53d6config\u7684\u6240\u6709\u914d\u7f6e*/\n        this.getConfig = () => command_contributions_config_awaiter(this, void 0, void 0, function* () {\n            return {\n                registerHookFn: this.registerHookFn,\n                getContributions: this.getContributions,\n                CONFIG_TYPE: this.CONFIG_TYPE,\n            };\n        });\n        this.getContributions = getDefaultContributions;\n    }\n}\n/** \u63d0\u4f9b\u4e00\u4e2a\u5de5\u5382\u65b9\u6cd5 */\nconst createCommandConfig = () => {\n    return new config_CommandConfig();\n};\nconst registerCommandConfig = (register, commandConfig) => {\n    register({\n        token: config_CommandConfig,\n        contrib: [IHookContribution],\n        lifecycle: index_esm["Syringe"].Lifecycle.singleton,\n        useDynamic: () => {\n            return commandConfig;\n        },\n    });\n};\n//# sourceMappingURL=config.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/node/node-add.js\nvar node_add_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar node_add_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar node_add_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\nvar node_add_NsAddNode;\n(function (NsAddNode) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsAddNode.command = XFlowNodeCommands.ADD_NODE;\n    /** hookName */\n    NsAddNode.hookKey = \'addNode\';\n})(node_add_NsAddNode || (node_add_NsAddNode = {}));\nlet node_add_AddNodeCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass AddNodeCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => node_add_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            const result = yield hooks.addNode.call(args, (handlerArgs) => node_add_awaiter(this, void 0, void 0, function* () {\n                const { createNodeService, cellFactory, commandService } = handlerArgs;\n                const graph = yield ctx.getX6Graph();\n                const node = createNodeService\n                    ? yield createNodeService(handlerArgs)\n                    : handlerArgs.nodeConfig;\n                const nodeConfig = yield this.processNodeConfig(node);\n                let x6NodeCell;\n                if (cellFactory) {\n                    /** \u4f7f\u7528\u53c2\u6570\u4e2d\u7684\u5de5\u5382\u65b9\u6cd5 */\n                    const cell = yield cellFactory(nodeConfig, this);\n                    x6NodeCell = graph.addNode(cell);\n                }\n                else {\n                    x6NodeCell = graph.addNode(nodeConfig);\n                }\n                /** add undo: delete node */\n                ctx.addUndo(Disposable.create(() => node_add_awaiter(this, void 0, void 0, function* () {\n                    const nodeData = Object.assign({ id: x6NodeCell.id }, x6NodeCell.getData());\n                    commandService.executeCommand(XFlowNodeCommands.DEL_NODE.id, {\n                        nodeConfig: nodeData,\n                    });\n                })));\n                return { nodeConfig: nodeConfig, nodeCell: x6NodeCell };\n            }), runtimeHook);\n            ctx.setResult(result);\n            return this;\n        });\n        this.processNodeConfig = (nodeConfig) => node_add_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            /**\n             * 1. react shape node \u903b\u8f91\n             * 2. X6\u4e0d\u4f1a\u5904\u7406data\u6570\u636e, \u4ec5\u900f\u4f20\u3002\u53ef\u4ee5\u901a\u8fc7x6Node?.getData()\u65b9\u6cd5\u83b7\u53d6\u8fd9\u4efd\u6570\u636e\n             */\n            nodeConfig.data = Object.assign({}, nodeConfig);\n            /** \u975e react shape */\n            if (nodeConfig.shape) {\n                return nodeConfig;\n            }\n            /** react shape \u4f7f\u7528react-portal-view\u63d0\u9ad8\u6027\u80fd */\n            if (!nodeConfig.view) {\n                const graphConfig = yield ctx.getGraphConfig();\n                nodeConfig.view = graphConfig.graphId;\n            }\n            /** \u83b7\u53d6 react component */\n            if (!nodeConfig.component) {\n                const reactComponent = yield this.getNodeReactComponent(nodeConfig);\n                const commands = ctx.getCommands();\n                const modelService = ctx.getModelService();\n                nodeConfig.shape = \'react-shape\';\n                nodeConfig.component = getNodeReactComponent(reactComponent, commands, modelService);\n            }\n            return nodeConfig;\n        });\n        this.getNodeReactComponent = (nodeConfig) => node_add_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            const hooks = ctx.getHooks();\n            /** \u83b7\u53d6Graph Config\u4e2d\u7528\u6237\u9884\u8bbe\u7684\u8282\u70b9\u6e32\u67d3\u9700\u8981\u7684React\u7ec4\u4ef6 */\n            const graphConfig = yield ctx.getGraphConfig();\n            /** \u901a\u8fc7hooks\u83b7\u53d6\u66f4\u591a\u7684\u7ec4\u4ef6 */\n            const renderMap = yield hooks.reactNodeRender.call(graphConfig.nodeRender);\n            /** \u83b7\u53d6renderKey\uff0c\u6ca1\u6709renderKey\u65f6\u4f7f\u7528\u9ed8\u8ba4Key */\n            const renderKey = graphConfig.nodeTypeParser(nodeConfig) || XFLOW_DEFAULT_NODE;\n            /** \u83b7\u53d6\u7ec4\u4ef6 */\n            const reactComponent = renderMap.get(renderKey);\n            if (!reactComponent) {\n                console.error(\'react node component is missing:\', graphConfig.nodeRender, renderKey, reactComponent);\n            }\n            return reactComponent;\n        });\n        /** undo cmd */\n        this.undo = () => node_add_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            if (this.isUndoable()) {\n                ctx.undo();\n            }\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => node_add_awaiter(this, void 0, void 0, function* () {\n            if (!this.isUndoable()) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    isUndoable() {\n        const ctx = this.contextProvider();\n        return ctx.isUndoable();\n    }\n};\nnode_add_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    node_add_metadata("design:type", Object)\n], node_add_AddNodeCommand.prototype, "contextProvider", void 0);\nnode_add_AddNodeCommand = node_add_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: node_add_NsAddNode.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], node_add_AddNodeCommand);\n\n//# sourceMappingURL=node-add.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/node/node-del.js\nvar node_del_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar node_del_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar node_del_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\nvar node_del_NsDelNode;\n(function (NsDelNode) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsDelNode.command = XFlowNodeCommands.DEL_NODE;\n    /** hook name */\n    NsDelNode.hookKey = \'delNode\';\n    /** \u521b\u5efa hook */\n    NsDelNode.createHook = () => {\n        return new es_HookHub();\n    };\n})(node_del_NsDelNode || (node_del_NsDelNode = {}));\nlet node_del_DelNodeCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass DelNodeCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => node_del_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            const result = yield hooks.delNode.call(args, (handlerArgs) => node_del_awaiter(this, void 0, void 0, function* () {\n                const { commandService, deleteNodeService } = handlerArgs;\n                const graph = yield ctx.getX6Graph();\n                if (deleteNodeService) {\n                    const canDel = yield deleteNodeService(handlerArgs);\n                    if (!canDel)\n                        return { err: \' service rejected\' };\n                }\n                const nodeId = (handlerArgs.x6Node || handlerArgs.nodeConfig).id;\n                const nodeCell = graph.getCellById(nodeId);\n                if (nodeCell && nodeCell.isNode()) {\n                    /** \u5148\u6e05\u7406\u8fde\u7ebf */\n                    const edges = [\n                        ...(graph.getIncomingEdges(nodeCell) || []),\n                        ...(graph.getOutgoingEdges(nodeCell) || []),\n                    ];\n                    yield Promise.all(edges.map(edge => {\n                        return commandService.executeCommand(XFlowEdgeCommands.DEL_EDGE.id, {\n                            x6Edge: edge,\n                        });\n                    }));\n                    /** \u518d\u6e05\u7406\u8282\u70b9 */\n                    const nodeConfig = nodeCell.getData();\n                    nodeCell.remove();\n                    /** add undo: delete node */\n                    ctx.addUndo(Disposable.create(() => node_del_awaiter(this, void 0, void 0, function* () {\n                        yield commandService.executeCommand(XFlowNodeCommands.ADD_NODE.id, {\n                            nodeConfig,\n                        });\n                        // TODO: \u652f\u6301\u7ebf\u548c\u8282\u70b9\u7684undo\n                        // \u901a\u8fc7 sequence mapping \u51fa\u65b0\u7684port id\n                        // const nodeCtx = nodeCmd.contextProvider()\n                        // const { nodeCell } = nodeCtx.getResult()\n                        // edgeCmds.forEach(async cmd => {\n                        //   const c = cmd.contextProvider()\n                        //   const { edgeConfig } = c.getResult()\n                        // })\n                    })));\n                    return { err: null, nodeConfig };\n                }\n                return { err: \'node is not exist\' };\n            }), runtimeHook);\n            ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => node_del_awaiter(this, void 0, void 0, function* () {\n            if (this.isUndoable()) {\n                const ctx = this.contextProvider();\n                ctx.undo();\n            }\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => node_del_awaiter(this, void 0, void 0, function* () {\n            if (!this.isUndoable()) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    isUndoable() {\n        const ctx = this.contextProvider();\n        return ctx.isUndoable();\n    }\n};\nnode_del_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    node_del_metadata("design:type", Object)\n], node_del_DelNodeCommand.prototype, "contextProvider", void 0);\nnode_del_DelNodeCommand = node_del_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: node_del_NsDelNode.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], node_del_DelNodeCommand);\n\n//# sourceMappingURL=node-del.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/node/node-select.js\nvar node_select_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar node_select_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar node_select_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nvar node_select_NsSelectNode;\n(function (NsSelectNode) {\n    NsSelectNode.command = XFlowNodeCommands.SELECT_NODE;\n    NsSelectNode.hookKey = \'selectNode\';\n})(node_select_NsSelectNode || (node_select_NsSelectNode = {}));\nlet node_select_SelectNodeCommand = \n/** \u8282\u70b9\u66f4\u65b0\u547d\u4ee4 */\nclass SelectNodeCommand {\n    constructor() {\n        this.execute = () => node_select_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.selectNode.call(args, (handlerArgs) => node_select_awaiter(this, void 0, void 0, function* () {\n                const x6Graph = yield this.ctx.getX6Graph();\n                const currentSelectionIds = x6Graph.getSelectedCells().map(node => node.id);\n                const { nodeIds, resetSelection, commandService } = handlerArgs;\n                if (resetSelection) {\n                    x6Graph.resetSelection(nodeIds);\n                }\n                else {\n                    x6Graph.select(nodeIds);\n                }\n                this.ctx.addUndo({\n                    dispose: () => {\n                        commandService.executeUndoCommand(XFlowNodeCommands.SELECT_NODE.id, {\n                            nodeIds: currentSelectionIds,\n                            resetSelection: true,\n                        });\n                    },\n                });\n                return {};\n            }), runtimeHook);\n            this.ctx.setResult(result);\n            return this;\n        });\n        this.undo = () => node_select_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        this.redo = () => node_select_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\nnode_select_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    node_select_metadata("design:type", Object)\n], node_select_SelectNodeCommand.prototype, "contextProvider", void 0);\nnode_select_decorate([\n    Object(index_esm["postConstruct"])(),\n    node_select_metadata("design:type", Function),\n    node_select_metadata("design:paramtypes", []),\n    node_select_metadata("design:returntype", void 0)\n], node_select_SelectNodeCommand.prototype, "init", null);\nnode_select_SelectNodeCommand = node_select_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: node_select_NsSelectNode.command.id },\n    })\n    /** \u8282\u70b9\u66f4\u65b0\u547d\u4ee4 */\n], node_select_SelectNodeCommand);\n\n//# sourceMappingURL=node-select.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/node/node-move.js\nvar node_move_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar node_move_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar node_move_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\nvar node_move_NsMoveNode;\n(function (NsMoveNode) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsMoveNode.command = XFlowNodeCommands.MOVE_NODE;\n    /** hookName */\n    NsMoveNode.hookKey = \'moveNode\';\n    /** \u521b\u5efa hook */\n    NsMoveNode.createHook = () => {\n        return new es_HookHub();\n    };\n})(node_move_NsMoveNode || (node_move_NsMoveNode = {}));\nlet node_move_MoveNodeCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass MoveNodeCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => node_move_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            const result = yield hooks.moveNode.call(args, (handlerArgs) => node_move_awaiter(this, void 0, void 0, function* () {\n                const { nodePositionService } = handlerArgs;\n                /** nodePositionService \u8fd4\u56defalse\u65f6\u4e0d\u66f4\u65b0position */\n                if (nodePositionService) {\n                    const canDel = yield nodePositionService(handlerArgs);\n                    if (!canDel)\n                        return { err: \'service rejected\' };\n                }\n                const { dx = 0, dy = 0, x, y, duration = 150 } = handlerArgs.position;\n                const x6Graph = yield ctx.getX6Graph();\n                const node = x6Graph.getCellById(handlerArgs.id);\n                if (node) {\n                    let nextX = x;\n                    let nextY = y;\n                    const { x: preX, y: preY } = node.position();\n                    let undo = () => {\n                        node.position(preX, preY, { silent: false });\n                    };\n                    if (dx || dy) {\n                        nextX = dx + preX;\n                        nextY = dy + preY;\n                        node.translate(dx, dy, { transition: { duration } });\n                        undo = () => node.translate(-dx, -dy, { transition: { duration } });\n                    }\n                    else {\n                        node.position(nextX, nextY, { silent: false });\n                    }\n                    /** add undo  */\n                    ctx.addUndo(Disposable.create(() => {\n                        undo();\n                    }));\n                    return { err: null, nextX, nextY };\n                }\n            }), runtimeHook);\n            ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => node_move_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            if (this.isUndoable()) {\n                ctx.undo();\n            }\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => node_move_awaiter(this, void 0, void 0, function* () {\n            if (!this.isUndoable()) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    isUndoable() {\n        const ctx = this.contextProvider();\n        return ctx.isUndoable();\n    }\n};\nnode_move_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    node_move_metadata("design:type", Object)\n], node_move_MoveNodeCommand.prototype, "contextProvider", void 0);\nnode_move_MoveNodeCommand = node_move_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: node_move_NsMoveNode.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], node_move_MoveNodeCommand);\n\n//# sourceMappingURL=node-move.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/node/node-update.js\nvar node_update_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar node_update_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar node_update_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar node_update_NsUpdateNode;\n(function (NsUpdateNode) {\n    NsUpdateNode.command = XFlowNodeCommands.UPDATE_NODE;\n    NsUpdateNode.hookKey = \'updateNode\';\n    NsUpdateNode.NODE_WIDTH = 200;\n    NsUpdateNode.NODE_HEIGHT = 40;\n})(node_update_NsUpdateNode || (node_update_NsUpdateNode = {}));\nlet node_update_UpdateNodeCommand = \n/** \u8282\u70b9\u66f4\u65b0\u547d\u4ee4 */\nclass UpdateNodeCommand {\n    constructor() {\n        this.execute = () => node_update_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.updateNode.call(args, (handlerArgs) => node_update_awaiter(this, void 0, void 0, function* () {\n                const x6Graph = yield this.ctx.getX6Graph();\n                const { nodeConfig } = handlerArgs;\n                const x6Node = x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.getCellById(nodeConfig === null || nodeConfig === void 0 ? void 0 : nodeConfig.id);\n                x6Node.setData(nodeConfig);\n                x6Node.setPosition((nodeConfig === null || nodeConfig === void 0 ? void 0 : nodeConfig.x) || 0, (nodeConfig === null || nodeConfig === void 0 ? void 0 : nodeConfig.y) || 0);\n                x6Node.setSize((nodeConfig === null || nodeConfig === void 0 ? void 0 : nodeConfig.width) || node_update_NsUpdateNode.NODE_WIDTH, (nodeConfig === null || nodeConfig === void 0 ? void 0 : nodeConfig.height) || node_update_NsUpdateNode.NODE_HEIGHT);\n                if (!(x6Node instanceof x6_react_shape_es["a" /* ReactShape */]) && !!x6Node.getAttrByPath(\'text/text\')) {\n                    x6Node.setAttrByPath(\'text/text\', nodeConfig.label);\n                }\n                // \u652f\u6301nodeAttrs\n                if (nodeConfig.attrs) {\n                    x6Node.setAttrs(nodeConfig.attrs);\n                }\n                return {\n                    nodeConfig,\n                    nodeCell: x6Node,\n                };\n            }), runtimeHook);\n            this.ctx.setResult(result);\n            return this;\n        });\n        this.undo = () => node_update_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        this.redo = () => node_update_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\nnode_update_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    node_update_metadata("design:type", Object)\n], node_update_UpdateNodeCommand.prototype, "contextProvider", void 0);\nnode_update_decorate([\n    Object(index_esm["postConstruct"])(),\n    node_update_metadata("design:type", Function),\n    node_update_metadata("design:paramtypes", []),\n    node_update_metadata("design:returntype", void 0)\n], node_update_UpdateNodeCommand.prototype, "init", null);\nnode_update_UpdateNodeCommand = node_update_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: node_update_NsUpdateNode.command.id },\n    })\n    /** \u8282\u70b9\u66f4\u65b0\u547d\u4ee4 */\n], node_update_UpdateNodeCommand);\n\n//# sourceMappingURL=node-update.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/node/node-center.js\nvar node_center_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar node_center_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar node_center_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nvar node_center_NsCenterNode;\n(function (NsCenterNode) {\n    NsCenterNode.command = XFlowNodeCommands.CENTER_NODE;\n    NsCenterNode.hookKey = \'centerNode\';\n})(node_center_NsCenterNode || (node_center_NsCenterNode = {}));\nlet CenterNodeCommand = \n/** \u8282\u70b9\u5728\u753b\u5e03\u5c45\u4e2d\u547d\u4ee4 */\nclass CenterNodeCommand {\n    constructor() {\n        this.execute = () => node_center_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.centerNode.call(args, (handlerArgs) => node_center_awaiter(this, void 0, void 0, function* () {\n                const x6Graph = yield this.ctx.getX6Graph();\n                const { nodeConfig } = handlerArgs;\n                const x6Node = x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.getCellById(nodeConfig === null || nodeConfig === void 0 ? void 0 : nodeConfig.id);\n                x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.centerCell(x6Node);\n                return { x6Node };\n            }), runtimeHook);\n            this.ctx.setResult(result);\n            return this;\n        });\n        this.undo = () => node_center_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        this.redo = () => node_center_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\nnode_center_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    node_center_metadata("design:type", Object)\n], CenterNodeCommand.prototype, "contextProvider", void 0);\nnode_center_decorate([\n    Object(index_esm["postConstruct"])(),\n    node_center_metadata("design:type", Function),\n    node_center_metadata("design:paramtypes", []),\n    node_center_metadata("design:returntype", void 0)\n], CenterNodeCommand.prototype, "init", null);\nCenterNodeCommand = node_center_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: node_center_NsCenterNode.command.id },\n    })\n    /** \u8282\u70b9\u5728\u753b\u5e03\u5c45\u4e2d\u547d\u4ee4 */\n], CenterNodeCommand);\n\n//# sourceMappingURL=node-center.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/node/node-front.js\nvar node_front_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar node_front_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar node_front_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar node_front_NsFrontNode;\n(function (NsFrontNode) {\n    NsFrontNode.command = XFlowNodeCommands.FRONT_NODE;\n    NsFrontNode.hookKey = \'frontNode\';\n})(node_front_NsFrontNode || (node_front_NsFrontNode = {}));\nlet node_front_FrontNodeCommand = \n/** \u8282\u70b9\u524d\u7f6e\u547d\u4ee4(\u59cb\u7ec8\u5728\u753b\u5e03\u6700\u524d\u65b9) */\nclass FrontNodeCommand {\n    constructor() {\n        this.execute = () => node_front_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            const result = yield hooks.frontNode.call(args, (handlerArgs) => node_front_awaiter(this, void 0, void 0, function* () {\n                const x6Graph = yield this.ctx.getX6Graph();\n                const { nodeId } = handlerArgs;\n                const x6Node = x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.getCellById(nodeId);\n                if (!x6Node) {\n                    console.error(nodeId, \'this nodeId is not exist\');\n                }\n                else {\n                    x6Node.toFront();\n                    /** frontNode undo */\n                    ctx.addUndo(Disposable.create(() => node_front_awaiter(this, void 0, void 0, function* () {\n                        handlerArgs.commandService.executeCommand(XFlowNodeCommands.BACK_NODE.id, {\n                            nodeId,\n                        });\n                    })));\n                }\n                return {};\n            }), runtimeHook);\n            ctx.setResult(result);\n            return this;\n        });\n        this.undo = () => node_front_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        this.redo = () => node_front_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\nnode_front_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    node_front_metadata("design:type", Object)\n], node_front_FrontNodeCommand.prototype, "contextProvider", void 0);\nnode_front_decorate([\n    Object(index_esm["postConstruct"])(),\n    node_front_metadata("design:type", Function),\n    node_front_metadata("design:paramtypes", []),\n    node_front_metadata("design:returntype", void 0)\n], node_front_FrontNodeCommand.prototype, "init", null);\nnode_front_FrontNodeCommand = node_front_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: node_front_NsFrontNode.command.id },\n    })\n    /** \u8282\u70b9\u524d\u7f6e\u547d\u4ee4(\u59cb\u7ec8\u5728\u753b\u5e03\u6700\u524d\u65b9) */\n], node_front_FrontNodeCommand);\n\n//# sourceMappingURL=node-front.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/node/node-back.js\nvar node_back_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar node_back_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar node_back_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar node_back_NsBackNode;\n(function (NsBackNode) {\n    /** command */\n    NsBackNode.command = XFlowNodeCommands.BACK_NODE;\n    /** hook key */\n    NsBackNode.hookKey = \'backNode\';\n})(node_back_NsBackNode || (node_back_NsBackNode = {}));\nlet node_back_BackNodeCommand = \n/** \u8282\u70b9\u524d\u7f6e\u547d\u4ee4(\u59cb\u7ec8\u5728\u753b\u5e03\u6700\u524d\u65b9) */\nclass BackNodeCommand {\n    constructor() {\n        this.execute = () => node_back_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.backNode.call(args, (handlerArgs) => node_back_awaiter(this, void 0, void 0, function* () {\n                const x6Graph = yield this.ctx.getX6Graph();\n                const { nodeId } = handlerArgs;\n                const x6Node = x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.getCellById(nodeId);\n                if (!x6Node) {\n                    console.error(nodeId, \'this nodeId is not exist\');\n                }\n                else {\n                    x6Node.toBack();\n                    /** backNode undo */\n                    this.ctx.addUndo(Disposable.create(() => node_back_awaiter(this, void 0, void 0, function* () {\n                        handlerArgs.commandService.executeCommand(XFlowNodeCommands.FRONT_NODE.id, {\n                            nodeId,\n                        });\n                    })));\n                }\n                return {};\n            }), runtimeHook);\n            this.ctx.setResult(result);\n            return this;\n        });\n        this.undo = () => node_back_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        this.redo = () => node_back_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\nnode_back_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    node_back_metadata("design:type", Object)\n], node_back_BackNodeCommand.prototype, "contextProvider", void 0);\nnode_back_decorate([\n    Object(index_esm["postConstruct"])(),\n    node_back_metadata("design:type", Function),\n    node_back_metadata("design:paramtypes", []),\n    node_back_metadata("design:returntype", void 0)\n], node_back_BackNodeCommand.prototype, "init", null);\nnode_back_BackNodeCommand = node_back_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: node_back_NsBackNode.command.id },\n    })\n    /** \u8282\u70b9\u524d\u7f6e\u547d\u4ee4(\u59cb\u7ec8\u5728\u753b\u5e03\u6700\u524d\u65b9) */\n], node_back_BackNodeCommand);\n\n//# sourceMappingURL=node-back.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/node/node-highlight.js\nvar node_highlight_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar node_highlight_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar node_highlight_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nvar node_highlight_NsHighlightNode;\n(function (NsHighlightNode) {\n    NsHighlightNode.command = XFlowNodeCommands.HIGHLIGHT_NODE;\n    NsHighlightNode.hookKey = \'highlightNode\';\n})(node_highlight_NsHighlightNode || (node_highlight_NsHighlightNode = {}));\nlet node_highlight_HighlightNodeCommand = \n/** \u8282\u70b9\u9ad8\u4eae */\nclass HighlightNodeCommand {\n    constructor() {\n        this.execute = () => node_highlight_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.highlightNode.call(args, (handlerArgs) => node_highlight_awaiter(this, void 0, void 0, function* () {\n                const x6Graph = yield this.ctx.getX6Graph();\n                const { nodeId, stroke, strokeWidth } = handlerArgs;\n                const x6Node = x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.getCellById(nodeId);\n                if (!x6Node) {\n                    console.error(nodeId, \'this nodeId is not exist\');\n                    return { err: \'this nodeId is not exist\' };\n                }\n                else {\n                    /** \u9ad8\u4eae\u8282\u70b9 */\n                    x6Node === null || x6Node === void 0 ? void 0 : x6Node.setAttrs({\n                        body: {\n                            stroke: stroke || \'#7c68fc\',\n                            strokeWidth: strokeWidth || 2,\n                        },\n                    });\n                    /** \u8282\u70b9\u5173\u8054\u7684\u8fde\u7ebf, \u8054\u52a8\u9ad8\u4eae */\n                    if (handlerArgs === null || handlerArgs === void 0 ? void 0 : handlerArgs.isHighlightRelatedLines) {\n                        const { edgeStroke, edgeStrokeWidth } = handlerArgs;\n                        const allEdges = x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.getEdges();\n                        allEdges.forEach((x6Edge) => {\n                            const x6EdgeData = x6Edge === null || x6Edge === void 0 ? void 0 : x6Edge.getData();\n                            handlerArgs === null || handlerArgs === void 0 ? void 0 : handlerArgs.commandService.executeCommand(XFlowEdgeCommands.HIGHLIGHT_EDGE.id, {\n                                edgeId: x6EdgeData === null || x6EdgeData === void 0 ? void 0 : x6EdgeData.id,\n                                stroke: edgeStroke,\n                                strokeWidth: edgeStrokeWidth,\n                            });\n                        });\n                    }\n                }\n                return { err: null };\n            }), runtimeHook);\n            this.ctx.setResult(result);\n            return this;\n        });\n        this.undo = () => node_highlight_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        this.redo = () => node_highlight_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\nnode_highlight_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    node_highlight_metadata("design:type", Object)\n], node_highlight_HighlightNodeCommand.prototype, "contextProvider", void 0);\nnode_highlight_decorate([\n    Object(index_esm["postConstruct"])(),\n    node_highlight_metadata("design:type", Function),\n    node_highlight_metadata("design:paramtypes", []),\n    node_highlight_metadata("design:returntype", void 0)\n], node_highlight_HighlightNodeCommand.prototype, "init", null);\nnode_highlight_HighlightNodeCommand = node_highlight_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: node_highlight_NsHighlightNode.command.id },\n    })\n    /** \u8282\u70b9\u9ad8\u4eae */\n], node_highlight_HighlightNodeCommand);\n\n//# sourceMappingURL=node-highlight.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/node/index.js\n/** commands */\n\n\n\n\n\n\n\n\n\n/** \u6ce8\u518cCommand Handler Class */\nconst registerNodeCommand = (register) => {\n    register(node_add_AddNodeCommand);\n    register(node_del_DelNodeCommand);\n    register(node_select_SelectNodeCommand);\n    register(node_move_MoveNodeCommand);\n    register(node_update_UpdateNodeCommand);\n    register(CenterNodeCommand);\n    register(node_front_FrontNodeCommand);\n    register(node_back_BackNodeCommand);\n    register(node_highlight_HighlightNodeCommand);\n};\n/** app onStart \u65f6, \u6ce8\u518c Command Hooks */\nconst hookhubList = [\n    node_add_NsAddNode,\n    node_del_NsDelNode,\n    node_select_NsSelectNode,\n    node_move_NsMoveNode,\n    node_update_NsUpdateNode,\n    node_center_NsCenterNode,\n    node_front_NsFrontNode,\n    node_back_NsBackNode,\n    node_highlight_NsHighlightNode,\n];\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-meta.js\nvar graph_meta_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_meta_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_meta_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar graph_meta_NsGraphMeta;\n(function (NsGraphMeta) {\n    /** Command Id: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsGraphMeta.command = XFlowGraphCommands.LOAD_META;\n    /** hookName */\n    NsGraphMeta.hookKey = \'graphMeta\';\n})(graph_meta_NsGraphMeta || (graph_meta_NsGraphMeta = {}));\nlet graph_meta_GraphMetaCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass GraphMetaCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => graph_meta_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.graphMeta.call(\n            /** \u6267\u884chooks pipeline\u5904\u7406args */\n            args, \n            /** \u6267\u884c callback */\n            (handlerArgs) => graph_meta_awaiter(this, void 0, void 0, function* () {\n                var _a;\n                const { graphMetaService } = handlerArgs;\n                const meta = graphMetaService\n                    ? yield graphMetaService(handlerArgs)\n                    : { flowId: (_a = handlerArgs === null || handlerArgs === void 0 ? void 0 : handlerArgs.meta) === null || _a === void 0 ? void 0 : _a.flowId };\n                return { graphMeta: meta, flowId: meta === null || meta === void 0 ? void 0 : meta.flowId };\n            }), \n            /** \u5916\u90e8\u7684 hook */\n            runtimeHook);\n            const modelService = this.ctx.getModelService();\n            /** \u5982\u679c\u5df2\u7ecf\u6ce8\u518c\uff0c\u76f4\u63a5\u66f4\u65b0\u5df2\u6709\u7684\u503c */\n            const model = yield model_service_constant_namespaceObject.GRAPH_META.getModel(modelService);\n            model.setValue(result.graphMeta);\n            /** \u8bbe\u7f6e\u7ed3\u679c */\n            this.ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => graph_meta_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => graph_meta_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    /** isUndoable */\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\ngraph_meta_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_meta_metadata("design:type", Object)\n], graph_meta_GraphMetaCommand.prototype, "contextProvider", void 0);\ngraph_meta_decorate([\n    Object(index_esm["postConstruct"])(),\n    graph_meta_metadata("design:type", Function),\n    graph_meta_metadata("design:paramtypes", []),\n    graph_meta_metadata("design:returntype", void 0)\n], graph_meta_GraphMetaCommand.prototype, "init", null);\ngraph_meta_GraphMetaCommand = graph_meta_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_meta_NsGraphMeta.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], graph_meta_GraphMetaCommand);\n\n//# sourceMappingURL=graph-meta.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-save-data.js\nvar graph_save_data_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_save_data_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_save_data_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar graph_save_data_NsGraphSaveData;\n(function (NsGraphSaveData) {\n    /** Command Id: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsGraphSaveData.command = XFlowGraphCommands.SAVE_GRAPH_DATA;\n    /** hookName */\n    NsGraphSaveData.hookKey = \'saveGrpahData\';\n})(graph_save_data_NsGraphSaveData || (graph_save_data_NsGraphSaveData = {}));\nlet graph_save_data_GraphSaveDataCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass GraphSaveDataCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => graph_save_data_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.ctx;\n            const args = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            /** \u6267\u884chooks */\n            yield hooks.saveGrpahData.call(\n            /** \u6267\u884chooks pipeline\u5904\u7406args */\n            args.args, \n            /** \u6267\u884c callback */\n            (handlerArgs) => graph_save_data_awaiter(this, void 0, void 0, function* () {\n                const { saveGraphDataService, includeAttrs } = handlerArgs;\n                const x6Graph = yield ctx.getX6Graph();\n                const x6Nodes = x6Graph.getNodes();\n                const x6Edges = x6Graph.getEdges();\n                const nodes = x6Nodes.map(node => {\n                    const data = node.getData();\n                    const position = node.position();\n                    const size = node.size();\n                    const model = Object.assign(Object.assign(Object.assign({ id: node.id }, data), position), size);\n                    if (includeAttrs) {\n                        model.attrs = node.getAttrs();\n                    }\n                    return model;\n                });\n                const edges = x6Edges.map(edge => {\n                    const data = edge.getData();\n                    const model = Object.assign({ id: edge.id }, data);\n                    if (includeAttrs) {\n                        model.attrs = edge.getAttrs();\n                    }\n                    return model;\n                });\n                const graphData = { nodes, edges };\n                const graphMeta = yield model_service_constant_namespaceObject.GRAPH_META.useValue(ctx.getModelService());\n                /** \u6267\u884c service */\n                if (saveGraphDataService) {\n                    const result = yield saveGraphDataService(graphMeta, graphData);\n                    /** \u8bbe\u7f6e\u7ed3\u679c */\n                    if (result) {\n                        this.ctx.setResult(result);\n                    }\n                }\n                return {};\n            }), \n            /** \u5916\u90e8\u7684 hook */\n            args.hooks);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => graph_save_data_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => graph_save_data_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    /** isUndoable */\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\ngraph_save_data_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_save_data_metadata("design:type", Object)\n], graph_save_data_GraphSaveDataCommand.prototype, "contextProvider", void 0);\ngraph_save_data_decorate([\n    Object(index_esm["postConstruct"])(),\n    graph_save_data_metadata("design:type", Function),\n    graph_save_data_metadata("design:paramtypes", []),\n    graph_save_data_metadata("design:returntype", void 0)\n], graph_save_data_GraphSaveDataCommand.prototype, "init", null);\ngraph_save_data_GraphSaveDataCommand = graph_save_data_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_save_data_NsGraphSaveData.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], graph_save_data_GraphSaveDataCommand);\n\n//# sourceMappingURL=graph-save-data.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-load-data.js\nvar graph_load_data_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_load_data_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_load_data_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n/** \u4ece\u670d\u52a1\u7aef\u83b7\u53d6\u753b\u5e03\u6570\u636e\u547d\u4ee4 */\nvar graph_load_data_NsGraphLoadData;\n(function (NsGraphLoadData) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsGraphLoadData.command = XFlowGraphCommands.LOAD_DATA;\n    /** hookName */\n    NsGraphLoadData.hookKey = \'loadData\';\n    NsGraphLoadData.createHook = () => {\n        return new es_HookHub();\n    };\n})(graph_load_data_NsGraphLoadData || (graph_load_data_NsGraphLoadData = {}));\nlet GraphLoadDataCommand = \n/** \u753b\u5e03\u6570\u636e\u83b7\u53d6\u547d\u4ee4 */\nclass GraphLoadDataCommand {\n    constructor() {\n        /** \u6267\u884ccmd */\n        this.execute = () => graph_load_data_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.loadData.call(args, (handlerArgs) => graph_load_data_awaiter(this, void 0, void 0, function* () {\n                const { loadDataService, graphMeta } = handlerArgs;\n                const graphData = yield loadDataService(graphMeta);\n                return { graphData };\n            }), runtimeHook);\n            /** \u8bbe\u7f6e\u7ed3\u679c */\n            this.ctx.setResult(result);\n            return this;\n        });\n        this.undo = () => graph_load_data_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        this.redo = () => graph_load_data_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\ngraph_load_data_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_load_data_metadata("design:type", Object)\n], GraphLoadDataCommand.prototype, "contextProvider", void 0);\ngraph_load_data_decorate([\n    Object(index_esm["postConstruct"])(),\n    graph_load_data_metadata("design:type", Function),\n    graph_load_data_metadata("design:paramtypes", []),\n    graph_load_data_metadata("design:returntype", void 0)\n], GraphLoadDataCommand.prototype, "init", null);\nGraphLoadDataCommand = graph_load_data_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_load_data_NsGraphLoadData.command.id },\n    })\n    /** \u753b\u5e03\u6570\u636e\u83b7\u53d6\u547d\u4ee4 */\n], GraphLoadDataCommand);\n\n//# sourceMappingURL=graph-load-data.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@antv/layout/es/index.js + 62 modules\nvar layout_es = __webpack_require__("8e6g");\n\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-layout.js\nvar graph_layout_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_layout_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_layout_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n/** \u753b\u5e03\u56fe\u6570\u636e\u6267\u884c\u5e03\u5c40\u7b97\u6cd5\u547d\u4ee4 */\nvar graph_layout_NsGraphLayout;\n(function (NsGraphLayout) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsGraphLayout.command = XFlowGraphCommands.GRAPH_LAYOUT;\n    /** hookName */\n    NsGraphLayout.hookKey = \'graphLayout\';\n})(graph_layout_NsGraphLayout || (graph_layout_NsGraphLayout = {}));\nlet graph_layout_GraphLayoutCommand = \n/** \u753b\u5e03\u5e03\u5c40\u547d\u4ee4 */\nclass GraphLayoutCommand {\n    constructor() {\n        /** \u6267\u884ccmd */\n        this.execute = () => graph_layout_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.graphLayout.call(args, (handlerArgs) => graph_layout_awaiter(this, void 0, void 0, function* () {\n                const { layoutType, layoutOptions, customLayout } = handlerArgs;\n                /** XFlow\u5185\u7f6eAntV\u901a\u7528\u5e03\u5c40 */\n                const innerLayout = (graphData) => {\n                    const AntVLayout = layout_es["a" /* Registy */].getLayoutByName(layoutType);\n                    const antVLayout = new AntVLayout(layoutOptions);\n                    return antVLayout.layout(graphData);\n                };\n                const layoutFunc = customLayout || innerLayout;\n                yield layoutFunc(handlerArgs.graphData);\n                return { graphData: handlerArgs.graphData };\n            }), runtimeHook);\n            /** \u8bbe\u7f6e\u7ed3\u679c */\n            this.ctx.setResult(result);\n            return this;\n        });\n        this.undo = () => graph_layout_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        this.redo = () => graph_layout_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\ngraph_layout_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_layout_metadata("design:type", Object)\n], graph_layout_GraphLayoutCommand.prototype, "contextProvider", void 0);\ngraph_layout_decorate([\n    Object(index_esm["postConstruct"])(),\n    graph_layout_metadata("design:type", Function),\n    graph_layout_metadata("design:paramtypes", []),\n    graph_layout_metadata("design:returntype", void 0)\n], graph_layout_GraphLayoutCommand.prototype, "init", null);\ngraph_layout_GraphLayoutCommand = graph_layout_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_layout_NsGraphLayout.command.id },\n    })\n    /** \u753b\u5e03\u5e03\u5c40\u547d\u4ee4 */\n], graph_layout_GraphLayoutCommand);\n\n//# sourceMappingURL=graph-layout.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/lodash/lodash.js\nvar lodash = __webpack_require__("nsO7");\n\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-render.js\nvar graph_render_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_render_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_render_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar graph_render_NsGraphUtils;\n(function (NsGraphUtils) {\n    function isNodeEqual(curNodeConfig, nextNodeConfig) {\n        /** XFlow\u9ed8\u8ba4\u7684\u5224\u65ad\u8282\u70b9\u662f\u5426\u76f8\u7b49\u7684\u903b\u8f91 */\n        return Object(lodash["isEqual"])(curNodeConfig, nextNodeConfig);\n    }\n    NsGraphUtils.isNodeEqual = isNodeEqual;\n    function isEdgeEqual(curEdgeConfig, nextEdgeConfig) {\n        /** XFlow\u9ed8\u8ba4\u7684\u5224\u65ad\u8fb9\u662f\u5426\u76f8\u7b49\u7684\u903b\u8f91 */\n        return Object(lodash["isEqual"])(curEdgeConfig, nextEdgeConfig);\n    }\n    NsGraphUtils.isEdgeEqual = isEdgeEqual;\n})(graph_render_NsGraphUtils || (graph_render_NsGraphUtils = {}));\nvar graph_render_NsGraphRender;\n(function (NsGraphRender) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsGraphRender.command = XFlowGraphCommands.GRAPH_RENDER;\n    /** hookName */\n    NsGraphRender.hookKey = \'graphRender\';\n})(graph_render_NsGraphRender || (graph_render_NsGraphRender = {}));\nlet graph_render_GraphRenderCommand = \n/** \u753b\u5e03\u6e32\u67d3\u547d\u4ee4 */\nclass GraphRenderCommand {\n    constructor() {\n        this.execute = () => graph_render_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.graphRender.call(args, (handlerArgs) => graph_render_awaiter(this, void 0, void 0, function* () {\n                const x6Graph = yield this.ctx.getX6Graph();\n                const { graphMeta, beforeRender, graphData, isNodeEqual, isEdgeEqual, afterRender } = handlerArgs;\n                /** \u5982\u679c\u7528\u6237\u81ea\u5b9a\u4e49beforeRender\u65b9\u6cd5 */\n                beforeRender && beforeRender(graphMeta);\n                yield this.doLoadGraph(x6Graph, graphData, isNodeEqual, isEdgeEqual);\n                /** \u5982\u679c\u7528\u6237\u81ea\u5b9a\u4e49afterRender\u65b9\u6cd5 */\n                afterRender && afterRender(graphData, graphMeta);\n                return {};\n            }), runtimeHook);\n            /** \u8bbe\u7f6e\u7ed3\u679c */\n            this.ctx.setResult(result);\n            return this;\n        });\n        this.undo = () => graph_render_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        this.redo = () => graph_render_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n        this.doLoadGraph = (x6Graph, graphData, isNodeEqual, isEdgeEqual) => graph_render_awaiter(this, void 0, void 0, function* () {\n            if (!(x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.isFrozen())) {\n                x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.freeze();\n            }\n            const commandService = this.ctx.getCommands();\n            const { addNodeConfigs, addEdgeConfigs, \n            // retainNodes,\n            // retainEdges,\n            removeNodes, removeEdges, updateNodes, updateEdges, } = this.graphDataDiff(x6Graph, graphData, isNodeEqual, isEdgeEqual);\n            /** \u65b0\u589e\u8282\u70b9/\u8fb9 */\n            for (const nodeConfig of addNodeConfigs) {\n                yield commandService.executeCommand(XFlowNodeCommands.ADD_NODE.id, {\n                    nodeConfig,\n                }, {\n                    name: \'remove servcie \',\n                    handler: (args) => graph_render_awaiter(this, void 0, void 0, function* () {\n                        delete args.createNodeService;\n                    }),\n                });\n            }\n            yield commandService.executeCommand(XFlowGroupCommands.INIT_GROUP.id, {\n                graphData: { nodes: addNodeConfigs, edges: [] },\n            });\n            for (const edgeConfig of addEdgeConfigs) {\n                yield commandService.executeCommand(XFlowEdgeCommands.ADD_EDGE.id, {\n                    edgeConfig,\n                }, {\n                    name: \'remove servcie \',\n                    handler: (args) => graph_render_awaiter(this, void 0, void 0, function* () {\n                        delete args.createEdgeService;\n                    }),\n                });\n            }\n            /** \u5220\u9664\u8282\u70b9/\u8fb9/\u7fa4\u7ec4 */\n            for (const removeNode of removeNodes) {\n                const nodeData = removeNode === null || removeNode === void 0 ? void 0 : removeNode.getData();\n                if (nodeData.isGroup) {\n                    yield commandService.executeCommand(XFlowGroupCommands.DEL_GROUP.id, {\n                        nodeConfig: nodeData,\n                    });\n                }\n                else {\n                    yield commandService.executeCommand(XFlowNodeCommands.DEL_NODE.id, { nodeConfig: nodeData });\n                }\n            }\n            for (const removeEdge of removeEdges) {\n                const edgeData = removeEdge === null || removeEdge === void 0 ? void 0 : removeEdge.getData();\n                yield commandService.executeCommand(XFlowEdgeCommands.DEL_EDGE.id, { edgeConfig: edgeData });\n            }\n            /** \u66f4\u65b0\u8282\u70b9/\u8fb9 */\n            for (const updateNode of updateNodes) {\n                const nodeData = updateNode === null || updateNode === void 0 ? void 0 : updateNode.getData();\n                yield commandService.executeCommand(XFlowNodeCommands.UPDATE_NODE.id, {\n                    nodeConfig: nodeData,\n                });\n            }\n            for (const updateEdge of updateEdges) {\n                const edgeData = updateEdge === null || updateEdge === void 0 ? void 0 : updateEdge.getData();\n                yield commandService.executeCommand(XFlowEdgeCommands.UPDATE_EDGE.id, {\n                    edgeConfig: edgeData,\n                });\n            }\n            if (x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.isFrozen()) {\n                x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.unfreeze();\n            }\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n    /**\n     * \u753b\u5e03\u5185\u5bb9Diff\n     * @param x6Graph x6\u753b\u5e03\u5b9e\u4f8b\n     * @param graphData \u753b\u5e03\u6570\u636e\n     * @param isNodeEqual \u5141\u8bb8\u7528\u6237\u81ea\u5b9a\u4e49\u5224\u65ad\u8282\u70b9\u662f\u5426\u76f8\u7b49\n     * @param isEdgeEqual \u5141\u8bb8\u7528\u6237\u81ea\u5b9a\u4e49\u5224\u65ad\u8fb9\u662f\u5426\u76f8\u7b49\n     */\n    graphDataDiff(x6Graph, graphData, isNodeEqual, isEdgeEqual) {\n        const { nodes: nodeConfigs, edges: edgeConfigs } = graphData;\n        /** \u65b0\u589e\u8282\u70b9\u6570\u636e */\n        const addNodeConfigs = [];\n        nodeConfigs.forEach(nodeConfig => {\n            const findNode = x6Graph.getCellById(nodeConfig === null || nodeConfig === void 0 ? void 0 : nodeConfig.id);\n            if (!findNode) {\n                addNodeConfigs.push(nodeConfig);\n            }\n        });\n        /** \u4fdd\u6301\u3001\u66f4\u65b0\u3001\u79fb\u9664\u8282\u70b9 */\n        const retainNodes = [];\n        const updateNodes = [];\n        const removeNodes = [];\n        const allNodes = x6Graph.getNodes();\n        allNodes.forEach(x6Node => {\n            const findNodeConfig = nodeConfigs.find(nodeConfig => (nodeConfig === null || nodeConfig === void 0 ? void 0 : nodeConfig.id) === (x6Node === null || x6Node === void 0 ? void 0 : x6Node.id));\n            if (!findNodeConfig) {\n                removeNodes.push(x6Node);\n            }\n            else {\n                let judgeResult = true;\n                if (isNodeEqual) {\n                    /** \u5982\u679c\u7528\u6237\u81ea\u5b9a\u4e49\u8282\u70b9\u662f\u5426\u76f8\u7b49\u7684\u65b9\u6cd5 */\n                    judgeResult = isNodeEqual(x6Node === null || x6Node === void 0 ? void 0 : x6Node.data, findNodeConfig);\n                }\n                else {\n                    /** XFlow\u9ed8\u8ba4\u7684\u5224\u65ad\u8282\u70b9\u662f\u5426\u76f8\u7b49\u7684\u903b\u8f91 */\n                    if ((x6Node === null || x6Node === void 0 ? void 0 : x6Node.data) && findNodeConfig) {\n                        judgeResult = graph_render_NsGraphUtils.isNodeEqual(x6Node === null || x6Node === void 0 ? void 0 : x6Node.data, findNodeConfig);\n                    }\n                }\n                if (!judgeResult) {\n                    x6Node.setData(findNodeConfig);\n                }\n                judgeResult === true ? retainNodes.push(x6Node) : updateNodes.push(x6Node);\n            }\n        });\n        /** \u65b0\u589e\u8fb9\u6570\u636e */\n        const addEdgeConfigs = [];\n        edgeConfigs.forEach(edgeConfig => {\n            const findEdge = x6Graph.getCellById(edgeConfig === null || edgeConfig === void 0 ? void 0 : edgeConfig.id);\n            if (!findEdge) {\n                addEdgeConfigs.push(edgeConfig);\n            }\n        });\n        /** \u4fdd\u6301\u3001\u66f4\u65b0\u3001\u79fb\u9664\u8282\u70b9 */\n        const retainEdges = [];\n        const updateEdges = [];\n        const removeEdges = [];\n        const allEdges = x6Graph.getEdges();\n        allEdges.forEach(x6Edge => {\n            const findEdgeConfig = edgeConfigs.find(edgeConfig => (edgeConfig === null || edgeConfig === void 0 ? void 0 : edgeConfig.id) === (x6Edge === null || x6Edge === void 0 ? void 0 : x6Edge.id));\n            if (!findEdgeConfig) {\n                removeEdges.push(x6Edge);\n            }\n            else {\n                let judgeResult = true;\n                if (isEdgeEqual) {\n                    /** \u5982\u679c\u7528\u6237\u81ea\u5b9a\u4e49\u8fb9\u662f\u5426\u76f8\u7b49\u7684\u65b9\u6cd5 */\n                    judgeResult = isEdgeEqual(x6Edge === null || x6Edge === void 0 ? void 0 : x6Edge.data, findEdgeConfig);\n                }\n                else {\n                    /** XFlow\u9ed8\u8ba4\u7684\u5224\u65ad\u8fb9\u662f\u5426\u76f8\u7b49\u7684\u903b\u8f91 */\n                    if ((x6Edge === null || x6Edge === void 0 ? void 0 : x6Edge.data) && findEdgeConfig) {\n                        judgeResult = graph_render_NsGraphUtils.isEdgeEqual(x6Edge === null || x6Edge === void 0 ? void 0 : x6Edge.data, findEdgeConfig);\n                    }\n                }\n                if (!judgeResult) {\n                    x6Edge.setData(findEdgeConfig);\n                }\n                judgeResult === true ? retainEdges.push(x6Edge) : updateEdges.push(x6Edge);\n            }\n        });\n        return {\n            addNodeConfigs,\n            addEdgeConfigs,\n            retainNodes,\n            retainEdges,\n            removeNodes,\n            removeEdges,\n            updateNodes,\n            updateEdges,\n        };\n    }\n};\ngraph_render_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_render_metadata("design:type", Object)\n], graph_render_GraphRenderCommand.prototype, "contextProvider", void 0);\ngraph_render_decorate([\n    Object(index_esm["postConstruct"])(),\n    graph_render_metadata("design:type", Function),\n    graph_render_metadata("design:paramtypes", []),\n    graph_render_metadata("design:returntype", void 0)\n], graph_render_GraphRenderCommand.prototype, "init", null);\ngraph_render_GraphRenderCommand = graph_render_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_render_NsGraphRender.command.id },\n    })\n    /** \u753b\u5e03\u6e32\u67d3\u547d\u4ee4 */\n], graph_render_GraphRenderCommand);\n\n//# sourceMappingURL=graph-render.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-resize.js\nvar graph_resize_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_resize_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_resize_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nvar graph_resize_NsGraphResize;\n(function (NsGraphResize) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsGraphResize.command = XFlowGraphCommands.GRAPH_RESIZE;\n    /** hookName */\n    NsGraphResize.hookKey = \'graphResize\';\n})(graph_resize_NsGraphResize || (graph_resize_NsGraphResize = {}));\nlet GraphResizeCommand = \n/** \u753b\u5e03resize\u547d\u4ee4 */\nclass GraphResizeCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => graph_resize_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const config = yield this.ctx.getGraphConfig();\n            const clientHeight = config.rootContainer.clientHeight;\n            const clientWidth = config.rootContainer.clientWidth;\n            const result = yield hooks.graphResize.call(\n            /** \u6267\u884chooks pipeline\u5904\u7406args */\n            args, \n            /** \u6267\u884c callback */\n            (handlerArgs) => graph_resize_awaiter(this, void 0, void 0, function* () {\n                const x6Graph = yield this.ctx.getX6Graph();\n                const { width = clientWidth, height = clientHeight } = handlerArgs;\n                x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.resize(width, height);\n                return {};\n            }), \n            /** execute command \u65f6\u521b\u5efa\u7684hook */\n            runtimeHook);\n            /** \u8bbe\u7f6e\u7ed3\u679c */\n            this.ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => graph_resize_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => graph_resize_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    /** isUndoable */\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\ngraph_resize_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_resize_metadata("design:type", Object)\n], GraphResizeCommand.prototype, "contextProvider", void 0);\ngraph_resize_decorate([\n    Object(index_esm["postConstruct"])(),\n    graph_resize_metadata("design:type", Function),\n    graph_resize_metadata("design:paramtypes", []),\n    graph_resize_metadata("design:returntype", void 0)\n], GraphResizeCommand.prototype, "init", null);\nGraphResizeCommand = graph_resize_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_resize_NsGraphResize.command.id },\n    })\n    /** \u753b\u5e03resize\u547d\u4ee4 */\n], GraphResizeCommand);\n\n//# sourceMappingURL=graph-resize.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-zoom.js\nvar graph_zoom_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_zoom_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_zoom_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nvar graph_zoom_NsGraphZoom;\n(function (NsGraphZoom) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsGraphZoom.command = XFlowGraphCommands.GRAPH_ZOOM;\n    /** zoom options */\n    NsGraphZoom.MAX_SCALE = 1.5;\n    NsGraphZoom.MIN_SCALE = 0.05;\n    /** default zoom options */\n    NsGraphZoom.defaultZoomOptions = {\n        maxScale: NsGraphZoom.MAX_SCALE,\n        minScale: NsGraphZoom.MIN_SCALE,\n    };\n    /** hookName */\n    NsGraphZoom.hookKey = \'graphZoom\';\n})(graph_zoom_NsGraphZoom || (graph_zoom_NsGraphZoom = {}));\nlet GraphZoomCommand = \n/** \u753b\u5e03\u7f29\u653e\u547d\u4ee4 */\nclass GraphZoomCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => graph_zoom_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.graphZoom.call(\n            /** \u6267\u884chooks pipeline\u5904\u7406args */\n            args, \n            /** \u6267\u884c callback */\n            (handlerArgs) => graph_zoom_awaiter(this, void 0, void 0, function* () {\n                const x6Graph = yield this.ctx.getX6Graph();\n                const { factor, zoomFitPadding = 12, zoomOptions = graph_zoom_NsGraphZoom.defaultZoomOptions, } = handlerArgs;\n                if (typeof factor === \'number\') {\n                    x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.zoom(factor, zoomOptions || {});\n                }\n                else if (factor === \'fit\') {\n                    x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.zoomToFit(Object.assign(Object.assign({}, zoomOptions), { padding: zoomFitPadding }));\n                }\n                else if (factor === \'real\') {\n                    x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.scale(1);\n                    x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.centerContent();\n                }\n                return { factor, zoomFitPadding, zoomOptions };\n            }), \n            /** execute command \u65f6\u521b\u5efa\u7684hook */\n            runtimeHook);\n            /** \u8bbe\u7f6e\u7ed3\u679c */\n            this.ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => graph_zoom_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => graph_zoom_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    /** isUndoable */\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\ngraph_zoom_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_zoom_metadata("design:type", Object)\n], GraphZoomCommand.prototype, "contextProvider", void 0);\ngraph_zoom_decorate([\n    Object(index_esm["postConstruct"])(),\n    graph_zoom_metadata("design:type", Function),\n    graph_zoom_metadata("design:paramtypes", []),\n    graph_zoom_metadata("design:returntype", void 0)\n], GraphZoomCommand.prototype, "init", null);\nGraphZoomCommand = graph_zoom_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_zoom_NsGraphZoom.command.id },\n    })\n    /** \u753b\u5e03\u7f29\u653e\u547d\u4ee4 */\n], GraphZoomCommand);\n\n//# sourceMappingURL=graph-zoom.js.map\n// CONCATENATED MODULE: ../xflow-core/es/common/graph-utils.js\nconst node2Json = (cell) => {\n    const children = cell.getChildren();\n    const size = cell.getSize();\n    const data = cell.getData() || {};\n    const position = cell.getPosition();\n    const groupId = cell.getParentId();\n    const { isCollapsed } = data;\n    const groupCollapsedSize = data.groupCollapsedSize || (isCollapsed ? size : null);\n    return Object.assign(Object.assign({}, data), { id: cell.id, width: size.width, height: size.height, x: position.x, y: position.y, group: groupId, groupChildren: children ? children.map(child => child.id) : null, groupCollapsedSize });\n};\nconst edge2Json = (cell) => {\n    const data = cell.getData() || {};\n    return Object.assign({ id: cell.id }, data);\n};\nconst cellsToJson = (cells) => {\n    const nodes = [];\n    const edges = [];\n    const cell2Json = (cell) => {\n        if (cell.isNode()) {\n            nodes.push(node2Json(cell));\n        }\n        if (cell.isEdge()) {\n            edges.push(edge2Json(cell));\n        }\n    };\n    cells.map(cell => {\n        return cell2Json(cell);\n    });\n    return {\n        nodes,\n        edges,\n    };\n};\n//# sourceMappingURL=graph-utils.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-copy.js\nvar graph_copy_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_copy_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_copy_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\nvar graph_copy_NsGraphCopySelection;\n(function (NsGraphCopySelection) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsGraphCopySelection.command = XFlowGraphCommands.GRAPH_COPY;\n    /** hookName */\n    NsGraphCopySelection.hookKey = \'graphCopySelection\';\n})(graph_copy_NsGraphCopySelection || (graph_copy_NsGraphCopySelection = {}));\nlet graph_copy_GraphCopySelectionCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass GraphCopySelectionCommand {\n    constructor() {\n        this.parseCells = (cells) => {\n            // if groupNode add its group children\n            cells.forEach(cell => {\n                const data = cell.getData();\n                if (cell.isNode() && data.isGroup) {\n                    const children = cell.getChildren();\n                    children.forEach(child => {\n                        cells.push(child);\n                    });\n                }\n            });\n            // filter edges target not in selections\n            const nodeIds = cells.filter(cell => cell.isNode()).map(cell => cell.id);\n            const map = cells.reduce((acc, cell) => {\n                if (cell.isEdge()) {\n                    const source = cell.getSourceCellId();\n                    const target = cell.getTargetCellId();\n                    if (source && target) {\n                        if (nodeIds.includes(source) && nodeIds.includes(target)) {\n                            acc.set(cell.id, cell);\n                        }\n                    }\n                }\n                else {\n                    acc.set(cell.id, cell);\n                }\n                return acc;\n            }, new Map());\n            const uniqeList = Array.from(map.values());\n            return cellsToJson(uniqeList);\n        };\n        /** \u6267\u884cCmd */\n        this.execute = () => graph_copy_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            const result = yield hooks.graphCopySelection.call(args, () => graph_copy_awaiter(this, void 0, void 0, function* () {\n                const graph = yield ctx.getX6Graph();\n                const cells = graph.getSelectedCells();\n                // \u5904\u7406 Group cells/\u8fc7\u6ee4\u65e0\u6548\u7684edges\n                const jsonObject = this.parseCells(cells);\n                const oldJsonString = window.localStorage.getItem(LOCAL_STORAGE_KEY);\n                // \u5199cache\n                window.localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(jsonObject));\n                // undo \u5199cache\n                ctx.addUndo(Disposable.create(() => graph_copy_awaiter(this, void 0, void 0, function* () {\n                    window.localStorage.setItem(LOCAL_STORAGE_KEY, oldJsonString);\n                })));\n                return { err: null };\n            }), runtimeHook);\n            ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => graph_copy_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            if (this.isUndoable()) {\n                ctx.undo();\n            }\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => graph_copy_awaiter(this, void 0, void 0, function* () {\n            if (!this.isUndoable()) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    isUndoable() {\n        const ctx = this.contextProvider();\n        return ctx.isUndoable();\n    }\n};\ngraph_copy_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_copy_metadata("design:type", Object)\n], graph_copy_GraphCopySelectionCommand.prototype, "contextProvider", void 0);\ngraph_copy_GraphCopySelectionCommand = graph_copy_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_copy_NsGraphCopySelection.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], graph_copy_GraphCopySelectionCommand);\n\n//# sourceMappingURL=graph-copy.js.map\n// CONCATENATED MODULE: ../xflow-core/es/common/safe-json.js\n// safe json\nfunction safeJson(jsonStr, defaultValue = null) {\n    try {\n        const obj = JSON.parse(jsonStr);\n        return obj || defaultValue;\n    }\n    catch (error) {\n        console.error(error);\n        return defaultValue;\n    }\n}\n//# sourceMappingURL=safe-json.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/mapping-service.js\nvar mapping_service_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nlet GraphMappingHelper = class GraphMappingHelper {\n    constructor() {\n        this.groupNodeMap = new Map();\n        // node \u7684 mapping\n        this.nodeMap = new Map();\n        this.nodeMappingRecord = new Map();\n        // port \u7684 mapping\n        this.portMap = new Map();\n        this.portMappingRecord = new Map();\n        // edge \u7684 mapping\n        this.edgeMap = new Map();\n        this.edgeMappingRecord = new Map();\n        // \u533a\u5206\u7c7b\u578b\n        this.getNodesByType = (nodes) => {\n            return nodes.reduce((acc, node) => {\n                if (node.isGroup) {\n                    acc.groupNodes.push(node);\n                }\n                else {\n                    acc.normalNodes.push(node);\n                }\n                return acc;\n            }, { normalNodes: [], groupNodes: [] });\n        };\n        // \u589e\u52a0\u5df2\u6709\u8282\u70b9\n        this.getNodePorts = (node) => {\n            if (Array.isArray(node.ports)) {\n                return node.ports;\n            }\n            if (node.ports && Array.isArray(node.ports.items)) {\n                return node.ports.items;\n            }\n            return [];\n        };\n        // \u589e\u52a0\u5df2\u6709\u8282\u70b9\n        this.addNodes = (nodes) => {\n            nodes.forEach(node => {\n                if (node.isGroup) {\n                    this.groupNodeMap.set(node.id, node);\n                }\n                else {\n                    const ports = this.getNodePorts(node);\n                    this.nodeMap.set(node.id, node);\n                    ports.forEach(port => {\n                        this.portMap.set(port.id, port);\n                    });\n                }\n            });\n        };\n        // \u589e\u52a0\u5df2\u6709edge\n        this.addEdge = (edges) => {\n            edges.forEach(edge => {\n                this.edgeMap.set(edge.id, edge);\n            });\n        };\n        // \u6dfb\u52a0node\u7684\u6620\u5c04\u5173\u7cfb\n        this.buildNodeMapping = (currentNode, nextNode) => {\n            const currentNodeId = currentNode.id || currentNode.originId;\n            const nextNodeId = nextNode.id;\n            this.nodeMappingRecord.set(currentNodeId, nextNodeId);\n            const ports = this.getNodePorts(currentNode);\n            ports.forEach((oldPort, index) => {\n                const newPort = nextNode.ports[index];\n                if (newPort) {\n                    this.portMap.set(newPort.id, newPort);\n                    this.portMappingRecord.set(oldPort.id, newPort.id);\n                }\n            });\n        };\n        // \u66f4\u65b0Edge\u7684NodeId\u548cPortId\n        this.createEdgeBetweenNodes = (edgeConfig) => {\n            const { source, sourcePortId, target, targetPortId } = edgeConfig;\n            return Object.assign(Object.assign({}, edgeConfig), { source: this.nodeMappingRecord.get(source), target: this.nodeMappingRecord.get(target), sourcePortId: this.portMappingRecord.get(sourcePortId), targetPortId: this.portMappingRecord.get(targetPortId) });\n        };\n        // \u66f4\u65b0GroupNode\u7684NodeId\n        this.buildGroupRelations = (groupNode) => {\n            const { groupChildren } = groupNode;\n            const newGroupChildren = groupChildren.map(id => {\n                return this.nodeMappingRecord.get(id);\n            });\n            return Object.assign(Object.assign({}, groupNode), { groupChildren: newGroupChildren });\n        };\n    }\n};\nGraphMappingHelper = mapping_service_decorate([\n    Object(index_esm["injectable"])()\n], GraphMappingHelper);\n\n//# sourceMappingURL=mapping-service.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-paste.js\nvar graph_paste_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_paste_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_paste_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar GraphPasteSelectionCommand_1;\n\n\n\n\n\n\n\nvar graph_paste_NsGraphPasteSelection;\n(function (NsGraphPasteSelection) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsGraphPasteSelection.command = XFlowGraphCommands.GRAPH_PASTE;\n    /** hookName */\n    NsGraphPasteSelection.hookKey = \'graphPasteSelection\';\n})(graph_paste_NsGraphPasteSelection || (graph_paste_NsGraphPasteSelection = {}));\nfunction randomNumber(max, min = 0) {\n    return Math.floor(Math.random() * (max - min) + min);\n}\nlet graph_paste_GraphPasteSelectionCommand = GraphPasteSelectionCommand_1 = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass GraphPasteSelectionCommand {\n    constructor() {\n        this.updateNodeCopiedProps = (position, nodeConfig) => {\n            let dx = randomNumber(100);\n            let dy = randomNumber(100);\n            if (position) {\n                dx = nodeConfig.x - position.x + randomNumber(30);\n                dy = nodeConfig.y - position.y + randomNumber(30);\n            }\n            // \u4fee\u6539\u5750\u6807\n            nodeConfig.x += dx;\n            nodeConfig.y += dy;\n            // \u5220\u9664 id\n            nodeConfig.originId = nodeConfig.id;\n            delete nodeConfig.id;\n            // \u4fee\u6539label\n            nodeConfig.label = `${nodeConfig.label}_copied`;\n            nodeConfig.isCollapsed = false;\n            return nodeConfig;\n        };\n        /** \u6267\u884cCmd */\n        this.execute = () => graph_paste_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            if (GraphPasteSelectionCommand_1.doing) {\n                return this;\n            }\n            GraphPasteSelectionCommand_1.doing = true;\n            const result = yield hooks.graphPasteSelection.call(args, (handlerArgs) => graph_paste_awaiter(this, void 0, void 0, function* () {\n                const { commandService, position } = handlerArgs;\n                const jsonString = window.localStorage.getItem(LOCAL_STORAGE_KEY);\n                const plainObject = safeJson(jsonString, {\n                    nodes: [],\n                    edges: [],\n                });\n                const { nodes = [], edges = [] } = plainObject;\n                const { normalNodes, groupNodes } = this.mappingHelper.getNodesByType(nodes);\n                this.mappingHelper.addNodes(nodes);\n                // \u6dfb\u52a0\u666e\u901a\u8282\u70b9\n                yield Promise.all(normalNodes.map((nodeConfig) => graph_paste_awaiter(this, void 0, void 0, function* () {\n                    const res = yield commandService.executeCommand(XFlowNodeCommands.ADD_NODE.id, {\n                        nodeConfig: this.updateNodeCopiedProps(position, nodeConfig),\n                    });\n                    const context = res.contextProvider();\n                    const cmdResult = context.getResult();\n                    this.mappingHelper.buildNodeMapping(nodeConfig, cmdResult.nodeConfig);\n                })));\n                // \u5904\u7406group\n                yield Promise.all(groupNodes.map((group) => graph_paste_awaiter(this, void 0, void 0, function* () {\n                    const groupNodeConfig = this.mappingHelper.buildGroupRelations(group);\n                    yield commandService.executeCommand(XFlowGroupCommands.ADD_GROUP.id, {\n                        nodeConfig: this.updateNodeCopiedProps(position, groupNodeConfig),\n                    });\n                })));\n                // \u5904\u7406\u8fde\u7ebf\n                yield Promise.all(edges.map(edgeConfig => {\n                    const newEdge = this.mappingHelper.createEdgeBetweenNodes(edgeConfig);\n                    return commandService.executeCommand(XFlowEdgeCommands.ADD_EDGE.id, {\n                        edgeConfig: newEdge,\n                    });\n                }));\n                ctx.addUndo(Disposable.create(() => graph_paste_awaiter(this, void 0, void 0, function* () {\n                    window.localStorage.setItem(LOCAL_STORAGE_KEY, null);\n                })));\n                return { err: null };\n            }), runtimeHook);\n            ctx.setResult(result);\n            GraphPasteSelectionCommand_1.doing = false;\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => graph_paste_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            if (this.isUndoable()) {\n                ctx.undo();\n            }\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => graph_paste_awaiter(this, void 0, void 0, function* () {\n            if (!this.isUndoable()) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    isUndoable() {\n        const ctx = this.contextProvider();\n        return ctx.isUndoable();\n    }\n};\n/** \u9632\u6b62\u591a\u6b21\u6267\u884c */\ngraph_paste_GraphPasteSelectionCommand.doing = false;\ngraph_paste_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_paste_metadata("design:type", Object)\n], graph_paste_GraphPasteSelectionCommand.prototype, "contextProvider", void 0);\ngraph_paste_decorate([\n    Object(index_esm["inject"])(GraphMappingHelper),\n    graph_paste_metadata("design:type", GraphMappingHelper)\n], graph_paste_GraphPasteSelectionCommand.prototype, "mappingHelper", void 0);\ngraph_paste_GraphPasteSelectionCommand = GraphPasteSelectionCommand_1 = graph_paste_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_paste_NsGraphPasteSelection.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], graph_paste_GraphPasteSelectionCommand);\n\n//# sourceMappingURL=graph-paste.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-toggle-multi-select.js\nvar graph_toggle_multi_select_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_toggle_multi_select_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_toggle_multi_select_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar graph_toggle_multi_select_NsGraphToggleMultiSelect;\n(function (NsGraphToggleMultiSelect) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsGraphToggleMultiSelect.command = XFlowGraphCommands.GRAPH_TOGGLE_MULTI_SELECT;\n    /** hookName */\n    NsGraphToggleMultiSelect.hookKey = \'toggleMultiSelect\';\n})(graph_toggle_multi_select_NsGraphToggleMultiSelect || (graph_toggle_multi_select_NsGraphToggleMultiSelect = {}));\nlet graph_toggle_multi_select_GraphToggleMultiSelectCommand = \n/** \u753b\u5e03\u7f29\u653e\u547d\u4ee4 */\nclass GraphToggleMultiSelectCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => graph_toggle_multi_select_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.toggleMultiSelect.call(\n            /** \u6267\u884chooks pipeline\u5904\u7406args */\n            args, \n            /** \u6267\u884c callback */\n            (handlerArgs) => graph_toggle_multi_select_awaiter(this, void 0, void 0, function* () {\n                const x6Graph = yield this.ctx.getX6Graph();\n                const config = yield this.ctx.getGraphConfig();\n                const { isEnable, modelService } = handlerArgs;\n                const graphEnableMultiSelectModel = yield model_service_constant_namespaceObject.GRAPH_ENABLE_MULTI_SELECT.getModel(modelService);\n                const needEnableRubberBand = typeof isEnable === \'boolean\' ? isEnable : !x6Graph.isRubberbandEnabled();\n                if (needEnableRubberBand) {\n                    x6Graph.enableRubberband();\n                    if (x6Graph.scroller && x6Graph.scroller.widget) {\n                        x6Graph.scroller.disablePanning();\n                    }\n                    else {\n                        x6Graph.disablePanning();\n                    }\n                    config.graphContainer.style.cursor = \'crosshair\';\n                }\n                else {\n                    x6Graph.disableRubberband();\n                    if (x6Graph.scroller && x6Graph.scroller.widget) {\n                        x6Graph.scroller.enablePanning();\n                    }\n                    else {\n                        x6Graph.enablePanning();\n                    }\n                    config.graphContainer.style.cursor = \'grab\';\n                }\n                graphEnableMultiSelectModel.setValue({ isEnable: needEnableRubberBand });\n                return { isEnable: needEnableRubberBand };\n            }), \n            /** execute command \u65f6\u521b\u5efa\u7684hook */\n            runtimeHook);\n            /** \u8bbe\u7f6e\u7ed3\u679c */\n            this.ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => graph_toggle_multi_select_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => graph_toggle_multi_select_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    /** isUndoable */\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\ngraph_toggle_multi_select_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_toggle_multi_select_metadata("design:type", Object)\n], graph_toggle_multi_select_GraphToggleMultiSelectCommand.prototype, "contextProvider", void 0);\ngraph_toggle_multi_select_decorate([\n    Object(index_esm["postConstruct"])(),\n    graph_toggle_multi_select_metadata("design:type", Function),\n    graph_toggle_multi_select_metadata("design:paramtypes", []),\n    graph_toggle_multi_select_metadata("design:returntype", void 0)\n], graph_toggle_multi_select_GraphToggleMultiSelectCommand.prototype, "init", null);\ngraph_toggle_multi_select_GraphToggleMultiSelectCommand = graph_toggle_multi_select_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_toggle_multi_select_NsGraphToggleMultiSelect.command.id },\n    })\n    /** \u753b\u5e03\u7f29\u653e\u547d\u4ee4 */\n], graph_toggle_multi_select_GraphToggleMultiSelectCommand);\n\n//# sourceMappingURL=graph-toggle-multi-select.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-instance-cmd.js\nvar graph_instance_cmd_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_instance_cmd_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_instance_cmd_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nvar graph_instance_cmd_NsGraphInstanceCmd;\n(function (NsGraphInstanceCmd) {\n    /** Command Id: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsGraphInstanceCmd.command = XFlowGraphCommands.GRAPH_INSTANCE_COMMAND;\n    /** hookName */\n    NsGraphInstanceCmd.hookKey = \'graphInstacneCmd\';\n})(graph_instance_cmd_NsGraphInstanceCmd || (graph_instance_cmd_NsGraphInstanceCmd = {}));\nlet GraphInstanceCommand = \n/** \u4f7f\u7528Graph Intance \u7684\u547d\u4ee4 */\nclass GraphInstanceCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => graph_instance_cmd_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.ctx;\n            const args = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            /** \u6267\u884chooks */\n            yield hooks.graphInstacneCmd.call(\n            /** \u6267\u884chooks pipeline\u5904\u7406args */\n            args.args, \n            /** \u6267\u884c callback */\n            (handlerArgs) => graph_instance_cmd_awaiter(this, void 0, void 0, function* () {\n                const { useGraph, onSucess, onError } = handlerArgs;\n                const x6Graph = yield ctx.getX6Graph();\n                try {\n                    const res = yield useGraph(x6Graph, ctx);\n                    if (onSucess) {\n                        yield onSucess(res);\n                    }\n                }\n                catch (error) {\n                    yield onError(error, this);\n                }\n            }), \n            /** \u5916\u90e8\u7684 hook */\n            args.hooks);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => graph_instance_cmd_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => graph_instance_cmd_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    /** isUndoable */\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\ngraph_instance_cmd_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_instance_cmd_metadata("design:type", Object)\n], GraphInstanceCommand.prototype, "contextProvider", void 0);\ngraph_instance_cmd_decorate([\n    Object(index_esm["postConstruct"])(),\n    graph_instance_cmd_metadata("design:type", Function),\n    graph_instance_cmd_metadata("design:paramtypes", []),\n    graph_instance_cmd_metadata("design:returntype", void 0)\n], GraphInstanceCommand.prototype, "init", null);\nGraphInstanceCommand = graph_instance_cmd_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_instance_cmd_NsGraphInstanceCmd.command.id },\n    })\n    /** \u4f7f\u7528Graph Intance \u7684\u547d\u4ee4 */\n], GraphInstanceCommand);\n\n//# sourceMappingURL=graph-instance-cmd.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-history-undo.js\nvar graph_history_undo_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_history_undo_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_history_undo_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar graph_history_undo_NsGraphHistoryUndo;\n(function (NsGraphHistoryUndo) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsGraphHistoryUndo.command = XFlowGraphCommands.GRAPH_HISTORY_UNDO;\n    /** hookName */\n    NsGraphHistoryUndo.hookKey = \'historyUndo\';\n})(graph_history_undo_NsGraphHistoryUndo || (graph_history_undo_NsGraphHistoryUndo = {}));\nlet graph_history_undo_GraphHistoryUndoCommand = \n/** \u5f00\u542fhistory\u547d\u4ee4 */\nclass GraphHistoryUndoCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => graph_history_undo_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            const result = yield hooks.historyUndo.call(args, (handlerArgs) => graph_history_undo_awaiter(this, void 0, void 0, function* () {\n                const graph = yield ctx.getX6Graph();\n                if (graph.isHistoryEnabled() === false) {\n                    return {\n                        err: \'history is disabled\',\n                    };\n                }\n                graph.undo();\n                ctx.addUndo(Disposable.create(() => graph_history_undo_awaiter(this, void 0, void 0, function* () {\n                    const { commandService } = handlerArgs;\n                    commandService.executeCommand(XFlowGraphCommands.GRAPH_HISTORY_REDO.id, {});\n                })));\n                return { err: null };\n            }), runtimeHook);\n            ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => graph_history_undo_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            if (this.isUndoable()) {\n                ctx.undo();\n            }\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => graph_history_undo_awaiter(this, void 0, void 0, function* () {\n            if (!this.isUndoable()) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    isUndoable() {\n        const ctx = this.contextProvider();\n        return ctx.isUndoable();\n    }\n};\ngraph_history_undo_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_history_undo_metadata("design:type", Object)\n], graph_history_undo_GraphHistoryUndoCommand.prototype, "contextProvider", void 0);\ngraph_history_undo_GraphHistoryUndoCommand = graph_history_undo_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_history_undo_NsGraphHistoryUndo.command.id },\n    })\n    /** \u5f00\u542fhistory\u547d\u4ee4 */\n], graph_history_undo_GraphHistoryUndoCommand);\n\n//# sourceMappingURL=graph-history-undo.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-history-redo.js\nvar graph_history_redo_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_history_redo_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_history_redo_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar graph_history_redo_NsGraphHistoryRedo;\n(function (NsGraphHistoryRedo) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsGraphHistoryRedo.command = XFlowGraphCommands.GRAPH_HISTORY_REDO;\n    /** hookName */\n    NsGraphHistoryRedo.hookKey = \'historyRedo\';\n})(graph_history_redo_NsGraphHistoryRedo || (graph_history_redo_NsGraphHistoryRedo = {}));\nlet graph_history_redo_GraphHistoryRedoCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass GraphHistoryRedoCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => graph_history_redo_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            const result = yield hooks.historyRedo.call(args, (handlerArgs) => graph_history_redo_awaiter(this, void 0, void 0, function* () {\n                const graph = yield ctx.getX6Graph();\n                if (graph.isHistoryEnabled() === false) {\n                    return {\n                        err: \'history is disabled\',\n                    };\n                }\n                graph.redo();\n                ctx.addUndo(Disposable.create(() => graph_history_redo_awaiter(this, void 0, void 0, function* () {\n                    const { commandService } = handlerArgs;\n                    commandService.executeCommand(XFlowGraphCommands.GRAPH_HISTORY_UNDO.id, {});\n                })));\n                return { err: null };\n            }), runtimeHook);\n            ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => graph_history_redo_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            if (this.isUndoable()) {\n                ctx.undo();\n            }\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => graph_history_redo_awaiter(this, void 0, void 0, function* () {\n            if (!this.isUndoable()) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    isUndoable() {\n        const ctx = this.contextProvider();\n        return ctx.isUndoable();\n    }\n};\ngraph_history_redo_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_history_redo_metadata("design:type", Object)\n], graph_history_redo_GraphHistoryRedoCommand.prototype, "contextProvider", void 0);\ngraph_history_redo_GraphHistoryRedoCommand = graph_history_redo_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_history_redo_NsGraphHistoryRedo.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], graph_history_redo_GraphHistoryRedoCommand);\n\n//# sourceMappingURL=graph-history-redo.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-history-toggle.js\nvar graph_history_toggle_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_history_toggle_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_history_toggle_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar graph_history_toggle_NsGraphHistoryToggle;\n(function (NsGraphHistoryToggle) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsGraphHistoryToggle.command = XFlowGraphCommands.GRAPH_HISTORY_TOGGLE;\n    /** hookName */\n    NsGraphHistoryToggle.hookKey = \'historyToggle\';\n})(graph_history_toggle_NsGraphHistoryToggle || (graph_history_toggle_NsGraphHistoryToggle = {}));\nlet graph_history_toggle_GraphHistoryToggleCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass GraphHistoryToggleCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => graph_history_toggle_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            const result = yield hooks.historyToggle.call(args, (handlerArgs) => graph_history_toggle_awaiter(this, void 0, void 0, function* () {\n                const graph = yield ctx.getX6Graph();\n                if (graph.isHistoryEnabled() === false) {\n                    return {\n                        err: \'history is disabled\',\n                    };\n                }\n                const isEnable = graph.isHistoryEnabled();\n                const { enabled } = handlerArgs;\n                // \u6267\u884cgraph\u547d\u4ee4\n                graph.toggleHistory(enabled);\n                // \u6dfb\u52a0undo\n                ctx.addUndo(Disposable.create(() => graph_history_toggle_awaiter(this, void 0, void 0, function* () {\n                    const { commandService } = handlerArgs;\n                    commandService.executeCommand(XFlowGraphCommands.GRAPH_HISTORY_TOGGLE.id, {\n                        enabled: isEnable,\n                    });\n                })));\n                return { err: null };\n            }), runtimeHook);\n            ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => graph_history_toggle_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            if (this.isUndoable()) {\n                ctx.undo();\n            }\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => graph_history_toggle_awaiter(this, void 0, void 0, function* () {\n            if (!this.isUndoable()) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    isUndoable() {\n        const ctx = this.contextProvider();\n        return ctx.isUndoable();\n    }\n};\ngraph_history_toggle_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_history_toggle_metadata("design:type", Object)\n], graph_history_toggle_GraphHistoryToggleCommand.prototype, "contextProvider", void 0);\ngraph_history_toggle_GraphHistoryToggleCommand = graph_history_toggle_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_history_toggle_NsGraphHistoryToggle.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], graph_history_toggle_GraphHistoryToggleCommand);\n\n//# sourceMappingURL=graph-history-toggle.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-history-reset.js\nvar graph_history_reset_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_history_reset_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_history_reset_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nvar graph_history_reset_NsGraphHistoryReset;\n(function (NsGraphHistoryReset) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsGraphHistoryReset.command = XFlowGraphCommands.GRAPH_HISTORY_RESET;\n    /** hookName */\n    NsGraphHistoryReset.hookKey = \'historyReset\';\n})(graph_history_reset_NsGraphHistoryReset || (graph_history_reset_NsGraphHistoryReset = {}));\nlet GraphHistoryResetCommand = \n/** \u521b\u5efa\u6e05\u7406History\u547d\u4ee4 */\nclass GraphHistoryResetCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => graph_history_reset_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            const result = yield hooks.historyReset.call(args, () => graph_history_reset_awaiter(this, void 0, void 0, function* () {\n                const graph = yield ctx.getX6Graph();\n                graph.cleanHistory();\n                return { err: null };\n            }), runtimeHook);\n            ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => graph_history_reset_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            if (this.isUndoable()) {\n                ctx.undo();\n            }\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => graph_history_reset_awaiter(this, void 0, void 0, function* () {\n            if (!this.isUndoable()) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    isUndoable() {\n        const ctx = this.contextProvider();\n        return ctx.isUndoable();\n    }\n};\ngraph_history_reset_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_history_reset_metadata("design:type", Object)\n], GraphHistoryResetCommand.prototype, "contextProvider", void 0);\nGraphHistoryResetCommand = graph_history_reset_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_history_reset_NsGraphHistoryReset.command.id },\n    })\n    /** \u521b\u5efa\u6e05\u7406History\u547d\u4ee4 */\n], GraphHistoryResetCommand);\n\n//# sourceMappingURL=graph-history-reset.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-add-tool.js\nvar graph_add_tool_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_add_tool_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_add_tool_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar graph_add_tool_NsGraphAddTool;\n(function (NsGraphAddTool) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsGraphAddTool.command = XFlowGraphCommands.GRAPH_ADD_TOOL;\n    /** hookName */\n    NsGraphAddTool.hookKey = \'addTool\';\n})(graph_add_tool_NsGraphAddTool || (graph_add_tool_NsGraphAddTool = {}));\nlet graph_add_tool_GraphAddToolCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass GraphAddToolCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => graph_add_tool_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            const result = yield hooks.addTool.call(args, (handlerArgs) => graph_add_tool_awaiter(this, void 0, void 0, function* () {\n                const { cellId, toolConfig, commandService } = handlerArgs;\n                const graph = yield ctx.getX6Graph();\n                const cell = graph.getCellById(cellId);\n                if (cell) {\n                    cell.addTools(toolConfig.items, toolConfig.options);\n                    ctx.addUndo(Disposable.create(() => graph_add_tool_awaiter(this, void 0, void 0, function* () {\n                        if (Array.isArray(toolConfig.items)) {\n                            toolConfig.items.forEach(item => {\n                                commandService.executeCommand(XFlowGraphCommands.GRAPH_DEL_TOOL.id, {\n                                    cellId,\n                                    toolname: item,\n                                });\n                            });\n                        }\n                    })));\n                }\n                return { err: null };\n            }), runtimeHook);\n            ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => graph_add_tool_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            if (this.isUndoable()) {\n                ctx.undo();\n            }\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => graph_add_tool_awaiter(this, void 0, void 0, function* () {\n            if (!this.isUndoable()) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    isUndoable() {\n        const ctx = this.contextProvider();\n        return ctx.isUndoable();\n    }\n};\ngraph_add_tool_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_add_tool_metadata("design:type", Object)\n], graph_add_tool_GraphAddToolCommand.prototype, "contextProvider", void 0);\ngraph_add_tool_GraphAddToolCommand = graph_add_tool_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_add_tool_NsGraphAddTool.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], graph_add_tool_GraphAddToolCommand);\n\n//# sourceMappingURL=graph-add-tool.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-del-tool.js\nvar graph_del_tool_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_del_tool_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_del_tool_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nvar graph_del_tool_NsGraphDelTool;\n(function (NsGraphDelTool) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsGraphDelTool.command = XFlowGraphCommands.GRAPH_DEL_TOOL;\n    /** hookName */\n    NsGraphDelTool.hookKey = \'delTool\';\n})(graph_del_tool_NsGraphDelTool || (graph_del_tool_NsGraphDelTool = {}));\nlet GraphDelToolCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass GraphDelToolCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => graph_del_tool_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            const result = yield hooks.delTool.call(args, (handlerArgs) => graph_del_tool_awaiter(this, void 0, void 0, function* () {\n                const { cellId, toolName, toolConfig } = handlerArgs;\n                const graph = yield ctx.getX6Graph();\n                const cell = graph.getCellById(cellId);\n                if (cell) {\n                    if (toolName === \'*\') {\n                        cell.removeTools(toolConfig);\n                    }\n                    else {\n                        cell.removeTool(toolName, toolConfig);\n                    }\n                }\n                return { err: null };\n            }), runtimeHook);\n            ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => graph_del_tool_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            if (this.isUndoable()) {\n                ctx.undo();\n            }\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => graph_del_tool_awaiter(this, void 0, void 0, function* () {\n            if (!this.isUndoable()) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    isUndoable() {\n        const ctx = this.contextProvider();\n        return ctx.isUndoable();\n    }\n};\ngraph_del_tool_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_del_tool_metadata("design:type", Object)\n], GraphDelToolCommand.prototype, "contextProvider", void 0);\nGraphDelToolCommand = graph_del_tool_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_del_tool_NsGraphDelTool.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], GraphDelToolCommand);\n\n//# sourceMappingURL=graph-del-tool.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-cmd-redo.js\nvar graph_cmd_redo_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_cmd_redo_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_cmd_redo_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar graph_cmd_redo_NsRedoCmd;\n(function (NsRedoCmd) {\n    /** Command Id: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsRedoCmd.command = XFlowGraphCommands.REDO_CMD;\n    /** hookName */\n    NsRedoCmd.hookKey = \'redoCommand\';\n})(graph_cmd_redo_NsRedoCmd || (graph_cmd_redo_NsRedoCmd = {}));\nlet graph_cmd_redo_GraphRedoCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass GraphRedoCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => graph_cmd_redo_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.ctx;\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            yield hooks.redoCommand.call(\n            /** \u6267\u884chooks pipeline\u5904\u7406args */\n            args, \n            /** \u6267\u884c callback */\n            () => graph_cmd_redo_awaiter(this, void 0, void 0, function* () {\n                const cmds = ctx.getCommands();\n                if (cmds.isRedoable) {\n                    cmds.redoCommand();\n                }\n                /** \u8bbe\u7f6e\u7ed3\u679c */\n                this.ctx.addUndo(Disposable.create(() => {\n                    cmds.redoCommand();\n                }));\n                return {};\n            }), \n            /** \u5916\u90e8\u7684 hook */\n            runtimeHook);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => graph_cmd_redo_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => graph_cmd_redo_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    /** isUndoable */\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\ngraph_cmd_redo_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_cmd_redo_metadata("design:type", Object)\n], graph_cmd_redo_GraphRedoCommand.prototype, "contextProvider", void 0);\ngraph_cmd_redo_decorate([\n    Object(index_esm["postConstruct"])(),\n    graph_cmd_redo_metadata("design:type", Function),\n    graph_cmd_redo_metadata("design:paramtypes", []),\n    graph_cmd_redo_metadata("design:returntype", void 0)\n], graph_cmd_redo_GraphRedoCommand.prototype, "init", null);\ngraph_cmd_redo_GraphRedoCommand = graph_cmd_redo_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_cmd_redo_NsRedoCmd.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], graph_cmd_redo_GraphRedoCommand);\n\n//# sourceMappingURL=graph-cmd-redo.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/graph-cmd-undo.js\nvar graph_cmd_undo_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar graph_cmd_undo_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar graph_cmd_undo_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar graph_cmd_undo_NsUndoCmd;\n(function (NsUndoCmd) {\n    /** Command Id: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsUndoCmd.command = XFlowGraphCommands.UNDO_CMD;\n    /** hookName */\n    NsUndoCmd.hookKey = \'undoCommand\';\n})(graph_cmd_undo_NsUndoCmd || (graph_cmd_undo_NsUndoCmd = {}));\nlet graph_cmd_undo_GraphUndoCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass GraphUndoCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => graph_cmd_undo_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.ctx;\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            yield hooks.undoCommand.call(\n            /** \u6267\u884chooks pipeline\u5904\u7406args */\n            args, \n            /** \u6267\u884c callback */\n            () => graph_cmd_undo_awaiter(this, void 0, void 0, function* () {\n                const cmds = ctx.getCommands();\n                if (cmds.isUndoable) {\n                    cmds.undoCommand();\n                }\n                /** \u8bbe\u7f6e\u7ed3\u679c */\n                this.ctx.addUndo(Disposable.create(() => {\n                    cmds.redoCommand();\n                }));\n                return {};\n            }), \n            /** \u5916\u90e8\u7684 hook */\n            runtimeHook);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => graph_cmd_undo_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => graph_cmd_undo_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    /** isUndoable */\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\ngraph_cmd_undo_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    graph_cmd_undo_metadata("design:type", Object)\n], graph_cmd_undo_GraphUndoCommand.prototype, "contextProvider", void 0);\ngraph_cmd_undo_decorate([\n    Object(index_esm["postConstruct"])(),\n    graph_cmd_undo_metadata("design:type", Function),\n    graph_cmd_undo_metadata("design:paramtypes", []),\n    graph_cmd_undo_metadata("design:returntype", void 0)\n], graph_cmd_undo_GraphUndoCommand.prototype, "init", null);\ngraph_cmd_undo_GraphUndoCommand = graph_cmd_undo_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: graph_cmd_undo_NsUndoCmd.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], graph_cmd_undo_GraphUndoCommand);\n\n//# sourceMappingURL=graph-cmd-undo.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/graph/index.js\n// \u6570\u636e\u76f8\u5173\n\n\n\n// \u6e32\u67d3\u76f8\u5173\n\n\n\n// \u753b\u5e03\u64cd\u4f5c\u76f8\u5173\n\n\n\n\n\n// history \u76f8\u5173\n\n\n\n\n// Tool\u76f8\u5173\n\n\n// xflow-command\n\n\n/** \u6ce8\u518cCommand Handler Class */\nconst registerGraphCommand = (register) => {\n    // \u6570\u636e\n    register(graph_meta_GraphMetaCommand);\n    register(GraphLoadDataCommand);\n    register(graph_save_data_GraphSaveDataCommand);\n    // render\n    register(graph_layout_GraphLayoutCommand);\n    register(graph_render_GraphRenderCommand);\n    register(GraphResizeCommand);\n    // hisotry\n    register(graph_history_undo_GraphHistoryUndoCommand);\n    register(graph_history_redo_GraphHistoryRedoCommand);\n    register(graph_history_toggle_GraphHistoryToggleCommand);\n    register(GraphHistoryResetCommand);\n    // xflow command\n    register(graph_cmd_redo_GraphRedoCommand);\n    register(graph_cmd_undo_GraphUndoCommand);\n    // graph \u64cd\u4f5c\n    register(GraphZoomCommand);\n    register(graph_toggle_multi_select_GraphToggleMultiSelectCommand);\n    register(graph_copy_GraphCopySelectionCommand);\n    register(graph_paste_GraphPasteSelectionCommand);\n    register(GraphInstanceCommand);\n    // tools\n    register(graph_add_tool_GraphAddToolCommand);\n    register(GraphDelToolCommand);\n};\n/** app onStart \u65f6, \u6ce8\u518c Command Hooks */\nconst graph_hookhubList = [\n    // \u6570\u636e\n    graph_meta_NsGraphMeta,\n    graph_save_data_NsGraphSaveData,\n    graph_load_data_NsGraphLoadData,\n    // hisotry\n    graph_history_undo_NsGraphHistoryUndo,\n    graph_history_redo_NsGraphHistoryRedo,\n    graph_history_reset_NsGraphHistoryReset,\n    graph_history_toggle_NsGraphHistoryToggle,\n    // render\n    graph_layout_NsGraphLayout,\n    graph_render_NsGraphRender,\n    graph_resize_NsGraphResize,\n    // xflow command\n    graph_cmd_redo_NsRedoCmd,\n    graph_cmd_undo_NsUndoCmd,\n    // graph \u64cd\u4f5c\n    graph_zoom_NsGraphZoom,\n    graph_toggle_multi_select_NsGraphToggleMultiSelect,\n    graph_copy_NsGraphCopySelection,\n    graph_paste_NsGraphPasteSelection,\n    graph_instance_cmd_NsGraphInstanceCmd,\n    // tools\n    graph_add_tool_NsGraphAddTool,\n    graph_del_tool_NsGraphDelTool,\n];\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/edge/edge-add.js\nvar edge_add_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar edge_add_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar edge_add_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar edge_add_NsAddEdge;\n(function (NsAddEdge) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsAddEdge.command = XFlowEdgeCommands.ADD_EDGE;\n    /** hookName */\n    NsAddEdge.hookKey = \'addEdge\';\n    /** edge id \u7c7b\u578b */\n    NsAddEdge.createEdgeId = (edge) => {\n        return `${edge.source}:${edge.sourcePortId}-${edge.target}:${edge.targetPortId}`;\n    };\n})(edge_add_NsAddEdge || (edge_add_NsAddEdge = {}));\nlet edge_add_AddEdgeCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass AddEdgeCommand {\n    constructor() {\n        /** \u5904\u7406edgeConfig\u7684\u515c\u5e95\u903b\u8f91 */\n        this.processEdgeConfig = (args, edge) => edge_add_awaiter(this, void 0, void 0, function* () {\n            /** \u5904\u7406edgeConfig\u6ca1\u6709\u8fd4\u56deid\u7684\u95ee\u9898 */\n            if (!edge.id) {\n                const { createIdService = edge_add_NsAddEdge.createEdgeId } = args;\n                edge.id = yield createIdService(edge);\n            }\n            return edge;\n        });\n        /** \u6267\u884cCmd */\n        this.execute = () => edge_add_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.addEdge.call(\n            /** \u6267\u884c hooks pipeline\u5904\u7406args */\n            args, \n            /** \u6267\u884c callback */\n            (handlerArgs) => edge_add_awaiter(this, void 0, void 0, function* () {\n                const { cellFactory, createEdgeService, commandService } = handlerArgs;\n                const edgeConfig = createEdgeService\n                    ? yield createEdgeService(handlerArgs)\n                    : handlerArgs.edgeConfig;\n                const graph = yield this.ctx.getX6Graph();\n                yield this.processEdgeConfig(handlerArgs, edgeConfig);\n                let edgeCell;\n                if (cellFactory) {\n                    const cell = yield cellFactory(edgeConfig, this);\n                    edgeCell = graph.addEdge(cell);\n                }\n                else {\n                    edgeCell = graph.addEdge(Object.assign(Object.assign({}, edgeConfig), { \n                        /** \u7531\u4e8eX6\u7684\u5b9e\u73b0\u662fReact\u8282\u70b9\u6302\u5728label\u4e0a\u7684, \u6240\u4ee5\u5fc5\u987b\u8981\u7ed9label\u8bbe\u7f6e\u503c */\n                        label: (edgeConfig === null || edgeConfig === void 0 ? void 0 : edgeConfig.label) || edgeConfig, data: Object.assign({}, edgeConfig) }));\n                }\n                /** \u521b\u5efa undo */\n                const undo = Disposable.create(() => {\n                    commandService.executeCommand(XFlowEdgeCommands.DEL_EDGE.id, {\n                        x6Edge: edgeCell,\n                    });\n                });\n                /** add undo */\n                this.ctx.addUndo(undo);\n                return { edgeConfig: edgeConfig, edgeCell };\n            }), runtimeHook);\n            this.ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => edge_add_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => edge_add_awaiter(this, void 0, void 0, function* () {\n            if (!this.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\nedge_add_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    edge_add_metadata("design:type", Object)\n], edge_add_AddEdgeCommand.prototype, "contextProvider", void 0);\nedge_add_decorate([\n    Object(index_esm["postConstruct"])(),\n    edge_add_metadata("design:type", Function),\n    edge_add_metadata("design:paramtypes", []),\n    edge_add_metadata("design:returntype", void 0)\n], edge_add_AddEdgeCommand.prototype, "init", null);\nedge_add_AddEdgeCommand = edge_add_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: edge_add_NsAddEdge.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], edge_add_AddEdgeCommand);\n\n//# sourceMappingURL=edge-add.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/edge/edge-del.js\nvar edge_del_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar edge_del_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar edge_del_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar edge_del_NsDelEdge;\n(function (NsDelEdge) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsDelEdge.command = XFlowEdgeCommands.DEL_EDGE;\n    /** hookName */\n    NsDelEdge.hookKey = \'delEdge\';\n    let ErrEnum;\n    (function (ErrEnum) {\n        ErrEnum["EDGE_NOT_EXIST"] = "edge is not exist";\n        ErrEnum["EDGE_INVALID_CELL"] = "this is not a valid cell";\n        ErrEnum["X6_DELETE_FAILED"] = "x6 throw err when call delete edge";\n        ErrEnum["SERVICE_REJECT"] = "service reject to delete";\n    })(ErrEnum = NsDelEdge.ErrEnum || (NsDelEdge.ErrEnum = {}));\n})(edge_del_NsDelEdge || (edge_del_NsDelEdge = {}));\nlet edge_del_DelEdgeCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass DelEdgeCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => edge_del_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.delEdge.call(\n            /** \u6267\u884c hooks pipeline\u5904\u7406args */\n            args, \n            /** \u6267\u884c callback */\n            (handlerArgs) => edge_del_awaiter(this, void 0, void 0, function* () {\n                const { edgeConfig, x6Edge, deleteEdgeService, commandService } = handlerArgs;\n                let edgeCell = x6Edge;\n                /** \u6ca1\u6709edgeCell\u65f6\u67e5\u627ecell */\n                if (!edgeCell) {\n                    edgeCell = yield this.findEdgeById(edgeConfig);\n                    if (!edgeCell) {\n                        console.error(edge_del_NsDelEdge.ErrEnum.EDGE_NOT_EXIST, edgeConfig);\n                        return { err: edge_del_NsDelEdge.ErrEnum.EDGE_NOT_EXIST };\n                    }\n                }\n                const isEdge = edgeCell && edgeCell.isEdge();\n                if (!isEdge) {\n                    console.error(edge_del_NsDelEdge.ErrEnum.EDGE_NOT_EXIST, edgeCell);\n                    return { err: edge_del_NsDelEdge.ErrEnum.EDGE_NOT_EXIST };\n                }\n                if (deleteEdgeService) {\n                    /** \u9700\u8981\u8bf7\u6c42\u63a5\u53e3 */\n                    const canDelete = yield deleteEdgeService(handlerArgs);\n                    if (!canDelete) {\n                        return { err: edge_del_NsDelEdge.ErrEnum.SERVICE_REJECT };\n                    }\n                }\n                try {\n                    const targetCell = edgeCell.getTargetCell();\n                    const sourceCell = edgeCell.getSourceCell();\n                    const sourcePortId = edgeCell.getSourcePortId();\n                    const targetPortId = edgeCell.getTargetPortId();\n                    const source = sourceCell.id;\n                    const target = targetCell.id;\n                    /** \u6267\u884cremove */\n                    edgeCell.remove();\n                    /** \u521b\u5efa undo */\n                    const undo = Disposable.create(() => {\n                        commandService.executeCommand(XFlowEdgeCommands.ADD_EDGE.id, {\n                            edgeConfig: { source, target, sourcePortId, targetPortId },\n                        });\n                    });\n                    /** add undo */\n                    this.ctx.addUndo(undo);\n                    return {\n                        err: null,\n                        edgeConfig: { source, target, sourcePortId, targetPortId },\n                        targetCell,\n                        sourceCell,\n                        sourcePortId,\n                        targetPortId,\n                    };\n                }\n                catch (error) {\n                    console.error(edge_del_NsDelEdge.ErrEnum.X6_DELETE_FAILED, error);\n                    return { err: edge_del_NsDelEdge.ErrEnum.X6_DELETE_FAILED };\n                }\n            }), runtimeHook);\n            this.ctx.setResult(result);\n            return this;\n        });\n        this.findEdgeById = (edge) => edge_del_awaiter(this, void 0, void 0, function* () {\n            const graph = yield this.ctx.getX6Graph();\n            const cell = graph.getCellById(edge.id);\n            return cell;\n        });\n        /** undo cmd */\n        this.undo = () => edge_del_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => edge_del_awaiter(this, void 0, void 0, function* () {\n            if (!this.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\nedge_del_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    edge_del_metadata("design:type", Object)\n], edge_del_DelEdgeCommand.prototype, "contextProvider", void 0);\nedge_del_decorate([\n    Object(index_esm["postConstruct"])(),\n    edge_del_metadata("design:type", Function),\n    edge_del_metadata("design:paramtypes", []),\n    edge_del_metadata("design:returntype", void 0)\n], edge_del_DelEdgeCommand.prototype, "init", null);\nedge_del_DelEdgeCommand = edge_del_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: edge_del_NsDelEdge.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], edge_del_DelEdgeCommand);\n\n//# sourceMappingURL=edge-del.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/edge/edge-update.js\nvar edge_update_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar edge_update_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar edge_update_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nvar edge_update_NsUpdateEdge;\n(function (NsUpdateEdge) {\n    NsUpdateEdge.command = XFlowEdgeCommands.UPDATE_EDGE;\n    NsUpdateEdge.hookKey = \'updateEdge\';\n})(edge_update_NsUpdateEdge || (edge_update_NsUpdateEdge = {}));\nlet UpdateEdgeCommand = \n/** \u8fde\u7ebf\u66f4\u65b0\u547d\u4ee4 */\nclass UpdateEdgeCommand {\n    constructor() {\n        this.execute = () => edge_update_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.updateEdge.call(args, (handlerArgs) => edge_update_awaiter(this, void 0, void 0, function* () {\n                const x6Graph = yield this.ctx.getX6Graph();\n                const { updateEdgeService } = handlerArgs;\n                const edgeConfig = updateEdgeService\n                    ? yield updateEdgeService(handlerArgs)\n                    : handlerArgs === null || handlerArgs === void 0 ? void 0 : handlerArgs.edgeConfig;\n                const x6Edge = x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.getCellById(edgeConfig === null || edgeConfig === void 0 ? void 0 : edgeConfig.id);\n                x6Edge === null || x6Edge === void 0 ? void 0 : x6Edge.setData(edgeConfig);\n                x6Edge === null || x6Edge === void 0 ? void 0 : x6Edge.setLabelAt(0, (edgeConfig === null || edgeConfig === void 0 ? void 0 : edgeConfig.label) || edgeConfig);\n                // \u652f\u6301edgeAttrs\n                if (edgeConfig.attrs) {\n                    x6Edge.setAttrs(edgeConfig.attrs);\n                }\n                return {\n                    edgeConfig,\n                    edgeCell: x6Edge,\n                };\n            }), runtimeHook);\n            this.ctx.setResult(result);\n            return this;\n        });\n        this.undo = () => edge_update_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        this.redo = () => edge_update_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\nedge_update_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    edge_update_metadata("design:type", Object)\n], UpdateEdgeCommand.prototype, "contextProvider", void 0);\nedge_update_decorate([\n    Object(index_esm["postConstruct"])(),\n    edge_update_metadata("design:type", Function),\n    edge_update_metadata("design:paramtypes", []),\n    edge_update_metadata("design:returntype", void 0)\n], UpdateEdgeCommand.prototype, "init", null);\nUpdateEdgeCommand = edge_update_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: edge_update_NsUpdateEdge.command.id },\n    })\n    /** \u8fde\u7ebf\u66f4\u65b0\u547d\u4ee4 */\n], UpdateEdgeCommand);\n\n//# sourceMappingURL=edge-update.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/edge/edge-highlight.js\nvar edge_highlight_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar edge_highlight_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar edge_highlight_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nvar edge_highlight_NsHighlightEdge;\n(function (NsHighlightEdge) {\n    NsHighlightEdge.command = XFlowEdgeCommands.HIGHLIGHT_EDGE;\n    NsHighlightEdge.hookKey = \'highlightEdge\';\n})(edge_highlight_NsHighlightEdge || (edge_highlight_NsHighlightEdge = {}));\nlet edge_highlight_HighlightEdgeCommand = \n/** \u8fde\u7ebf\u9ad8\u4eae */\nclass HighlightEdgeCommand {\n    constructor() {\n        this.execute = () => edge_highlight_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.highlightEdge.call(args, (handlerArgs) => edge_highlight_awaiter(this, void 0, void 0, function* () {\n                const x6Graph = yield this.ctx.getX6Graph();\n                const { edgeId, stroke, strokeWidth } = handlerArgs;\n                const x6Edge = x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.getCellById(edgeId);\n                if (!x6Edge) {\n                    console.error(edgeId, \'this edgeId is not exist\');\n                }\n                else {\n                    x6Edge === null || x6Edge === void 0 ? void 0 : x6Edge.setAttrs({\n                        line: {\n                            stroke: stroke || \'#7c68fc\',\n                            strokeWidth: strokeWidth || 2,\n                        },\n                    });\n                    /** \u9ad8\u4eae\u7684\u8fde\u7ebf\u9ed8\u8ba4\u524d\u7f6e\u5728\u753b\u5e03\u6700\u524d\u65b9 */\n                    handlerArgs.commandService.executeCommand(XFlowEdgeCommands.FRONT_EDGE.id, {\n                        edgeId,\n                    });\n                }\n                return {};\n            }), runtimeHook);\n            this.ctx.setResult(result);\n            return this;\n        });\n        this.undo = () => edge_highlight_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        this.redo = () => edge_highlight_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\nedge_highlight_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    edge_highlight_metadata("design:type", Object)\n], edge_highlight_HighlightEdgeCommand.prototype, "contextProvider", void 0);\nedge_highlight_decorate([\n    Object(index_esm["postConstruct"])(),\n    edge_highlight_metadata("design:type", Function),\n    edge_highlight_metadata("design:paramtypes", []),\n    edge_highlight_metadata("design:returntype", void 0)\n], edge_highlight_HighlightEdgeCommand.prototype, "init", null);\nedge_highlight_HighlightEdgeCommand = edge_highlight_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: edge_highlight_NsHighlightEdge.command.id },\n    })\n    /** \u8fde\u7ebf\u9ad8\u4eae */\n], edge_highlight_HighlightEdgeCommand);\n\n//# sourceMappingURL=edge-highlight.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/edge/edge-front.js\nvar edge_front_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar edge_front_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar edge_front_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar edge_front_NsFrontEdge;\n(function (NsFrontEdge) {\n    NsFrontEdge.command = XFlowEdgeCommands.FRONT_EDGE;\n    NsFrontEdge.hookKey = \'frontEdge\';\n})(edge_front_NsFrontEdge || (edge_front_NsFrontEdge = {}));\nlet edge_front_FrontEdgeCommand = \n/** \u8fb9\u524d\u7f6e\u547d\u4ee4(\u59cb\u7ec8\u5728\u753b\u5e03\u6700\u524d\u65b9) */\nclass FrontEdgeCommand {\n    constructor() {\n        this.execute = () => edge_front_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.frontEdge.call(args, (handlerArgs) => edge_front_awaiter(this, void 0, void 0, function* () {\n                const x6Graph = yield this.ctx.getX6Graph();\n                const { edgeId } = handlerArgs;\n                const x6Edge = x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.getCellById(edgeId);\n                if (!x6Edge) {\n                    console.error(edgeId, \'this edgeId is not exist\');\n                }\n                else {\n                    x6Edge.toFront();\n                    /** frontEdge undo */\n                    this.ctx.addUndo(Disposable.create(() => edge_front_awaiter(this, void 0, void 0, function* () {\n                        handlerArgs.commandService.executeCommand(XFlowEdgeCommands.BACK_EDGE.id, {\n                            edgeId,\n                        });\n                    })));\n                }\n                return {};\n            }), runtimeHook);\n            this.ctx.setResult(result);\n            return this;\n        });\n        this.undo = () => edge_front_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        this.redo = () => edge_front_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\nedge_front_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    edge_front_metadata("design:type", Object)\n], edge_front_FrontEdgeCommand.prototype, "contextProvider", void 0);\nedge_front_decorate([\n    Object(index_esm["postConstruct"])(),\n    edge_front_metadata("design:type", Function),\n    edge_front_metadata("design:paramtypes", []),\n    edge_front_metadata("design:returntype", void 0)\n], edge_front_FrontEdgeCommand.prototype, "init", null);\nedge_front_FrontEdgeCommand = edge_front_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: edge_front_NsFrontEdge.command.id },\n    })\n    /** \u8fb9\u524d\u7f6e\u547d\u4ee4(\u59cb\u7ec8\u5728\u753b\u5e03\u6700\u524d\u65b9) */\n], edge_front_FrontEdgeCommand);\n\n//# sourceMappingURL=edge-front.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/edge/edge-back.js\nvar edge_back_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar edge_back_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar edge_back_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar edge_back_NsBackEdge;\n(function (NsBackEdge) {\n    NsBackEdge.command = XFlowEdgeCommands.BACK_EDGE;\n    NsBackEdge.hookKey = \'frontEdge\';\n})(edge_back_NsBackEdge || (edge_back_NsBackEdge = {}));\nlet edge_back_BackEdgeCommand = \n/** \u8fb9\u540e\u7f6e\u547d\u4ee4(\u59cb\u7ec8\u5728\u753b\u5e03\u6700\u540e\u65b9) */\nclass BackEdgeCommand {\n    constructor() {\n        this.execute = () => edge_back_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.frontEdge.call(args, (handlerArgs) => edge_back_awaiter(this, void 0, void 0, function* () {\n                const x6Graph = yield this.ctx.getX6Graph();\n                const { edgeId } = handlerArgs;\n                const x6Edge = x6Graph === null || x6Graph === void 0 ? void 0 : x6Graph.getCellById(edgeId);\n                if (!x6Edge) {\n                    console.error(edgeId, \'this edgeId is not exist\');\n                }\n                else {\n                    x6Edge.toBack();\n                    /** frontEdge undo */\n                    this.ctx.addUndo(Disposable.create(() => edge_back_awaiter(this, void 0, void 0, function* () {\n                        handlerArgs.commandService.executeCommand(XFlowEdgeCommands.FRONT_EDGE.id, {\n                            edgeId,\n                        });\n                    })));\n                }\n                return {};\n            }), runtimeHook);\n            this.ctx.setResult(result);\n            return this;\n        });\n        this.undo = () => edge_back_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        this.redo = () => edge_back_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\nedge_back_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    edge_back_metadata("design:type", Object)\n], edge_back_BackEdgeCommand.prototype, "contextProvider", void 0);\nedge_back_decorate([\n    Object(index_esm["postConstruct"])(),\n    edge_back_metadata("design:type", Function),\n    edge_back_metadata("design:paramtypes", []),\n    edge_back_metadata("design:returntype", void 0)\n], edge_back_BackEdgeCommand.prototype, "init", null);\nedge_back_BackEdgeCommand = edge_back_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: edge_back_NsBackEdge.command.id },\n    })\n    /** \u8fb9\u540e\u7f6e\u547d\u4ee4(\u59cb\u7ec8\u5728\u753b\u5e03\u6700\u540e\u65b9) */\n], edge_back_BackEdgeCommand);\n\n//# sourceMappingURL=edge-back.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/edge/index.js\n/** commands */\n\n\n\n\n\n\n/** \u6ce8\u518cCommand Handler Class */\nconst registerEdgeCommand = (register) => {\n    register(edge_add_AddEdgeCommand);\n    register(edge_del_DelEdgeCommand);\n    register(UpdateEdgeCommand);\n    register(edge_highlight_HighlightEdgeCommand);\n    register(edge_front_FrontEdgeCommand);\n    register(edge_back_BackEdgeCommand);\n};\n/** app onStart \u65f6, \u6ce8\u518c Command Hooks */\nconst edge_hookhubList = [edge_add_NsAddEdge, edge_del_NsDelEdge, edge_update_NsUpdateEdge, edge_highlight_NsHighlightEdge, edge_front_NsFrontEdge, edge_back_NsBackEdge];\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/group/group-add.js\nvar group_add_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar group_add_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar group_add_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\nvar group_add_NsAddGroup;\n(function (NsAddGroup) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsAddGroup.command = XFlowGroupCommands.ADD_GROUP;\n    /** hookName */\n    NsAddGroup.hookKey = \'addGroup\';\n    NsAddGroup.GROUP_PADDING = 12;\n    NsAddGroup.GROUP_HEADER_HEIGHT = 40;\n})(group_add_NsAddGroup || (group_add_NsAddGroup = {}));\nlet group_add_AddGroupCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass AddGroupCommand {\n    constructor() {\n        this.getBBox = (node, nodeConfig, graph) => {\n            const { groupHeaderHeight = group_add_NsAddGroup.GROUP_HEADER_HEIGHT, groupPadding = group_add_NsAddGroup.GROUP_PADDING, } = nodeConfig;\n            const bbox = graph.getCellsBBox(node.children);\n            bbox.moveAndExpand({\n                x: -groupPadding,\n                y: -(groupPadding + groupHeaderHeight),\n                width: groupPadding * 2,\n                height: groupPadding * 2 + groupHeaderHeight,\n            });\n            return bbox;\n        };\n        /** \u6267\u884cCmd */\n        this.execute = () => group_add_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            const result = yield hooks.addGroup.call(args, (handlerArgs) => group_add_awaiter(this, void 0, void 0, function* () {\n                const { nodeConfig, createService: createGroupService, cellFactory, commandService, } = handlerArgs;\n                const graph = yield ctx.getX6Graph();\n                const res = yield commandService.executeCommand(XFlowNodeCommands.ADD_NODE.id, {\n                    cellFactory,\n                    createNodeService: createGroupService,\n                    nodeConfig,\n                });\n                const { nodeCell: groupCell } = res\n                    .contextProvider()\n                    .getResult();\n                const { id: groupId } = groupCell;\n                const { groupChildren } = nodeConfig;\n                if (groupChildren.length) {\n                    groupChildren.forEach(nodeId => {\n                        const child = graph.getCellById(nodeId);\n                        if (child) {\n                            child.setData(Object.assign(Object.assign({}, child.getData()), { group: groupId, isCollapsed: false }));\n                            child.prop(\'group\', groupId);\n                            groupCell.addChild(child);\n                            graph.unselect(child);\n                        }\n                    });\n                    const groupBBox = this.getBBox(groupCell, nodeConfig, graph);\n                    groupCell.position(groupBBox.x, groupBBox.y);\n                    groupCell.size(groupBBox.width, groupBBox.height);\n                    groupCell.setZIndex(0);\n                    groupCell.prop(\'isGroup\', true);\n                    groupCell.setData(Object.assign(Object.assign({}, groupCell.getData()), { width: groupBBox.width, height: groupBBox.height, groupChildrenSize: { width: groupBBox.width, height: groupBBox.height }, x: groupBBox.x, y: groupBBox.y, isGroup: true }));\n                    graph.select(groupCell);\n                }\n                if (nodeConfig.isCollapsed) {\n                    yield commandService.executeCommand(XFlowGroupCommands.COLLAPSE_GROUP.id, {\n                        nodeId: nodeConfig.id,\n                        isCollapsed: nodeConfig.isCollapsed,\n                    });\n                }\n                /** add undo: delete node */\n                ctx.addUndo(Disposable.create(() => group_add_awaiter(this, void 0, void 0, function* () {\n                    commandService.executeCommand(XFlowGroupCommands.DEL_GROUP.id, {\n                        nodeConfig,\n                    });\n                })));\n                return { nodeConfig: nodeConfig, nodeCell: groupCell };\n            }), runtimeHook);\n            ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => group_add_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            if (this.isUndoable()) {\n                ctx.undo();\n            }\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => group_add_awaiter(this, void 0, void 0, function* () {\n            if (!this.isUndoable()) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    isUndoable() {\n        const ctx = this.contextProvider();\n        return ctx.isUndoable();\n    }\n};\ngroup_add_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    group_add_metadata("design:type", Object)\n], group_add_AddGroupCommand.prototype, "contextProvider", void 0);\ngroup_add_AddGroupCommand = group_add_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: group_add_NsAddGroup.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], group_add_AddGroupCommand);\n\n//# sourceMappingURL=group-add.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/group/group-del.js\nvar group_del_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar group_del_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar group_del_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\nvar group_del_NsDelGroup;\n(function (NsDelGroup) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsDelGroup.command = XFlowGroupCommands.DEL_GROUP;\n    /** hookName */\n    NsDelGroup.hookKey = \'delGroup\';\n})(group_del_NsDelGroup || (group_del_NsDelGroup = {}));\nlet group_del_DelGroupCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass DelGroupCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => group_del_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            const result = yield hooks.delGroup.call(args, (handlerArgs) => group_del_awaiter(this, void 0, void 0, function* () {\n                const graph = yield ctx.getX6Graph();\n                const { nodeConfig, commandService, deleteService: deleteGroupService } = handlerArgs;\n                const { id } = nodeConfig;\n                const node = graph.getCellById(id);\n                if (deleteGroupService) {\n                    const canDel = yield deleteGroupService(handlerArgs);\n                    if (!canDel)\n                        return { err: \'service rejected\' };\n                }\n                if (!node) {\n                    return { err: \'target node is not exist\' };\n                }\n                // \u4e0d\u662fGroup\u7684\u8282\u70b9\u4e0d\u80fd\u89e3\u6563\n                if (node.getProp(\'isGroup\') !== true) {\n                    return { err: \'target node is not group\' };\n                }\n                const { isCollapsed } = node.getData();\n                if (isCollapsed) {\n                    yield commandService.executeCommand(XFlowGroupCommands.COLLAPSE_GROUP.id, {\n                        nodeId: node.id,\n                        isCollapsed: false,\n                        collapsedSize: { width: 0, height: 0 },\n                    });\n                }\n                const childrens = node.getChildren();\n                if (childrens) {\n                    childrens.forEach(child => {\n                        node.unembed(child);\n                        child.prop(\'group\', \'\');\n                        child.setData(Object.assign(Object.assign({}, child.getData()), { group: \'\' }));\n                    });\n                }\n                yield commandService.executeCommand(XFlowNodeCommands.DEL_NODE.id, {\n                    nodeConfig,\n                });\n                /** add undo: delete node */\n                ctx.addUndo(Disposable.create(() => group_del_awaiter(this, void 0, void 0, function* () {\n                    commandService.executeCommand(XFlowGroupCommands.ADD_GROUP.id, {\n                        nodeConfig,\n                    });\n                })));\n                return { err: null };\n            }), runtimeHook);\n            ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => group_del_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            if (this.isUndoable()) {\n                ctx.undo();\n            }\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => group_del_awaiter(this, void 0, void 0, function* () {\n            if (!this.isUndoable()) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    isUndoable() {\n        const ctx = this.contextProvider();\n        return ctx.isUndoable();\n    }\n};\ngroup_del_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    group_del_metadata("design:type", Object)\n], group_del_DelGroupCommand.prototype, "contextProvider", void 0);\ngroup_del_DelGroupCommand = group_del_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: group_del_NsDelGroup.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], group_del_DelGroupCommand);\n\n//# sourceMappingURL=group-del.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/group/group-init.js\nvar group_init_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar group_init_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar group_init_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar group_init_NsInitGroup;\n(function (NsInitGroup) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsInitGroup.command = XFlowGroupCommands.INIT_GROUP;\n    /** hookName */\n    NsInitGroup.hookKey = \'initGroup\';\n})(group_init_NsInitGroup || (group_init_NsInitGroup = {}));\nlet group_init_InitGroupCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass InitGroupCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => group_init_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            const result = yield hooks.initGroup.call(args, (handlerArgs) => group_init_awaiter(this, void 0, void 0, function* () {\n                const { graphData, commandService } = handlerArgs;\n                const graph = yield ctx.getX6Graph();\n                const { nodes } = graphData;\n                const groupMap = {};\n                nodes.forEach(node => {\n                    const { id, group } = node;\n                    if (group) {\n                        if (groupMap[group]) {\n                            groupMap[group].push(id);\n                        }\n                        else {\n                            groupMap[group] = [id];\n                        }\n                    }\n                });\n                Object.keys(groupMap).forEach((groupId) => group_init_awaiter(this, void 0, void 0, function* () {\n                    const groupNode = graph.getCellById(groupId);\n                    const groupData = groupNode.getData();\n                    const childrenIds = groupMap[groupId] || [];\n                    // \u66f4\u65b0props\n                    groupNode.prop(\'isGroup\', true);\n                    groupNode.setData(Object.assign(Object.assign({}, groupData), { isGroup: true, groupChildren: childrenIds }));\n                    childrenIds.forEach(childId => {\n                        const child = graph.getCellById(childId);\n                        groupNode.embed(child);\n                    });\n                    // Group\u7f6e\u4e8e\u5e95\u5c42\n                    groupNode.toBack();\n                    // collapse\n                    const { isCollapsed, groupCollapsedSize } = groupData;\n                    if (isCollapsed) {\n                        const collapsedSize = handlerArgs.collapsedSize || groupCollapsedSize || XFLOW_GROUP_DEFAULT_COLLAPSED_SIZE;\n                        yield commandService.executeCommand(XFlowGroupCommands.COLLAPSE_GROUP.id, {\n                            collapsedSize,\n                            isCollapsed: true,\n                            nodeId: groupNode.id,\n                        });\n                    }\n                }));\n                return {};\n            }), runtimeHook);\n            ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => group_init_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            if (this.isUndoable()) {\n                ctx.undo();\n            }\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => group_init_awaiter(this, void 0, void 0, function* () {\n            if (!this.isUndoable()) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    isUndoable() {\n        const ctx = this.contextProvider();\n        return ctx.isUndoable();\n    }\n};\ngroup_init_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    group_init_metadata("design:type", Object)\n], group_init_InitGroupCommand.prototype, "contextProvider", void 0);\ngroup_init_InitGroupCommand = group_init_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: group_init_NsInitGroup.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], group_init_InitGroupCommand);\n\n//# sourceMappingURL=group-init.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/group/group-toggle-collapse.js\nvar group_toggle_collapse_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar group_toggle_collapse_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar group_toggle_collapse_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\nvar group_toggle_collapse_NsCollapseGroup;\n(function (NsCollapseGroup) {\n    NsCollapseGroup.command = XFlowGroupCommands.COLLAPSE_GROUP;\n    NsCollapseGroup.hookKey = \'collapseGroup\';\n})(group_toggle_collapse_NsCollapseGroup || (group_toggle_collapse_NsCollapseGroup = {}));\nlet group_toggle_collapse_CollapseGroupCommand = \n/** \u6dfb\u52a0\u5b50\u8282\u70b9\u547d\u4ee4 */\nclass CollapseGroupCommand {\n    constructor() {\n        this.toggleVisible = (cells, visible, graph) => {\n            cells.forEach(cell => {\n                const view = graph.findViewByCell(cell).container;\n                view.style.visibility = visible ? \'visible\' : \'hidden\';\n            });\n        };\n        this.toggleCollapse = (groupNode, graph, args) => {\n            const childrens = groupNode.getChildren().filter(n => n.isNode());\n            const groupData = groupNode.getData();\n            const { isCollapsed, gap = 0 } = args;\n            if (isCollapsed) {\n                const collapsedSize = args.collapsedSize || groupData.groupCollapsedSize || XFLOW_GROUP_DEFAULT_COLLAPSED_SIZE;\n                groupNode.prop(\'previousSize\', groupNode.size());\n                groupNode.size(collapsedSize);\n            }\n            else {\n                groupNode.size(groupNode.prop(\'previousSize\'));\n            }\n            if (childrens) {\n                childrens.forEach(item => {\n                    const position = groupNode.position();\n                    const innerEdges = graph.getConnectedEdges(item).filter(edge => {\n                        const sourceNode = edge.getSourceNode();\n                        const targetNode = edge.getTargetNode();\n                        return childrens.includes(sourceNode) && childrens.includes(targetNode);\n                    });\n                    if (isCollapsed) {\n                        this.toggleVisible([item, ...innerEdges], false, graph);\n                        item.prop(\'previousSize\', item.size());\n                        item.prop(\'previousRelativePosition\', item.position({ relative: true }));\n                        item.position(position.x + gap, position.y + gap);\n                        const size = groupNode.size();\n                        item.size({\n                            width: size.width - gap * 2,\n                            height: size.height - gap * 2,\n                        });\n                    }\n                    else {\n                        this.toggleVisible([item, ...innerEdges], true, graph);\n                        const pos = item.prop(\'previousRelativePosition\');\n                        const size = item.prop(\'previousSize\');\n                        item.position(pos.x, pos.y, { relative: true });\n                        item.size(size);\n                    }\n                });\n            }\n            groupNode.prop(\'isCollapsed\', isCollapsed);\n            groupNode.setData(Object.assign(Object.assign({}, groupNode.getData()), { isCollapsed }));\n        };\n        this.execute = () => group_toggle_collapse_awaiter(this, void 0, void 0, function* () {\n            const { args, hooks: runtimeHook } = this.ctx.getArgs();\n            const hooks = this.ctx.getHooks();\n            const result = yield hooks.collapseGroup.call(args, (handlerArgs) => group_toggle_collapse_awaiter(this, void 0, void 0, function* () {\n                const x6Graph = yield this.ctx.getX6Graph();\n                const node = x6Graph.getCellById(args.nodeId);\n                const { toggleService } = handlerArgs;\n                if (toggleService) {\n                    const canToggle = yield toggleService(handlerArgs);\n                    if (!canToggle)\n                        return { err: \'service rejected\' };\n                }\n                if (node) {\n                    this.toggleCollapse(node, x6Graph, args);\n                    this.ctx.addUndo(Disposable.create(() => group_toggle_collapse_awaiter(this, void 0, void 0, function* () {\n                        if (node) {\n                            this.toggleCollapse(node, x6Graph, Object.assign(args, { isCollapsed: !args.isCollapsed }));\n                        }\n                    })));\n                }\n                return { err: null };\n            }), runtimeHook);\n            this.ctx.setResult(result);\n            return this;\n        });\n        this.undo = () => group_toggle_collapse_awaiter(this, void 0, void 0, function* () {\n            this.ctx.undo();\n            return this;\n        });\n        this.redo = () => group_toggle_collapse_awaiter(this, void 0, void 0, function* () {\n            if (!this.ctx.isUndoable) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    init() {\n        this.ctx = this.contextProvider();\n    }\n    isUndoable() {\n        return this.ctx.isUndoable();\n    }\n};\ngroup_toggle_collapse_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    group_toggle_collapse_metadata("design:type", Object)\n], group_toggle_collapse_CollapseGroupCommand.prototype, "contextProvider", void 0);\ngroup_toggle_collapse_decorate([\n    Object(index_esm["postConstruct"])(),\n    group_toggle_collapse_metadata("design:type", Function),\n    group_toggle_collapse_metadata("design:paramtypes", []),\n    group_toggle_collapse_metadata("design:returntype", void 0)\n], group_toggle_collapse_CollapseGroupCommand.prototype, "init", null);\ngroup_toggle_collapse_CollapseGroupCommand = group_toggle_collapse_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: group_toggle_collapse_NsCollapseGroup.command.id },\n    })\n    /** \u6dfb\u52a0\u5b50\u8282\u70b9\u547d\u4ee4 */\n], group_toggle_collapse_CollapseGroupCommand);\n\n//# sourceMappingURL=group-toggle-collapse.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/group/index.js\n\n\n\n\n/** \u6ce8\u518cCommand Handler Class */\nconst registerGroupCommand = (register) => {\n    register(group_add_AddGroupCommand);\n    register(group_del_DelGroupCommand);\n    register(group_init_InitGroupCommand);\n    register(group_toggle_collapse_CollapseGroupCommand);\n};\n/** app onStart \u65f6, \u6ce8\u518c Command Hooks */\nconst group_hookhubList = [group_add_NsAddGroup, group_del_NsDelGroup, group_init_NsInitGroup, group_toggle_collapse_NsCollapseGroup];\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/models/update-model.js\nvar update_model_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar update_model_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar update_model_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\nvar update_model_NsUpdateModelCommand;\n(function (NsUpdateModelCommand) {\n    /** Command: \u7528\u4e8e\u6ce8\u518cnamed factory */\n    NsUpdateModelCommand.command = XFlowModelCommands.UPDATE_MODEL;\n    /** hookName */\n    NsUpdateModelCommand.hookKey = \'updateModel\';\n})(update_model_NsUpdateModelCommand || (update_model_NsUpdateModelCommand = {}));\nlet update_model_UpdateModelCommand = \n/** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\nclass UpdateModelCommand {\n    constructor() {\n        /** \u6267\u884cCmd */\n        this.execute = () => update_model_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            const { args, hooks: runtimeHook } = ctx.getArgs();\n            const hooks = ctx.getHooks();\n            const result = yield hooks.updateModel.call(args, (handlerArgs) => update_model_awaiter(this, void 0, void 0, function* () {\n                const { updateModel, getModel, modelService } = handlerArgs;\n                const model = yield getModel(modelService);\n                const currentValue = model.getValue();\n                const draft = Object(immer_esm["a" /* createDraft */])(currentValue);\n                yield updateModel(draft);\n                const newValue = Object(immer_esm["c" /* finishDraft */])(draft);\n                model.setValue(newValue);\n                ctx.addUndo(Disposable.create(() => update_model_awaiter(this, void 0, void 0, function* () {\n                    model.setValue(newValue);\n                })));\n                return { model, value: newValue };\n            }), runtimeHook);\n            ctx.setResult(result);\n            return this;\n        });\n        /** undo cmd */\n        this.undo = () => update_model_awaiter(this, void 0, void 0, function* () {\n            const ctx = this.contextProvider();\n            if (this.isUndoable()) {\n                ctx.undo();\n            }\n            return this;\n        });\n        /** redo cmd */\n        this.redo = () => update_model_awaiter(this, void 0, void 0, function* () {\n            if (!this.isUndoable()) {\n                yield this.execute();\n            }\n            return this;\n        });\n    }\n    isUndoable() {\n        const ctx = this.contextProvider();\n        return ctx.isUndoable();\n    }\n};\nupdate_model_decorate([\n    Object(index_esm["inject"])(ICommandContextProvider),\n    update_model_metadata("design:type", Object)\n], update_model_UpdateModelCommand.prototype, "contextProvider", void 0);\nupdate_model_UpdateModelCommand = update_model_decorate([\n    Object(index_esm["injectable"])({\n        token: { token: ICommandHandler, named: update_model_NsUpdateModelCommand.command.id },\n    })\n    /** \u521b\u5efa\u8282\u70b9\u547d\u4ee4 */\n], update_model_UpdateModelCommand);\n\nconst execCmd = () => { };\n//# sourceMappingURL=update-model.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/models/index.js\n/** commands */\n\n/** \u6ce8\u518cCommand Handler Class */\nconst registerModelServiceCommand = (register) => {\n    register(update_model_UpdateModelCommand);\n};\n/** app onStart \u65f6, \u6ce8\u518c Command Hooks */\nconst models_hookhubList = [update_model_NsUpdateModelCommand];\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/command-contribution.js\nvar command_contribution_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar command_contribution_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar command_contribution_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/* eslint-disable @typescript-eslint/no-redeclare */\n\n/** Application \u6269\u5c55\u4f9d\u8d56 */\n\n\n\n\n/** Commands */\n\n\n\n\n\n/** Command Hooks*/\n\n\n/** Commands \u914d\u7f6e\u9879\u76ee*/\nconst command_contribution_hookhubList = [...hookhubList, ...edge_hookhubList, ...group_hookhubList, ...graph_hookhubList, ...models_hookhubList];\nconst defaultHookFactory = () => new es_HookHub();\nlet command_contribution_XFlowCommandContribution = class XFlowCommandContribution {\n    constructor() {\n        this.registerHook = (hooks) => command_contribution_awaiter(this, void 0, void 0, function* () {\n            const d = hooks.x6Events.registerHook({\n                name: \'bind group node move event\',\n                handler: (args) => command_contribution_awaiter(this, void 0, void 0, function* () {\n                    const event = {\n                        eventName: \'node:moving\',\n                        callback: ({ node }) => command_contribution_awaiter(this, void 0, void 0, function* () {\n                            const isGroup = node.prop(\'isGroup\');\n                            if (isGroup) {\n                                node.prop(\'originPosition\', node.getPosition());\n                                return;\n                            }\n                            const graph = node.model.graph;\n                            const { group: groupId } = node.getData();\n                            const group = graph.getNodes().find(cell => cell.id === groupId);\n                            if (!group) {\n                                return;\n                            }\n                            const isCollapsed = group.getProp(\'isCollapsed\');\n                            let originSize = group.getProp(\'originSize\');\n                            let hasChange = false;\n                            if (originSize == null) {\n                                originSize = group.size();\n                                group.prop(\'originSize\', originSize);\n                            }\n                            let originPosition = group.prop(\'originPosition\');\n                            if (originPosition == null) {\n                                originPosition = group.getPosition();\n                                group.prop(\'originPosition\', originPosition);\n                            }\n                            let x = originPosition.x;\n                            let y = originPosition.y;\n                            let cornerX = originPosition.x + originSize.width;\n                            let cornerY = originPosition.y + originSize.height;\n                            const childs = group.getChildren();\n                            if (childs) {\n                                childs.forEach(child => {\n                                    const bbox = child.getBBox().inflate(12);\n                                    const corner = bbox.getCorner();\n                                    if (bbox.x < x) {\n                                        x = bbox.x;\n                                        hasChange = true;\n                                    }\n                                    if (bbox.y < y) {\n                                        y = bbox.y;\n                                        hasChange = true;\n                                    }\n                                    if (corner.x > cornerX) {\n                                        cornerX = corner.x;\n                                        hasChange = true;\n                                    }\n                                    if (corner.y > cornerY) {\n                                        cornerY = corner.y;\n                                        hasChange = true;\n                                    }\n                                });\n                            }\n                            if (hasChange) {\n                                group.prop({\n                                    position: { x, y },\n                                    size: { width: cornerX - x, height: cornerY - y },\n                                });\n                                const groupData = Object.assign(Object.assign({}, group.getData()), { x,\n                                    y, width: cornerX - x, height: cornerY - y });\n                                if (isCollapsed !== true) {\n                                    groupData.groupChildrenSize = { width: cornerX - x, height: cornerY - y };\n                                }\n                                group.setData(groupData);\n                            }\n                            /**\n                             *  updateNodeData:\n                             *  1. \u6298\u53e0\u65f6\u79fb\u52a8\u66f4\u65b0xy\uff0csize\u9700\u8981\u66f4\u65b0\uff0cchildrenSize\u4e0d\u53d8\n                             *  2. \u5c55\u5f00\u65f6\n                             *      - \u79fb\u52a8Group\u66f4\u65b0xy\uff0csize\u4e0d\u9700\u8981\u66f4\u65b0\uff0cchildrenSize\u4e0d\u66f4\u65b0\n                             *      - \u79fb\u52a8children, \u66f4\u65b0xy, size childrenSize\n                             */\n                        }),\n                    };\n                    args.push(event);\n                }),\n            });\n            return Disposable.create(() => {\n                d.dispose();\n            });\n        });\n        this.registerHookHub = (registry) => command_contribution_awaiter(this, void 0, void 0, function* () {\n            const toDispose = new disposable_DisposableCollection();\n            command_contribution_hookhubList.forEach(({ hookKey, createHook = defaultHookFactory }) => {\n                const d = registry.registerHookHub(hookKey, createHook());\n                toDispose.push(d);\n            });\n            this.commandConfig.getConfig().then(({ getContributions }) => {\n                const CommandContributions = getContributions();\n                CommandContributions.forEach(({ hookKey, createHook = defaultHookFactory }) => {\n                    const d = registry.registerHookHub(hookKey, createHook());\n                    toDispose.push(d);\n                });\n            });\n            return toDispose;\n        });\n    }\n    /** \u6ce8\u518c\u753b\u5e03\u8282\u70b9\u547d\u4ee4 */\n    registerGraphCommands(registry) {\n        command_contribution_hookhubList.forEach(({ command }) => {\n            registry.registerCommand(command, {\n                createCommand: this.commandFactory,\n            });\n        });\n        this.commandConfig.getConfig().then(({ getContributions }) => {\n            const CommandContributions = getContributions();\n            CommandContributions.forEach(cmd => {\n                registry.registerCommand(cmd.command, {\n                    createCommand: this.commandFactory,\n                });\n            });\n        });\n    }\n};\ncommand_contribution_decorate([\n    Object(index_esm["inject"])(IGraphCommandFactory),\n    command_contribution_metadata("design:type", Function)\n], command_contribution_XFlowCommandContribution.prototype, "commandFactory", void 0);\ncommand_contribution_decorate([\n    Object(index_esm["inject"])(config_CommandConfig),\n    command_contribution_metadata("design:type", config_CommandConfig\n    /** \u6ce8\u518c\u753b\u5e03\u8282\u70b9\u547d\u4ee4 */\n    )\n], command_contribution_XFlowCommandContribution.prototype, "commandConfig", void 0);\ncommand_contribution_XFlowCommandContribution = command_contribution_decorate([\n    Object(index_esm["singleton"])({ contrib: [IGraphCommandContribution, IHookContribution] })\n], command_contribution_XFlowCommandContribution);\n\nconst registerXFlowCommandContribution = (register, commandConfig) => {\n    /** \u6269\u5c55 \u7528\u6237\u81ea\u5b9a\u4e49\u547d\u4ee4 */\n    const configContributions = commandConfig.getCommandContributions();\n    configContributions.forEach(execution => {\n        const { CommandHandler, command } = execution;\n        register({\n            token: { token: ICommandHandler, named: command.id },\n            useClass: CommandHandler,\n        });\n    });\n    /** \u6269\u5c55 Graph \u547d\u4ee4 */\n    registerGraphCommand(register);\n    /** \u6269\u5c55 Node \u547d\u4ee4 */\n    registerNodeCommand(register);\n    /** \u6269\u5c55 Edge \u547d\u4ee4 */\n    registerEdgeCommand(register);\n    /** \u6269\u5c55 Edge \u547d\u4ee4 */\n    registerGroupCommand(register);\n    /** \u6269\u5c55 Observable \u547d\u4ee4 */\n    registerModelServiceCommand(register);\n    /** \u6ce8\u518c XFlowCommandContribution */\n    register(command_contribution_XFlowCommandContribution);\n};\n//# sourceMappingURL=command-contribution.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/module.js\n\n/** Application \u6269\u5c55\u4f9d\u8d56 */\n\n\n\n\n\n\n/** \u4f9d\u8d56\u6269\u5c55\u6a21\u5757\uff0c\u5fc5\u987b\u8981\u52a0\u8f7d */\nconst command_contributions_module_createModule = (commandConfig) => {\n    return Object(index_esm["Module"])(register => {\n        /** \u6ce8\u518c mapping helper */\n        register(GraphMappingHelper);\n        /** \u6ce8\u518c CommandConfig */\n        registerCommandConfig(register, commandConfig);\n        /** \u6ce8\u518c Command\u6269\u5c55 */\n        registerXFlowCommandContribution(register, commandConfig);\n        /** \u6ce8\u518c Context Clz */\n        register(cmd_context_CmdContext);\n        /** ICommandHandler \u5de5\u5382 */\n        register(IGraphCommandFactory, {\n            useFactory: context => {\n                return (commandId, args, hook) => {\n                    const child = context.container.createChild();\n                    /** \u5b9e\u4f8b\u5316 Context */\n                    const cmdContext = child.get(cmd_context_CmdContext);\n                    /** \u7ed1\u5b9a CommandContext \u5de5\u5382\u7c7b */\n                    child.register(ICommandContextProvider, {\n                        useDynamic: () => {\n                            return () => cmdContext;\n                        },\n                    });\n                    /** \u5b9e\u4f8b\u5316CommandHandler */\n                    const commandHandler = child.getNamed(ICommandHandler, commandId);\n                    /** \u8bbe\u7f6e\u53c2\u6570 */\n                    cmdContext.setArgs(args, hook);\n                    /** \u7ed1\u5b9a\u5173\u7cfb */\n                    cmdContext.handlerInstance = commandHandler;\n                    return commandHandler;\n                };\n            },\n        });\n    });\n};\n//# sourceMappingURL=module.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/components/index.js\n\n\n\n\nconst CommandsRegistry = props => {\n    /** \u751f\u6210\u914d\u7f6e\u4e2d\u5fc3 */\n    const extensionRegistry = useExtensionRegistry();\n    /** \u83b7\u53d6ContextMenu\u7684\u914d\u7f6e */\n    const config = react_default.a.useMemo(() => (props.config ? props.config : new config_CommandConfig()), \n    /* eslint-disable-next-line  */\n    []);\n    react_default.a.useEffect(() => {\n        extensionRegistry.addCoreModule({\n            config: config,\n            createModule: command_contributions_module_createModule,\n        });\n        /* eslint-disable-next-line  */\n    }, []);\n    return null;\n};\nconst createCmdConfig = (addOptions) => (value) => {\n    /** bridge config and value */\n    const valueContainer = react_default.a.useMemo(() => ({ getValue: () => ({}) }), []);\n    valueContainer.getValue = () => value;\n    const hookConfig = react_default.a.useMemo(() => {\n        const config = new config_CommandConfig();\n        addOptions(config, valueContainer);\n        return config;\n    }, [valueContainer]);\n    return hookConfig;\n};\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/command-contributions/index.js\n/** Command addReactNode \u4f9d\u8d56\u7684 React.Context */\n\n/** Command \u7ec4\u4ef6 */\n\n// \u7ec4\u4ef6props\u4e2d\u7684Config\n\n/** \u5e38\u91cf */\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/toolbar/interface.js\n\n/** IToolbarService: \u7528\u4e8e\u6ce8\u518c/\u6d88\u8d39item */\nconst IToolbarService = Symbol(\'IToolbarService\');\n/**\n * Clients should implement this interface if they want to contribute to the tab-bar toolbar.\n */\nconst IToolbarContribution = index_esm["Syringe"].defineToken(\'IToolbarContribution\');\n//# sourceMappingURL=interface.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/lodash/debounce.js\nvar lodash_debounce = __webpack_require__("RNvQ");\nvar debounce_default = /*#__PURE__*/__webpack_require__.n(lodash_debounce);\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/lodash/cloneDeep.js\nvar cloneDeep = __webpack_require__("c2re");\nvar cloneDeep_default = /*#__PURE__*/__webpack_require__.n(cloneDeep);\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/lodash/isBoolean.js\nvar isBoolean = __webpack_require__("p6M4");\nvar isBoolean_default = /*#__PURE__*/__webpack_require__.n(isBoolean);\n\n// CONCATENATED MODULE: ../xflow-core/es/toolbar/toolbar-registry.js\nvar toolbar_registry_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar toolbar_registry_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Main, shared registry for toolbar items.\n */\nlet toolbar_registry_ToolbarRegistry = class ToolbarRegistry {\n    constructor() {\n        /** disposables */\n        this.toDispose = new disposable_DisposableCollection();\n        /** \u50a8\u5b58\u6240\u6709toolbar items */\n        this.toolbarItems = new Map();\n        /** \u6ce8\u518cToolbarRegistry\u7684onChange\u7684\u4e8b\u4ef6 */\n        this.onDidChangeEvent = new rx_model_RxModel(null);\n        /** \u901a\u8fc7ToolbarRegistry.onDidChange\u76d1\u542cToolbarRegistry items\u7684\u53d8\u5316  */\n        this.onDidChange = this.onDidChangeEvent.watch;\n        /** debounce in order to avoid to fire more than once in the same tick */\n        this.fireOnDidChange = debounce_default()(() => this.onDidChangeEvent.setValue(undefined), 16);\n        /**\n         * \u6279\u91cf\u6ce8\u518c\u53ef\u5355\u72ecdispose\u7684\u6269\u5c55\u9879\u76ee\n         * @param externalRegisterFn IRegisterMenuFunction\n         */\n        this.registerDisposableToolbar = (externalRegisterFn) => {\n            const toDispose = new disposable_DisposableCollection();\n            const disposableRegistry = {\n                registerToolbarItem: config => {\n                    const disposable = this.registerItem(config);\n                    toDispose.push(disposable);\n                    return disposable;\n                },\n            };\n            externalRegisterFn(disposableRegistry);\n            this.toDispose.push(toDispose);\n            return toDispose;\n        };\n        /**\n         * \u83b7\u53d6 ToolbarModel\n         * @param toolbarConfig IToolbarOptions\n         */\n        this.getToolbarModel = (toolbarConfig) => {\n            const { layout, mainGroups = [], extraGroups = [] } = toolbarConfig;\n            return new rx_model_RxModel({\n                layout,\n                mainGroups: this.createToolbarGroupModel(mainGroups),\n                extraGroups: this.createToolbarGroupModel(extraGroups),\n            });\n        };\n        /**\n         * \u521b\u5efa ToolbarModel\n         * @param groups IToolbarGroupOptions[]\n         */\n        this.createToolbarGroupModel = (groups) => {\n            const groupModels = groups.map(group => {\n                const { items = [] } = group;\n                return Object.assign(Object.assign({}, group), { items: items.map(item => this.createToolbarModel({ id: item.id })).filter(i => !!i) });\n            });\n            return groupModels;\n        };\n    }\n    /** App\u542f\u52a8\u65f6\uff0c\u6536\u96c6Toolbar\u6269\u5c55\u70b9\u7684\u6ce8\u518c\u9879 */\n    onStart() {\n        const contributions = this.contributionProvider.getContributions();\n        for (const contribution of contributions) {\n            contribution.registerToolbarItems(this);\n        }\n    }\n    /**\n     * App \u9500\u6bc1\u65f6\u8c03\u7528\n     * dispose toolbarProvider\n     */\n    onStop() {\n        this.toDispose.dispose();\n    }\n    /**\n     * \u6ce8\u518cToolbarItem\n     * item\u6240\u9700\u7684command\u9700\u8981\u63d0\u524d\u5728command registry\u6ce8\u518c\n     * @param config IToolbarItem\n     */\n    registerItem(config) {\n        if (this.toolbarItems.has(config.id)) {\n            console.warn(`ToolbarRegistry ${config.id} is duplicated, in`, config);\n        }\n        /** \u6ce8\u518c */\n        this.toolbarItems.set(config.id, config);\n        /** \u901a\u77e5\u66f4\u65b0 */\n        this.fireOnDidChange();\n        const toDispose = new disposable_DisposableCollection(Disposable.create(() => this.fireOnDidChange()), Disposable.create(() => this.toolbarItems.delete(config.id)));\n        return toDispose;\n    }\n    /**\n     * \u521b\u5efa ToolbarModel\n     * @param option IToolbarItem\n     */\n    createToolbarModel(option) {\n        const item = cloneDeep_default()(this.toolbarItems.get(option.id));\n        const isEnabled = isBoolean_default()(item.isEnabled) ? item.isEnabled : true;\n        const isVisible = isBoolean_default()(item.isVisible) ? item.isVisible : true;\n        const toolbarItem = Object.assign(Object.assign({}, item), { isEnabled: isEnabled, isVisible: isVisible, iconName: item.iconName, text: item.text });\n        return toolbarItem;\n    }\n};\ntoolbar_registry_decorate([\n    Object(index_esm["inject"])(IGraphCommandService),\n    toolbar_registry_metadata("design:type", Object)\n], toolbar_registry_ToolbarRegistry.prototype, "commandService", void 0);\ntoolbar_registry_decorate([\n    Object(index_esm["inject"])(IModelService),\n    toolbar_registry_metadata("design:type", Object)\n], toolbar_registry_ToolbarRegistry.prototype, "modelService", void 0);\ntoolbar_registry_decorate([\n    Object(index_esm["contrib"])(IToolbarContribution),\n    toolbar_registry_metadata("design:type", Object)\n], toolbar_registry_ToolbarRegistry.prototype, "contributionProvider", void 0);\ntoolbar_registry_ToolbarRegistry = toolbar_registry_decorate([\n    Object(index_esm["singleton"])({ contrib: [IFrontendApplicationContribution, IToolbarService] })\n], toolbar_registry_ToolbarRegistry);\n\n//# sourceMappingURL=toolbar-registry.js.map\n// CONCATENATED MODULE: ../xflow-core/es/toolbar/module.js\n\n/** Application \u6269\u5c55\u4f9d\u8d56 */\n/** Toolbar\u6269\u5c55\u70b9\u4f9d\u8d56 */\n\n\n\n\n/** \u4f9d\u8d56\u6269\u5c55\u6a21\u5757\uff0c\u5fc5\u987b\u8981\u52a0\u8f7d */\nconst toolbar_module_createModule = () => {\n    return Object(index_esm["Module"])(register => {\n        /** \u6ce8\u518c IToolbarContribution\u6269\u5c55\u70b9 */\n        index_esm["Contribution"].register(register, IToolbarContribution);\n        /** \u6ce8\u518c ToolbarRegistry \u5230 IFrontendApplicationContribution */\n        /** \u6ce8\u518c ToolbarRegistry */\n        register(toolbar_registry_ToolbarRegistry);\n    });\n};\n//# sourceMappingURL=module.js.map\n// CONCATENATED MODULE: ../xflow-core/es/toolbar/components/index.js\nvar components_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nconst components_ToolbarRegistry = props => {\n    const {} = props;\n    /** \u83b7\u53d6\u914d\u7f6e\u4e2d\u5fc3 */\n    const extensionRegistry = useExtensionRegistry();\n    react_default.a.useEffect(() => {\n        const disposable = extensionRegistry.addCoreModule({\n            config: { CONFIG_TYPE: \'ToolbarRegistry\', getConfig: () => components_awaiter(void 0, void 0, void 0, function* () { }) },\n            createModule: toolbar_module_createModule,\n        });\n        return () => {\n            disposable.dispose();\n        };\n    }, [extensionRegistry]);\n    return null;\n};\ncomponents_ToolbarRegistry.defaultProps = { XFlowModuleType: \'ToolbarRegistry\' };\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/toolbar/index.js\n\n\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/menu/interface.js\n// utils\n\n/** rootMenuId */\nconst ROOT_MENU_ID = Symbol(\'xflow-menu-root\');\n/** Menu UI Model Service */\nconst IMenuService = Symbol(\'IMenuService\');\n/**\n * \u5e94\u8be5\u5b9e\u73b0\u8fd9\u4e2a\u6269\u5c55\u70b9\u6765\u6ce8\u518c\u66f4\u591a\u7684Menu\n */\nconst IMenuContribution = index_esm["Syringe"].defineToken(\'IMenuContribution\');\n/**  menu item type. */\nvar MenuItemType;\n(function (MenuItemType) {\n    MenuItemType["Separator"] = "separator";\n    MenuItemType["Submenu"] = "submenu";\n    MenuItemType["Root"] = "root";\n    MenuItemType["Leaf"] = "leaf";\n})(MenuItemType || (MenuItemType = {}));\n//# sourceMappingURL=interface.js.map\n// CONCATENATED MODULE: ../xflow-core/es/menu/menu-registry.js\nvar menu_registry_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar menu_registry_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\n\n\n\n\nlet menu_registry_MenuRegistry = class MenuRegistry {\n    constructor() {\n        /** disposables */\n        this.toDispose = new disposable_DisposableCollection();\n        /** menuMap */\n        this.menuMap = new Map();\n        /**\n         * \u83b7\u53d6 menu\n         * @param menuId menuId\n         */\n        this.getMenu = (menuId) => {\n            return this.menuMap.get(menuId);\n        };\n        /**\n         * \u6ce8\u518c\u4e00\u6279\u53ef\u5355\u72ecdispose\u7684\u6269\u5c55\u9879\u76ee\n         * @param externalRegisterFn IRegisterMenuFunction\n         */\n        this.registerDisposableMenu = (externalRegisterFn) => {\n            const toDispose = new disposable_DisposableCollection();\n            const disposableRegistry = {\n                registerMenu: (config) => {\n                    const disposable = this.registerMenu(config);\n                    toDispose.push(disposable);\n                    return disposable;\n                },\n            };\n            externalRegisterFn(disposableRegistry);\n            this.toDispose.push(toDispose);\n            return toDispose;\n        };\n    }\n    /** app\u542f\u52a8\u65f6\uff0c\u6536\u96c6menu\u6269\u5c55\u70b9\u7684\u6ce8\u518c\u9879 */\n    onStart() {\n        const contributions = this.contributionProvider.getContributions();\n        for (const contribution of contributions) {\n            contribution.registerMenu(this);\n        }\n    }\n    /** app\u7684\u505c\u6b62\u903b\u8f91 */\n    onStop() {\n        this.toDispose.dispose();\n    }\n    /**\n     * \u6ce8\u518c menu \u7c7b\u578b\n     * @param config IMenu\n     */\n    registerMenu(config) {\n        this.menuMap.set(config.id, config);\n        return Disposable.create(() => this.menuMap.delete(config.id));\n    }\n};\nmenu_registry_decorate([\n    Object(index_esm["contrib"])(IMenuContribution),\n    menu_registry_metadata("design:type", Object)\n], menu_registry_MenuRegistry.prototype, "contributionProvider", void 0);\nmenu_registry_MenuRegistry = menu_registry_decorate([\n    Object(index_esm["singleton"])({ contrib: [IFrontendApplicationContribution, IMenuService] })\n], menu_registry_MenuRegistry);\n\n//# sourceMappingURL=menu-registry.js.map\n// CONCATENATED MODULE: ../xflow-core/es/menu/module.js\n\n/** Application \u6269\u5c55\u4f9d\u8d56 */\n/** \u6269\u5c55 menu \u6ce8\u518c */\n\n\n\n/** \u4f9d\u8d56\u6269\u5c55\u6a21\u5757\uff0c\u5fc5\u987b\u8981\u52a0\u8f7d */\nconst menu_module_createModule = () => {\n    return Object(index_esm["Module"])(register => {\n        /** \u6ce8\u518c IMenuContribution \u6210\u4e3a\u4e00\u4e2a\u6269\u5c55\u70b9 */\n        index_esm["Contribution"].register(register, IMenuContribution);\n        /** \u6ce8\u518c MenuModelRegistry \u5230 IFrontendApplicationContribution */\n        /** \u6ce8\u518c MenuModelRegistry */\n        register(menu_registry_MenuRegistry);\n    });\n};\n//# sourceMappingURL=module.js.map\n// CONCATENATED MODULE: ../xflow-core/es/menu/components/index.js\nvar menu_components_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nconst components_MenuRegistry = props => {\n    const {} = props;\n    /** \u83b7\u53d6\u914d\u7f6e\u4e2d\u5fc3 */\n    const extensionRegistry = useExtensionRegistry();\n    react_default.a.useEffect(() => {\n        const disposable = extensionRegistry.addCoreModule({\n            config: { CONFIG_TYPE: \'MenuRegistry\', getConfig: () => menu_components_awaiter(void 0, void 0, void 0, function* () { }) },\n            createModule: menu_module_createModule,\n        });\n        return () => {\n            disposable.dispose();\n        };\n        /* eslint-disable-next-line  */\n    }, []);\n    return null;\n};\ncomponents_MenuRegistry.defaultProps = { XFlowModuleType: \'MenuRegistry\' };\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/menu/index.js\n\n\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/xflow-main/components/index.js\nvar xflow_main_components_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n/** app */\n\n\n/** app-extension */\n\n\n\n\n/** graph */\n\n/** command */\n\n\n/** hook */\n\n/** UI model */\n\n\nconst XFlow = props => {\n    const { meta, graphConfig, graphData, graphLayout, onLoad, isAutoCenter, hookConfig, modelServiceConfig, commandConfig, onAppConfigReady, onAppDestroy, children = [], className, } = props;\n    const [appRef, setAppRef] = react_default.a.useState();\n    /** XFlow App \u914d\u7f6e\u4e2d\u5fc3 */\n    const extensionRegistry = createExtensionRegistry();\n    /** didmount */\n    react_default.a.useEffect(() => {\n        /** before app start */\n        if (onAppConfigReady) {\n            onAppConfigReady(extensionRegistry);\n        }\n        /** \u521d\u59cb\u5316\u5e94\u7528 */\n        const app = initApp(extensionRegistry);\n        app.start().then(() => xflow_main_components_awaiter(void 0, void 0, void 0, function* () {\n            /** \u4fdd\u7559\u5f15\u7528 */\n            setAppRef(app);\n            /** \u81ea\u52a8\u6267\u884c load Meta */\n            if (meta) {\n                yield app.commandService.executeCommand(XFlowGraphCommands.LOAD_META.id, { meta });\n            }\n            /** after app start */\n            if (onLoad) {\n                onLoad(app, extensionRegistry);\n            }\n            if (graphData) {\n                if (graphLayout) {\n                    yield app.commandService.executeCommand(XFlowGraphCommands.GRAPH_LAYOUT.id, Object.assign({ graphData }, graphLayout));\n                }\n                yield app.commandService.executeCommand(XFlowGraphCommands.GRAPH_RENDER.id, { graphData });\n            }\n        }));\n        /** unmount */\n        const destroy = () => xflow_main_components_awaiter(void 0, void 0, void 0, function* () {\n            onAppDestroy && onAppDestroy(app);\n        });\n        return () => {\n            destroy();\n        };\n        /** \u4e0d\u8981\u5220 \u4fdd\u8bc1\u53ea\u751f\u6210\u4e00\u6b21 */\n        // eslint-disable-next-line\n    }, []);\n    /** \u81ea\u52a8\u66f4\u65b0meta */\n    react_default.a.useEffect(() => {\n        if (appRef) {\n            appRef.commandService.executeCommand(XFlowGraphCommands.LOAD_META.id, { meta });\n        }\n        /** \u4e0d\u8981\u5220 \u53ea\u548cmeta\u8054\u52a8 */\n        // eslint-disable-next-line\n    }, [meta]);\n    /** \u81ea\u52a8\u6e32\u67d3\u753b\u5e03\u5185\u5bb9 */\n    react_default.a.useEffect(() => {\n        const fn = () => xflow_main_components_awaiter(void 0, void 0, void 0, function* () {\n            if (appRef) {\n                if (graphData && graphLayout) {\n                    yield appRef.commandService.executeCommand(XFlowGraphCommands.GRAPH_LAYOUT.id, Object.assign({ graphData }, graphLayout));\n                }\n                yield appRef.commandService.executeCommand(XFlowGraphCommands.GRAPH_RENDER.id, {\n                    graphData,\n                });\n                /** \u81ea\u52a8\u5c45\u4e2d\u753b\u5e03\u5185\u5bb9 */\n                if (isAutoCenter) {\n                    const x6Graph = yield appRef.getGraphInstance();\n                    x6Graph.centerContent();\n                }\n            }\n        });\n        fn();\n        /** \u4e0d\u8981\u5220 \u53ea\u548cgraphData\u8054\u52a8 */\n        // eslint-disable-next-line\n    }, [graphData]);\n    /** classname */\n    const appClzName = classnames_default()(\'xflow-app-workspace\', className, ...extensionRegistry.getContainerClassNames());\n    /** \u5224\u65ad\u662f\u5426\u9700\u8981\u81ea\u52a8\u6e32\u67d3\u753b\u5e03\u7ec4\u4ef6, \u5750\u6807\u76f8\u5bf9\u4e8exflow-graph-root */\n    const hasCanvasComponent = (Array.isArray(children) ? children : [children]).some(child => {\n        return child && child.props.isXFlowCanvas;\n    });\n    return (react_default.a.createElement(XFlowAppInternalProvider, { app: appRef },\n        react_default.a.createElement(ExtensionRegistryContext.Provider, { value: extensionRegistry },\n            react_default.a.createElement("div", { className: appClzName, id: extensionRegistry.getInstaceId() },\n                !hasCanvasComponent && (react_default.a.createElement(XFlowCanvas, { config: graphConfig, position: { top: 0, bottom: 0, left: 0, right: 0 } })),\n                children,\n                react_default.a.createElement(ModelServiceRegistry, { config: modelServiceConfig }),\n                react_default.a.createElement(CommandsRegistry, { config: commandConfig }),\n                react_default.a.createElement(components_HookRegistry, { config: hookConfig }),\n                react_default.a.createElement(components_ToolbarRegistry, null),\n                react_default.a.createElement(components_MenuRegistry, null)))));\n};\nXFlow.defaultProps = {};\n/* harmony default export */ var components = (XFlow);\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/xflow-main/index.js\n\n\n/** \u901a\u8fc7context\u83b7\u53d6app */\n\n/** \u901a\u8fc7context \u6ce8\u518cExtension\u6a21\u5757 */\n\n/** XFlowAppExtension */\n\n/** classname  prefix  context */\n\n\n/** Graph \u914d\u7f6e */\n\n/** Application \u6269\u5c55\u4f9d\u8d56 */\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/common/rx-model-hook.js\nvar rx_model_hook_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n/** \u5224\u65admodel\u662f\u5426Mount */\nconst isRefMounted = (ref) => {\n    return ref && ref.current && ref.current.isMounted;\n};\n/** \u7528\u4e8e\u5224\u65admodel\u662f\u5426Mount */\nconst useIsMountedRef = () => {\n    /** \u8bb0\u5f55\u5f53\u524d\u7ec4\u4ef6\u7684\u52a0\u8f7d\u72b6\u6001 */\n    const ref = react_default.a.useRef({ isMounted: true });\n    react_default.a.useEffect(() => {\n        return () => {\n            ref.current.isMounted = false;\n        };\n    }, []);\n    return ref;\n};\n/** \u5224\u65admodel\u662f\u5426Mount */\nconst useModel = (model) => {\n    /** \u8bb0\u5f55\u5f53\u524d\u7ec4\u4ef6\u7684\u52a0\u8f7d\u72b6\u6001 */\n    const ref = useIsMountedRef();\n    const [state, setState] = react_default.a.useState(model.getValue());\n    react_default.a.useEffect(() => {\n        const disposeable = model.watch(val => {\n            if (isRefMounted(ref)) {\n                setState(val);\n            }\n        });\n        return () => {\n            disposeable.dispose();\n        };\n        /* eslint-disable-next-line  */\n    }, [setState]);\n    const value = state;\n    const canRender = rx_model_NsModel.isValidValue(value);\n    const setValue = react_default.a.useCallback(val => model.setValue(val), [model]);\n    return [value, setValue, canRender];\n};\n/** \u5728\u7ec4\u4ef6\u5185\u90e8\u65b0\u5efa\u4e00\u4e2amodel */\nconst createComponentModel = (initialState) => {\n    /* eslint-disable-next-line  */\n    const model = react_default.a.useMemo(() => new rx_model_RxModel(initialState), []);\n    /** model \u548c state \u7ed1\u5b9a\u89e6\u53d1view\u5237\u65b0 */\n    /* eslint-disable-next-line  */\n    const [modelValue, setModelValue, canRender] = useModel(model);\n    /** unMount\u65f6dispose */\n    /* eslint-disable-next-line  */\n    react_default.a.useEffect(() => {\n        return () => {\n            model.dispose();\n        };\n    }, [model]);\n    return [modelValue, setModelValue, model, canRender];\n};\n/**\n * useModelAsync\uff1a\n * watch model\u7684\u503c\uff0c\n * \u628amodel\u7684\u503c\u901a\u8fc7useState\u548c\u7ec4\u4ef6\u72b6\u6001\u5173\u8054\u8d77\u6765\n */\nconst useModelAsync = (args) => {\n    const { getModel, initialState } = args;\n    /** \u8bb0\u5f55\u5f53\u524d\u7ec4\u4ef6\u7684\u52a0\u8f7d\u72b6\u6001 */\n    const isMountedRef = useIsMountedRef();\n    const modelRef = react_default.a.useRef();\n    /** \u8ba2\u9605 model */\n    const [state, setState] = react_default.a.useState(initialState);\n    react_default.a.useEffect(() => {\n        let d;\n        getModel().then((model) => rx_model_hook_awaiter(void 0, void 0, void 0, function* () {\n            modelRef.current = model;\n            const newState = yield model.getValidValue();\n            if (!isMountedRef.current.isMounted) {\n                return;\n            }\n            setState(newState);\n            d = model.watch(val => {\n                if (isMountedRef.current.isMounted) {\n                    setState(val);\n                }\n            });\n        }));\n        return () => {\n            if (d && d.dispose) {\n                d.dispose();\n            }\n        };\n        /* eslint-disable-next-line  */\n    }, []);\n    return [state, setState, modelRef.current];\n};\n//# sourceMappingURL=rx-model-hook.js.map\n// CONCATENATED MODULE: ../xflow-core/es/keybinding/interface.js\n\nconst IKeyBindingService = Symbol(\'IKeyBindingService\');\n/** \u5b9e\u73b0\u8fd9\u4e2a\u6269\u5c55\u70b9\u6765\u6ce8\u518c\u66f4\u591a\u7684keybinding */\nconst IKeyBindingContribution = index_esm["Syringe"].defineToken(\'IKeyBindingContribution\');\nconst IKeyBindingOptionProvider = Symbol(\'IKeyBindingOptionProvider\');\n//# sourceMappingURL=interface.js.map\n// CONCATENATED MODULE: ../xflow-core/es/keybinding/keybinding-registry.js\nvar keybinding_registry_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar keybinding_registry_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar keybinding_registry_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\nlet keybinding_registry_KeyBindingRegistry = class KeyBindingRegistry {\n    constructor() {\n        /** disposables */\n        this.toDispose = new disposable_DisposableCollection();\n        /** disposables */\n        this.keyBindingMap = new Map();\n        /** disposables */\n        this.enabledKeyBindingMap = new Map();\n        /** \u6ce8\u518c\u7528\u6237\u5b9a\u4e49\u5728config\u4e2d\u7684keybinding */\n        this.registerExternalKeybindings = () => keybinding_registry_awaiter(this, void 0, void 0, function* () {\n            const { registerKeybindingFunc } = yield this.optionProvider.getOption();\n            return registerKeybindingFunc(this);\n        });\n        /** \u6ce8\u518c\u53efDispose\u7684Keybinding */\n        this.registerKeybinding = (keybindings = []) => {\n            const toDispose = new disposable_DisposableCollection();\n            keybindings.forEach(keybinding => {\n                /** \u6ce8\u518c Keybinding config */\n                this.keyBindingMap.set(keybinding.id, keybinding);\n                /** enable Keybinding */\n                this.enableKeyBindings(keybinding.id).then(d => {\n                    toDispose.push(Disposable.create(() => {\n                        d.dispose();\n                        this.keyBindingMap.delete(keybinding.id);\n                    }));\n                });\n            });\n            this.toDispose.push(toDispose);\n            return toDispose;\n        };\n        /**\n         * \u542f\u7528keybinding, \u7528\u4e8e\u89e6\u53d1command\n         * @param id contextId\n         */\n        this.enableKeyBindings = (keybindingId) => keybinding_registry_awaiter(this, void 0, void 0, function* () {\n            /** \u6e05\u7406\u540c\u6837\u7684\u952e\u76d8\u4e8b\u4ef6 */\n            this.disableKeyBindings([keybindingId]);\n            const keybinding = this.keyBindingMap.get(keybindingId);\n            const graph = yield this.getX6Graph();\n            /**\n             * x6\u6587\u6863\uff1ahttps://x6.antv.vision/zh/docs/api/graph/keyboard\n             * x6\u6e90\u7801\uff1apackages/x6/src/graph/keyboard.ts\n             */\n            const handler = this.runCommand(keybinding);\n            graph.bindKey(keybinding.keybinding, handler);\n            /** \u6ce8\u518cdisposable */\n            const toDispose = Disposable.create(() => {\n                graph.unbindKey(keybinding.keybinding);\n                this.enabledKeyBindingMap.delete(keybinding.id);\n            });\n            /** \u6ce8\u518cdisposable */\n            this.enabledKeyBindingMap.set(keybinding.id, toDispose);\n            return toDispose;\n        });\n        /**\n         * \u7981\u7528keybinding\n         */\n        this.disableKeyBindings = (ids) => {\n            ids.forEach(id => {\n                const disposable = this.enabledKeyBindingMap.get(id);\n                if (disposable) {\n                    disposable.dispose();\n                }\n            });\n        };\n        /**\n         * \u6267\u884ccommand\n         */\n        this.runCommand = (keybinding) => (e) => keybinding_registry_awaiter(this, void 0, void 0, function* () {\n            yield keybinding.callback(keybinding, this.modelService, this.commandService, e);\n        });\n        /**\n         * \u83b7\u53d6\u753b\u5e03\u5b9e\u4f8b\n         */\n        this.getX6Graph = () => keybinding_registry_awaiter(this, void 0, void 0, function* () {\n            const graphInstance = yield this.graphProvider.getGraphInstance();\n            return graphInstance;\n        });\n    }\n    /**\n     *  app\u542f\u52a8\u65f6, \u6ce8\u518ckeybinding\u7684\u6269\u5c55\n     */\n    onStart() {\n        const contributions = this.contributionProvider.getContributions();\n        for (const contribution of contributions) {\n            contribution.registerKeybinding(this);\n        }\n        this.registerExternalKeybindings();\n    }\n    /**\n     * app\u505c\u6b62\u7684\u903b\u8f91\n     */\n    onStop() {\n        this.toDispose.dispose();\n    }\n};\nkeybinding_registry_decorate([\n    Object(index_esm["inject"])(IKeyBindingOptionProvider),\n    keybinding_registry_metadata("design:type", Object)\n], keybinding_registry_KeyBindingRegistry.prototype, "optionProvider", void 0);\nkeybinding_registry_decorate([\n    Object(index_esm["inject"])(IGraphCommandService),\n    keybinding_registry_metadata("design:type", Object)\n], keybinding_registry_KeyBindingRegistry.prototype, "commandService", void 0);\nkeybinding_registry_decorate([\n    Object(index_esm["inject"])(IModelService),\n    keybinding_registry_metadata("design:type", Object)\n], keybinding_registry_KeyBindingRegistry.prototype, "modelService", void 0);\nkeybinding_registry_decorate([\n    Object(index_esm["contrib"])(IKeyBindingContribution),\n    keybinding_registry_metadata("design:type", Object)\n], keybinding_registry_KeyBindingRegistry.prototype, "contributionProvider", void 0);\nkeybinding_registry_decorate([\n    Object(index_esm["inject"])(IGraphProvider),\n    keybinding_registry_metadata("design:type", Object)\n], keybinding_registry_KeyBindingRegistry.prototype, "graphProvider", void 0);\nkeybinding_registry_KeyBindingRegistry = keybinding_registry_decorate([\n    Object(index_esm["singleton"])({ contrib: [IFrontendApplicationContribution, IKeyBindingService] })\n], keybinding_registry_KeyBindingRegistry);\n\n//# sourceMappingURL=keybinding-registry.js.map\n// CONCATENATED MODULE: ../xflow-core/es/keybinding/module.js\nvar keybinding_module_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/* eslint-disable @typescript-eslint/no-redeclare */\n\n/** Toolbar\u6269\u5c55\u70b9\u4f9d\u8d56 */\n\n\n\nconst registerKeybindingConfig = (register, config) => {\n    register(IKeyBindingOptionProvider, {\n        useDynamic: () => {\n            return {\n                getOption: () => keybinding_module_awaiter(void 0, void 0, void 0, function* () {\n                    return config.getConfig();\n                }),\n            };\n        },\n        lifecycle: index_esm["Syringe"].Lifecycle.singleton,\n    });\n};\n/** \u4f9d\u8d56\u6269\u5c55\u6a21\u5757\uff0c\u5fc5\u987b\u8981\u52a0\u8f7d */\nconst keybinding_module_createModule = (keyBindingConfig) => {\n    return Object(index_esm["Module"])(register => {\n        /** \u7ed1\u5b9a context \u914d\u7f6e */\n        registerKeybindingConfig(register, keyBindingConfig);\n        /** \u6ce8\u518c IContextContribution */\n        index_esm["Contribution"].register(register, IKeyBindingContribution);\n        /** \u6ce8\u518c KeyBindingRegistry \u5230 IFrontendApplicationContribution  */\n        /** \u6ce8\u518c KeyBindingRegistry */\n        /** \u6ce8\u518c KeyBindingRegistry alias  IKeybindingService */\n        register(keybinding_registry_KeyBindingRegistry);\n    });\n};\n//# sourceMappingURL=module.js.map\n// CONCATENATED MODULE: ../xflow-core/es/keybinding/config.js\nvar keybinding_config_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nvar NsContext;\n(function (NsContext) {\n    NsContext.CONFIG_TYPE = \'CONTEXT_CONFIG\';\n})(NsContext || (NsContext = {}));\nconst config_noop = () => Disposable.create(() => { });\nclass config_KeybindingConfig {\n    constructor() {\n        /** CONFIG_TYPE */\n        this.CONFIG_TYPE = NsContext.CONFIG_TYPE;\n        /** \u5916\u90e8\u6ce8\u518ccontext\u7684\u65b9\u6cd5 */\n        this.keybindingFunc = config_noop;\n        /** \u662f\u5426\u5df2\u52a0\u8f7d */\n        this.isMounted = new Deferred();\n        this.setKeybindingFunc = (fn) => {\n            this.keybindingFunc = fn;\n        };\n        this.setMountState = () => {\n            this.isMounted.resolve(true);\n        };\n        this.getConfig = () => keybinding_config_awaiter(this, void 0, void 0, function* () {\n            yield this.isMounted.promise;\n            return {\n                CONFIG_TYPE: this.CONFIG_TYPE,\n                registerKeybindingFunc: this.keybindingFunc,\n            };\n        });\n        this.dispose = () => {\n            this.keybindingFunc = config_noop;\n            this.isMounted = new Deferred();\n        };\n    }\n}\n//# sourceMappingURL=config.js.map\n// CONCATENATED MODULE: ../xflow-core/es/keybinding/components/index.js\n\n\n\n\nconst KeyBindings = props => {\n    const { config } = props;\n    /** \u83b7\u53d6\u914d\u7f6e\u4e2d\u5fc3 */\n    const extensionRegistry = useExtensionRegistry();\n    /** \u83b7\u53d6ContextService\u7684\u914d\u7f6e */\n    const keybindingConfig = react_default.a.useMemo(() => (config ? config : new config_KeybindingConfig()), [config]);\n    react_default.a.useEffect(() => {\n        const disposable = extensionRegistry.addCoreModule({\n            config: keybindingConfig,\n            createModule: keybinding_module_createModule,\n        });\n        /** resolve */\n        keybindingConfig.setMountState();\n        return () => {\n            disposable.dispose();\n            keybindingConfig.dispose();\n        };\n    }, [extensionRegistry, keybindingConfig]);\n    return null;\n};\nconst createKeybindingConfig = (addOptions) => (value) => {\n    /** bridge config and value */\n    const valueContainer = react_default.a.useMemo(() => ({ getValue: () => ({}) }), []);\n    valueContainer.getValue = () => value;\n    const hookConfig = react_default.a.useMemo(() => {\n        const config = new config_KeybindingConfig();\n        addOptions(config, valueContainer);\n        return config;\n    }, [valueContainer]);\n    return hookConfig;\n};\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/keybinding/index.js\n\n\n\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/common/delay.js\n// yield delay(1000)\nfunction delay(ms) {\n    return new Promise(resolve => setTimeout(() => resolve(true), ms));\n}\n//# sourceMappingURL=delay.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/QuestionCircleOutlined.js + 1 modules\nvar QuestionCircleOutlined = __webpack_require__("LxhF");\n\n// CONCATENATED MODULE: ../xflow-core/es/antd-icons/index.js\n\nclass antd_icons_IconStoreBase {\n    constructor() {\n        /** icon map */\n        this.map = new Map([\n            [\'default\', QuestionCircleOutlined["a" /* default */]],\n            [\'QuestionCircleOutlined\', QuestionCircleOutlined["a" /* default */]],\n        ]);\n        this.map.set(\'default\', QuestionCircleOutlined["a" /* default */]);\n        this.map.set(\'QuestionCircleOutlined\', QuestionCircleOutlined["a" /* default */]);\n    }\n    /** \u83b7\u53d6\u5168\u5c40\u7684icon component */\n    // @ts-ignore\n    get(id) {\n        const component = this.map.get(id);\n        return component;\n    }\n    /** \u8bbe\u7f6e\u5168\u5c40\u7684icon component */\n    set(id, component) {\n        this.map.set(id, component);\n    }\n    /** \u5224\u65ad\u662f\u5426\u6709\u503c */\n    has(id) {\n        return this.map.has(id);\n    }\n}\nconst IconStore = new antd_icons_IconStoreBase();\n/* harmony default export */ var antd_icons = (IconStore);\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-core/es/index.js\n// IOC\n\n\n/** XFlow \u57fa\u7840 interface */\n\n/*******************************************************\n * \u6838\u5fc3\u7ec4\u4ef6\uff1a\n * 1. Application\uff1aXFlow\n * 2. Application Extension\uff1aXFlowAppExtensionMoudle\n * 3. Graph\uff1aXFlowCanvas\n *****************************************************/\n\n/** graphProvider\uff1a\u6ce8\u5165Graph\u65f6 \u9700\u8981 */\n\n/** app\uff1a\u7528\u4e8eextension\u6269\u5c55*/\n\n/** Command Service */\n\n/** Command \u5e38\u91cf */\n\n/** React Node Context */\n\n/*******************************************************\n *  XFlow Hooks\uff1a \u94a9\u5b50\u51fd\u6570\n *****************************************************/\n\n/*******************************************************\n *  Model Service\uff1a\u5168\u5c40\u72b6\u6001\n *****************************************************/\n\n\n\n/*******************************************************\n *  Toolbar\uff1a\u5de5\u5177\u680f\n *****************************************************/\n/** Toolbar \u914d\u7f6e */\n\n/*******************************************************\n *  Menu\uff1a\u83dc\u5355\n *****************************************************/\n/** Menu \u914d\u7f6e */\n\n/*******************************************************\n *  KeyBindings\uff1a\u5feb\u6377\u952e\n *****************************************************/\n/** KeyBindings \u914d\u7f6e */\n\n/*******************************************************\n *  UTILS\uff1a\u5de5\u5177\u65b9\u6cd5\n *****************************************************/\n/** utils\uff1adispose */\n\n/** utils\uff1adefer \u5ef6\u8fdf */\n\n/** utils\uff1a\u5ef6\u8fdf */\n\n/** utils\uff1auuid */\n\n/** utils\uff1a\u7edd\u5bf9\u5b9a\u4f4d */\n\n/** utils\uff1ainsertCss */\n\n/*******************************************************\n * Icon\uff1aAntd Icon\n *****************************************************/\n/** ICON */\n\n\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow/es/core/index.js\n/** IOC */\n\n/** XFlow \u57fa\u7840 interface */\n\n/*******************************************************\n * \u6838\u5fc3\u7ec4\u4ef6\uff1a\n * 1. Application\uff1aXFlow\n * 2. Application Extension\uff1aXFlowAppExtensionMoudle\n * 3. Graph\uff1aXFlowCanvas\n *****************************************************/\n\n/** graphProvider: \u6ce8\u5165Graph\u65f6 \u9700\u8981 */\n\n/** app: \u7528\u4e8eextension\u6269\u5c55*/\n\n/** Command Service */\n\n/** Command \u5e38\u91cf */\n\n/** React Node Context */\n\n/*******************************************************\n *  XFlow Hooks\uff1a \u94a9\u5b50\u51fd\u6570\n *****************************************************/\n\n/*******************************************************\n *  Model Service\uff1a\u5168\u5c40\u72b6\u6001\n *****************************************************/\n\n\n\n/*******************************************************\n *  Toolbar\uff1a\u5de5\u5177\u680f\n *****************************************************/\n/** Toolbar \u914d\u7f6e */\n\n/*******************************************************\n *  Menu\uff1a\u83dc\u5355\n *****************************************************/\n/** Menu \u914d\u7f6e */\n\n/*******************************************************\n *  KeyBindings\uff1a\u5feb\u6377\u952e\n *****************************************************/\n/** KeyBindings \u914d\u7f6e */\n\n/*******************************************************\n *  UTILS\uff1a\u5de5\u5177\u65b9\u6cd5\n *****************************************************/\n/** utils\uff1adispose */\n\n/** utils\uff1adefer \u5ef6\u8fdf */\n\n/** utils\uff1a\u5ef6\u8fdf */\n\n/** utils\uff1auuid */\n\n/** utils\uff1a\u7edd\u5bf9\u5b9a\u4f4d */\n\n/*******************************************************\n * Icon\uff1aAntd Icon\n *****************************************************/\n/** ICON */\n\n/** \u5168\u5c40\u5e38\u91cf */\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-snapline/contributions/hook.js\nvar hook_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar hook_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n/**\n * \u5185\u7f6e\u7684hook contribution\n * \u5904\u7406 config\u4e0a\u7684runtime\u7684\u6ce8\u518c\u9879\n */\nlet hook_HookContribution = class HookContribution {\n    constructor() {\n        this.toDispose = new disposable_DisposableCollection();\n        // args: registry: IHookService<ICmdHooks>\n        this.registerHookHub = () => hook_awaiter(this, void 0, void 0, function* () {\n            return Disposable.create(() => { });\n        });\n        this.registerHook = (hooks) => hook_awaiter(this, void 0, void 0, function* () {\n            const toDispose = new disposable_DisposableCollection();\n            const disposables = [\n                hooks.graphOptions.registerHook({\n                    name: \'add snapline options\',\n                    handler: (args) => hook_awaiter(this, void 0, void 0, function* () {\n                        // \u5bf9\u9f50\u7ebf\u914d\u7f6e\uff0c\u8f85\u52a9\u79fb\u52a8\u8282\u70b9\u6392\u7248\uff08\u8be6\u7ec6\u6587\u6863\uff1ahttps://X6.antv.vision/zh/docs/tutorial/basic/snapline\uff09\n                        args.snapline = {\n                            enabled: true,\n                            className: \'xflow-snapline\',\n                            clean: 5000,\n                        };\n                    }),\n                }),\n            ];\n            toDispose.pushAll(disposables);\n            return Disposable.create(() => { });\n        });\n    }\n};\nhook_HookContribution = hook_decorate([\n    index_esm.singleton({ contrib: IHookContribution })\n], hook_HookContribution);\n\n//# sourceMappingURL=hook.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-snapline/module.js\n\n/** Application \u6269\u5c55\u4f9d\u8d56 */\n\n\n/** \u4f9d\u8d56\u6269\u5c55\u6a21\u5757\uff0c\u5fc5\u987b\u8981\u52a0\u8f7d */\nconst canvas_snapline_module_createModule = () => {\n    return index_esm.Module(register => {\n        /** \u6269\u5c55 runtime hook */\n        register(hook_HookContribution);\n    });\n};\n\n//# sourceMappingURL=module.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-snapline/components/index.js\nvar canvas_snapline_components_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nconst components_CONFIG_TYPE = \'CanvasSnapline\';\n/** \u9ed8\u8ba4\u989c\u8272 */\nconst SNAPLINE_COLOR = \'#faad14\';\nconst CanvasSnapline = props => {\n    const { color = SNAPLINE_COLOR } = props;\n    const extension = useExtensionRegistry();\n    const config = react_default.a.useMemo(() => ({\n        CONFIG_TYPE: components_CONFIG_TYPE,\n        getConfig: () => canvas_snapline_components_awaiter(void 0, void 0, void 0, function* () { return ({}); }),\n    }), []);\n    /** \u8bbe\u7f6ecss \u6837\u5f0f */\n    react_default.a.useEffect(() => {\n        const className = `xflow-snapline-${Date.now()}`;\n        // \u591axflow\u4e4b\u95f4\u9694\u79bb\n        extension.addContainerClassNames(className);\n        const cssString = `\n    .${className} .xflow-snapline .x6-widget-snapline-horizontal, \n    .${className} .xflow-snapline .x6-widget-snapline-vertical {\n      border-color: ${color};\n    }`;\n        const $style = insertCss(cssString);\n        return () => {\n            document.head.removeChild($style);\n        };\n    }, [color, extension]);\n    return react_default.a.createElement(XFlowAppExtensionMoudle, { config: config, createModule: canvas_snapline_module_createModule });\n};\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-snapline/index.js\n\n//# sourceMappingURL=index.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/tooltip/index.js + 1 modules\nvar es_tooltip = __webpack_require__("9xBf");\n\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-node-port-tooltip/interface.js\nvar interface_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar NsPortEvent;\n(function (NsPortEvent) {\n    NsPortEvent.MOUSE_ENTER = \'node-port:mouseenter\';\n    NsPortEvent.MOUSE_LEAVE = \'node-port:mouseleave\';\n})(NsPortEvent || (NsPortEvent = {}));\nvar ACTIVE_NODE_PORT;\n(function (ACTIVE_NODE_PORT) {\n    ACTIVE_NODE_PORT.id = \'ACTIVE_NODE_PORT\';\n    ACTIVE_NODE_PORT.useModel = (modelService) => interface_awaiter(this, void 0, void 0, function* () {\n        const model = yield modelService.awaitModel(ACTIVE_NODE_PORT.id);\n        const data = yield model.getValidValue();\n        return { data, model };\n    });\n})(ACTIVE_NODE_PORT || (ACTIVE_NODE_PORT = {}));\n//# sourceMappingURL=interface.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-node-port-tooltip/contributions/node-port.js\nvar node_port_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar node_port_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar node_port_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n/**\n * \u5185\u7f6e\u7684hook contribution\n * \u5904\u7406 config\u4e0a\u7684runtime\u7684\u6ce8\u518c\u9879\n */\nlet node_port_NodePortTooltipContribution = class NodePortTooltipContribution {\n    constructor() {\n        this.toDispose = new disposable_DisposableCollection();\n        /** \u83b7\u53d6\u753b\u5e03\u5b9e\u4f8b */\n        this.getGraphInstance = () => node_port_awaiter(this, void 0, void 0, function* () {\n            const graphInstance = yield this.graphProvider.getGraphInstance();\n            const graphConfig = yield this.graphProvider.getGraphOptions();\n            return { graph: graphInstance, config: graphConfig };\n        });\n        /** \u83b7\u53d6GraphOptions */\n        this.getPortRenderConfig = () => {\n            const dagOptions = {\n                onPortRendered(portRenderedArgs) {\n                    var _a, _b;\n                    /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n                    const graph = this;\n                    const { port, node } = portRenderedArgs;\n                    const { contentSelectors } = portRenderedArgs;\n                    const portContainer = contentSelectors && contentSelectors[\'xflow-port-group\'];\n                    if (portContainer instanceof Element) {\n                        portContainer.setAttribute(\'class\', classnames_default()(\'xflow-port-group\', {\n                            connected: port.connected && port.group !== \'out\',\n                            groupPort: ((_a = node) === null || _a === void 0 ? void 0 : _a.isGroup) && ((_b = node) === null || _b === void 0 ? void 0 : _b.isGroup()),\n                        }));\n                        portContainer.addEventListener(\'mouseenter\', e => {\n                            const eventArgs = {\n                                e: e,\n                                portId: port.id,\n                                nodeId: node.id,\n                                portData: port,\n                                nodeData: node.getData(),\n                                tooltip: port.tooltip,\n                                placement: port.group,\n                            };\n                            graph.trigger(NsPortEvent.MOUSE_ENTER, eventArgs);\n                        });\n                        portContainer.addEventListener(\'mouseleave\', e => {\n                            const eventArgs = {\n                                e: e,\n                                portId: port.id,\n                                nodeId: node.id,\n                                portData: port,\n                                nodeData: node.getData(),\n                                tooltip: port.tooltip,\n                                placement: port.group,\n                            };\n                            graph.trigger(NsPortEvent.MOUSE_LEAVE, eventArgs);\n                        });\n                    }\n                },\n            };\n            return dagOptions;\n        };\n        this.registerHookHub = () => node_port_awaiter(this, void 0, void 0, function* () {\n            return Disposable.create(() => { });\n        });\n        this.registerHook = (hooks) => node_port_awaiter(this, void 0, void 0, function* () {\n            const toDispose = new disposable_DisposableCollection();\n            const disposables = [\n                hooks.graphOptions.registerHook({\n                    name: \'add onPortRendered options \',\n                    handler: (args) => node_port_awaiter(this, void 0, void 0, function* () {\n                        Object.assign(args, this.getPortRenderConfig());\n                    }),\n                }),\n            ];\n            toDispose.pushAll(disposables);\n            return Disposable.create(() => { });\n        });\n    }\n    registerModel(registry) {\n        registry.registerModel({\n            id: ACTIVE_NODE_PORT.id,\n            watchChange: (self) => node_port_awaiter(this, void 0, void 0, function* () {\n                const { graph, config } = yield this.getGraphInstance();\n                const calcPosition = (e) => {\n                    const { x, y, width, height } = e.target.getBoundingClientRect();\n                    const clientRect = config.rootContainer.getBoundingClientRect();\n                    const position = {\n                        x: x - ((clientRect === null || clientRect === void 0 ? void 0 : clientRect.x) || 0) + width / 2,\n                        y: y - ((clientRect === null || clientRect === void 0 ? void 0 : clientRect.y) || 0) + height / 2,\n                    };\n                    return position;\n                };\n                const onMouseEnter = (args) => {\n                    self.setValue(Object.assign(Object.assign({}, args), { position: calcPosition(args.e) }));\n                };\n                const onMouseLeave = () => {\n                    self.setValue(null);\n                };\n                /** \u7ed1\u5b9a\u4e8b\u4ef6 */\n                graph.on(NsPortEvent.MOUSE_ENTER, onMouseEnter);\n                graph.on(NsPortEvent.MOUSE_LEAVE, onMouseLeave);\n                graph.on(\'cell:mouseleave\', onMouseLeave);\n                return Disposable.create(() => {\n                    /** \u89e3\u9664\u7ed1\u5b9a */\n                    graph.off(NsPortEvent.MOUSE_ENTER, onMouseEnter);\n                    graph.off(NsPortEvent.MOUSE_LEAVE, onMouseLeave);\n                });\n            }),\n        });\n    }\n};\nnode_port_decorate([\n    index_esm.inject(IGraphProvider),\n    node_port_metadata("design:type", Object)\n], node_port_NodePortTooltipContribution.prototype, "graphProvider", void 0);\nnode_port_NodePortTooltipContribution = node_port_decorate([\n    index_esm.singleton({ contrib: [IHookContribution, IModelContribution] })\n], node_port_NodePortTooltipContribution);\n\n//# sourceMappingURL=node-port.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-node-port-tooltip/module.js\n\n\n/** Application \u6269\u5c55\u4f9d\u8d56 */\n\n/** \u4f9d\u8d56\u6269\u5c55\u6a21\u5757\uff0c\u5fc5\u987b\u8981\u52a0\u8f7d */\nconst canvas_node_port_tooltip_module_createModule = () => {\n    return index_esm.Module(register => {\n        /** \u6269\u5c55 runtime hook */\n        register(node_port_NodePortTooltipContribution);\n    });\n};\n\n//# sourceMappingURL=module.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-node-port-tooltip/components/index.js\nvar canvas_node_port_tooltip_components_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\nconst canvas_node_port_tooltip_components_CONFIG_TYPE = \'CanvasNodePortTooltip\';\nconst RenderTooltip = props => {\n    const xflow = useXFlowApp();\n    const [state, , renderModel] = createComponentModel(null);\n    react_default.a.useEffect(() => {\n        if (!xflow) {\n            return;\n        }\n        const subscribe = () => canvas_node_port_tooltip_components_awaiter(void 0, void 0, void 0, function* () {\n            const { model } = yield ACTIVE_NODE_PORT.useModel(xflow.modelService);\n            return model.watch(value => {\n                renderModel.setValue(value);\n            });\n        });\n        const subscription = subscribe();\n        return () => {\n            subscription.then(disposable => {\n                disposable.dispose();\n            });\n        };\n    }, [renderModel, xflow]);\n    const visible = !!(state && state.position && state.position.x);\n    if (!visible) {\n        return null;\n    }\n    const title = props.getTooltip ? props.getTooltip(state) : state.tooltip;\n    return (react_default.a.createElement(es_tooltip["a" /* default */], { visible: visible, title: title, placement: state.placement || \'top\' },\n        react_default.a.createElement("span", { className: "canvas-node-port-tooltip", style: { position: \'absolute\', left: state.position.x, top: state.position.y } })));\n};\nconst CanvasNodePortTooltip = props => {\n    const getConfig = react_default.a.useCallback(() => canvas_node_port_tooltip_components_awaiter(void 0, void 0, void 0, function* () { return null; }), []);\n    return (react_default.a.createElement(XFlowAppExtensionMoudle, { createModule: canvas_node_port_tooltip_module_createModule, config: { CONFIG_TYPE: canvas_node_port_tooltip_components_CONFIG_TYPE, getConfig } },\n        react_default.a.createElement(RenderTooltip, Object.assign({}, props))));\n};\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-node-port-tooltip/index.js\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-context-menu/config.js\nvar canvas_context_menu_config_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nvar NsContextMenu;\n(function (NsContextMenu) {\n    NsContextMenu.CONFIG_TYPE = \'ContextMenuConfig\';\n})(NsContextMenu || (NsContextMenu = {}));\nclass config_ContextMenuConfig {\n    /** uuid */\n    constructor(moduleId) {\n        /** config type */\n        this.CONFIG_TYPE = NsContextMenu.CONFIG_TYPE;\n        /** \u8bbe\u7f6e\u7ec4\u4ef6\u7684props */\n        this.setMenuModelService = (service) => {\n            this.menuModelService = service;\n        };\n        /** \u8bbe\u7f6e\u7ec4\u4ef6\u7684props */\n        this.setCustomMenuRender = (service) => {\n            this.menuCustomRender = service;\n        };\n        /** \u83b7\u53d6Props */\n        this.getConfig = () => canvas_context_menu_config_awaiter(this, void 0, void 0, function* () {\n            return {\n                CONFIG_TYPE: this.CONFIG_TYPE,\n                menuCustomRender: this.menuCustomRender,\n                menuModelService: this.menuModelService,\n            };\n        });\n        this.moduleId = moduleId || uuidv4();\n    }\n    /** dispose */\n    dispose() { }\n}\n//# sourceMappingURL=config.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-context-menu/interface.js\n\nvar interface_CONTEXT_MENU_MODEL;\n(function (CONTEXT_MENU_MODEL) {\n    CONTEXT_MENU_MODEL.id = \'CONTEXT_MENU_MODEL\';\n    CONTEXT_MENU_MODEL.useValue = model_service_constant_namespaceObject.useModelValueUtil(CONTEXT_MENU_MODEL.id);\n    CONTEXT_MENU_MODEL.getModel = model_service_constant_namespaceObject.getModelUtil(CONTEXT_MENU_MODEL.id);\n})(interface_CONTEXT_MENU_MODEL || (interface_CONTEXT_MENU_MODEL = {}));\n//# sourceMappingURL=interface.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-context-menu/contributions/model.js\nvar model_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar model_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar model_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nconst { inject, singleton } = index_esm;\n/**\n * IModelContribution\n */\nlet model_CanvasContextMenuContribution = class CanvasContextMenuContribution {\n    constructor() {\n        /** \u6ce8\u518c model */\n        this.toDispose = new disposable_DisposableCollection();\n        /** \u83b7\u53d6 MenuModel */\n        this.getMenuModelValue = (contextMenuInfo) => model_awaiter(this, void 0, void 0, function* () {\n            const config = yield this.menuConfig.getConfig();\n            /** \u83b7\u53d6\u5750\u6807 */\n            const { anchor, type, cell } = contextMenuInfo;\n            /** \u83b7\u53d6Menu */\n            const toDispose = new disposable_DisposableCollection();\n            this.toDispose.push(toDispose);\n            const data = cell ? cell.getData() : null;\n            const menuModel = new rx_model_RxModel({\n                id: \'menuroot\',\n                type: MenuItemType.Root,\n                submenu: [],\n            });\n            toDispose.push(Disposable.create(() => {\n                menuModel.dispose();\n            }));\n            const renderProps = {\n                toDispose,\n                anchor: anchor,\n                target: { data, type },\n                customRender: null,\n                menuModel: menuModel,\n            };\n            if (config.menuCustomRender) {\n                renderProps.customRender = yield config.menuCustomRender(contextMenuInfo, this.modelService);\n            }\n            if (config.menuModelService) {\n                yield config.menuModelService(contextMenuInfo, renderProps.menuModel, this.modelService, toDispose);\n            }\n            return renderProps;\n        });\n    }\n    /** \u6ce8\u518c MenuModel */\n    registerModel(registry) {\n        const toDispose = [\n            registry.registerModel({\n                id: interface_CONTEXT_MENU_MODEL.id,\n                getInitialValue: () => null,\n                watchChange: (self, modelService) => model_awaiter(this, void 0, void 0, function* () {\n                    const contextMenuModel = yield model_service_constant_namespaceObject.CONTEXTMENU_TARGET.getModel(modelService);\n                    return contextMenuModel.watch((contextMenuInfo) => model_awaiter(this, void 0, void 0, function* () {\n                        const contextMenuValue = yield this.getMenuModelValue(contextMenuInfo);\n                        self.setValue(contextMenuValue);\n                    }));\n                }),\n            }),\n        ];\n        this.toDispose.pushAll(toDispose);\n    }\n};\nmodel_decorate([\n    inject(config_ContextMenuConfig),\n    model_metadata("design:type", config_ContextMenuConfig)\n], model_CanvasContextMenuContribution.prototype, "menuConfig", void 0);\nmodel_decorate([\n    inject(IModelService),\n    model_metadata("design:type", Object)\n], model_CanvasContextMenuContribution.prototype, "modelService", void 0);\nmodel_CanvasContextMenuContribution = model_decorate([\n    singleton({ contrib: [IModelContribution] })\n], model_CanvasContextMenuContribution);\n\n//# sourceMappingURL=model.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-context-menu/module.js\n\n/** Application \u6269\u5c55\u4f9d\u8d56 */\n\n\n\n/** \u4f9d\u8d56\u6269\u5c55\u6a21\u5757\uff0c\u5fc5\u987b\u8981\u52a0\u8f7d */\nconst canvas_context_menu_module_createModule = (config) => {\n    return index_esm.Module(register => {\n        /** \u6269\u5c55 runtime hook */\n        register(model_CanvasContextMenuContribution);\n        register(config_ContextMenuConfig, { useValue: config });\n    });\n};\n\n//# sourceMappingURL=module.js.map\n// EXTERNAL MODULE: ../xflow-extension/node_modules/@antv/x6-react-components/es/dropdown/index.js\nvar dropdown = __webpack_require__("nSbu");\n\n// EXTERNAL MODULE: ../xflow-extension/node_modules/@antv/x6-react-components/es/menu/menu.js + 4 modules\nvar menu = __webpack_require__("Edto");\n\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-context-menu/components/menu-render.js\nvar menu_render_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nconst renderMenuOptions = (props) => {\n    const { idx, menuOptions: menuItem, target, modelService, commandService, onHide } = props;\n    const { id, label, isEnabled = true, isVisible = true, iconName, submenu = [], active, hotkey, render, onClick, } = menuItem;\n    if (!isVisible) {\n        return null;\n    }\n    /** \u5206\u9694\u7b26\uff1aseparator */\n    if (menuItem.type === \'separator\') {\n        return react_default.a.createElement(menu["a" /* Menu */].Divider, { key: String(menuItem.id) + idx });\n    }\n    /** \u6839\u7ed3\u70b9\uff1aroot */\n    if (menuItem.type === \'root\') {\n        return (react_default.a.createElement(menu["a" /* Menu */], { hasIcon: true }, submenu.map((item, submenuIdx) => renderMenuOptions({\n            idx: submenuIdx,\n            target,\n            commandService,\n            modelService,\n            menuOptions: item,\n            onHide,\n        }))));\n    }\n    /** \u5b50\u83dc\u5355\uff1asubmenu */\n    if (menuItem.submenu && Array.isArray(menuItem.submenu)) {\n        const Icon = IconStore.get(iconName);\n        const isDisable = !isEnabled;\n        return (react_default.a.createElement(menu["a" /* Menu */].SubMenu, { key: String(id), text: label, disabled: isDisable || submenu.length === 0, icon: Icon ? react_default.a.createElement(Icon, null) : null, active: active, hotkey: hotkey }, submenu.map((item, submenuIdx) => renderMenuOptions({\n            idx: submenuIdx,\n            target,\n            commandService,\n            modelService,\n            menuOptions: item,\n            onHide,\n        }))));\n    }\n    /** \u53f6\u5b50\u8282\u70b9 */\n    const Icon = IconStore.get(iconName);\n    if (render) {\n        return react_default.a.createElement(render, { menuItem, target, commandService, modelService, onHide }, [\n            react_default.a.createElement(menu["a" /* Menu */].Item, { key: String(id), text: label, disabled: !isEnabled, icon: Icon ? react_default.a.createElement(Icon, null) : null, active: active, hotkey: hotkey }),\n        ]);\n    }\n    return (react_default.a.createElement(menu["a" /* Menu */].Item, { key: String(id), text: label, disabled: !isEnabled, icon: Icon ? react_default.a.createElement(Icon, null) : null, active: active, hotkey: hotkey, onClick: () => menu_render_awaiter(void 0, void 0, void 0, function* () {\n            yield onClick({ menuItem, target, commandService, modelService });\n            onHide && onHide();\n        }) }));\n};\n//# sourceMappingURL=menu-render.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-context-menu/components/menu.js\n\n\nconst XFlowMenu = props => {\n    const { menuModel, target, onHide } = props;\n    const { modelService, commandService } = useXFlowApp();\n    const [state] = useModel(menuModel);\n    return renderMenuOptions({\n        idx: -1,\n        target,\n        commandService,\n        modelService,\n        menuOptions: state,\n        onHide,\n    });\n};\n//# sourceMappingURL=menu.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-context-menu/components/index.js\nvar canvas_context_menu_components_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\nconst DisposeHelper = ({ toDispose }) => {\n    react_default.a.useEffect(() => {\n        return () => {\n            toDispose.dispose();\n        };\n    }, [toDispose]);\n    return null;\n};\nconst ContextMenuRender = () => {\n    const domRef = react_default.a.useRef();\n    const xflow = useXFlowApp();\n    const [state, , renderModel] = useModelAsync({\n        /** \u7ed1\u5b9aModel\u5230state */\n        getModel: () => canvas_context_menu_components_awaiter(void 0, void 0, void 0, function* () {\n            return yield interface_CONTEXT_MENU_MODEL.getModel(xflow.modelService);\n        }),\n        /** \u8bbe\u7f6estate\u7684\u9ed8\u8ba4\u503c */\n        initialState: {\n            anchor: null,\n            menuModel: null,\n            target: null,\n            customRender: null,\n            toDispose: null,\n        },\n    });\n    const { target, anchor, menuModel, customRender, toDispose } = state;\n    if (!target || !anchor || !menuModel) {\n        return null;\n    }\n    const onMaskClick = () => {\n        renderModel.setValue({\n            anchor: null,\n            menuModel: null,\n            target: null,\n            customRender: null,\n            toDispose: null,\n        });\n    };\n    const overlay = customRender ? (react_default.a.createElement(customRender, {\n        target,\n        modelService: xflow.modelService,\n        onHide: onMaskClick,\n    })) : (react_default.a.createElement(XFlowMenu, { target: target, menuModel: menuModel, onHide: onMaskClick }));\n    return (react_default.a.createElement("div", { className: "xflow-menu-mask", ref: domRef, onClick: onMaskClick, onContextMenu: e => {\n            e.preventDefault();\n            e.stopPropagation();\n        } },\n        react_default.a.createElement(DisposeHelper, { toDispose: toDispose }),\n        react_default.a.createElement(dropdown["a" /* Dropdown */], { visible: true, getPopupContainer: () => domRef.current, overlay: overlay },\n            react_default.a.createElement("div", { className: "xflow-context-menu-anchor", style: { top: anchor.y, left: anchor.x } }))));\n};\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-context-menu/index.js\n\n\n\n\n\nconst canvas_context_menu_CONFIG_TYPE = \'CanvasContextMenu\';\nconst CanvasContextMenu = props => {\n    const xflow = useXFlowApp();\n    const canRender = !!xflow;\n    /** \u83b7\u53d6ContextMenu\u7684\u914d\u7f6e */\n    const contextMenuConfig = react_default.a.useMemo(() => (props.config ? props.config : new config_ContextMenuConfig()), [props.config]);\n    return (react_default.a.createElement(XFlowAppExtensionMoudle, { createModule: canvas_context_menu_module_createModule, config: contextMenuConfig }, canRender && react_default.a.createElement(ContextMenuRender, { config: contextMenuConfig })));\n};\nconst createCtxMenuConfig = (addOptions) => (props) => {\n    /** bridge config and props */\n    const proxy = react_default.a.useMemo(() => ({ getValue: () => ({}) }), []);\n    proxy.getValue = () => props;\n    const toolbarConfig = react_default.a.useMemo(() => {\n        const config = new config_ContextMenuConfig();\n        addOptions(config, proxy);\n        return config;\n    }, [proxy]);\n    return toolbarConfig;\n};\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-toolbar/config.js\n\nconst config_CONFIG_TYPE = \'CanvasToolbar\';\nclass config_ToolbarConfig {\n    /** uuid */\n    constructor() {\n        /** config type */\n        this.CONFIG_TYPE = config_CONFIG_TYPE;\n        /** \u8bbe\u7f6etoolbar id */\n        this.setToolbarName = (moduleId) => {\n            this.moduleId = config_CONFIG_TYPE + \'__\' + moduleId;\n        };\n        /** \u901a\u8fc7\u8ba2\u9605 modelService \u8bbe\u7f6etoolbar model */\n        this.setToolbarModelService = (service) => {\n            this.toolbarModelService = service;\n        };\n        /** \u8bbe\u7f6e\u7ec4\u4ef6\u7684props */\n        this.setCustomToolbarRender = (service) => {\n            this.customRenderService = service;\n        };\n        /** \u83b7\u53d6Props */\n        this.getConfig = () => {\n            return {\n                CONFIG_TYPE: this.CONFIG_TYPE,\n                toolbarCustomRender: this.customRenderService,\n                toolbarModelService: this.toolbarModelService,\n            };\n        };\n        this.moduleId = config_CONFIG_TYPE + \'__\' + uuidv4();\n    }\n    /** dispose */\n    dispose() { }\n}\n//# sourceMappingURL=config.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/spin/index.js\nvar spin = __webpack_require__("rAmn");\n\n// EXTERNAL MODULE: ../xflow-extension/node_modules/@antv/x6-react-components/es/toolbar/toolbar.js + 3 modules\nvar toolbar = __webpack_require__("XHb2");\n\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-toolbar/render-components/toolbar-item.js\n\n\n\n\n\nconst ToolbarItem = props => {\n    const app = useXFlowApp();\n    const { item, layout } = props;\n    const Icon = IconStore.get(item.iconName);\n    const clz = classnames_default()({\n        [\'xflow-toolbar-item\']: true,\n    });\n    const text = layout === \'vertical\' ? \'\' : item.text;\n    const icon = Icon ? react_default.a.createElement(Icon, null) : null;\n    const ToolbarItemWrap = item.render;\n    const { isEnabled = true } = item;\n    const { commandService, modelService } = app;\n    const onItemClick = () => {\n        if (item.onClick) {\n            item.onClick({ toolbarItem: item, commandService, modelService });\n        }\n    };\n    if (ToolbarItemWrap) {\n        return (react_default.a.createElement(ToolbarItemWrap, Object.assign({}, item, { onClick: onItemClick }),\n            react_default.a.createElement(toolbar["a" /* Toolbar */].Item, Object.assign({}, item, { icon: icon, text: text, className: clz, disabled: !isEnabled, tooltip: item.tooltip || item.text, tooltipProps: Object.assign({ placement: layout === \'vertical\' ? \'left\' : \'bottom\' }, item.tooltipProps), onClick: () => { } }))));\n    }\n    return (react_default.a.createElement(toolbar["a" /* Toolbar */].Item, Object.assign({}, item, { icon: icon, text: text, className: clz, hidden: !item, disabled: !isEnabled, tooltip: item.tooltip || item.text, onClick: onItemClick, tooltipProps: Object.assign(Object.assign({}, item.tooltipProps), { placement: layout === \'vertical\' ? \'left\' : \'bottom\' }) })));\n};\n//# sourceMappingURL=toolbar-item.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-toolbar/render-components/toolbar-group.js\n\n\n\n\n\nconst ToolbarGroup = props => {\n    const { group, layout } = props;\n    const groupKey = react_default.a.useMemo(() => {\n        return group.name || uuidv4();\n    }, [group.name]);\n    const { items = [] } = group;\n    if (items.length === 0) {\n        return null;\n    }\n    const clz = classnames_default()({\n        [\'xflow-toolbar-group\']: true,\n    });\n    return (react_default.a.createElement(toolbar["a" /* Toolbar */].Group, { className: clz, key: groupKey }, items.map(item => (react_default.a.createElement(ToolbarItem, { item: item, layout: layout, key: item.id })))));\n};\n//# sourceMappingURL=toolbar-group.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-toolbar/service.js\nvar service_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nconst useToolbarModel = (props) => {\n    const { config } = props;\n    const modelId = config.moduleId;\n    const app = useXFlowApp();\n    const [state, setState, toolbarModel, isModelReady] = createComponentModel({\n        name: modelId,\n        layout: props.layout,\n        mainGroups: [],\n        extraGroups: [],\n        customRender: null,\n    });\n    /** \u6ce8\u518c\u5168\u5c40\u7684model */\n    react_default.a.useEffect(() => {\n        const toDispose = new disposable_DisposableCollection();\n        const deferredModel = app.modelService.findDeferredModel(modelId);\n        if (!deferredModel) {\n            const { toolbarCustomRender, toolbarModelService } = config.getConfig();\n            const d = app.modelService.registerModel({\n                id: modelId,\n                modelFactory: () => toolbarModel,\n                watchChange: (self) => service_awaiter(void 0, void 0, void 0, function* () {\n                    if (toolbarModelService) {\n                        yield toolbarModelService(self, app.modelService, toDispose);\n                    }\n                    if (toolbarCustomRender) {\n                        const updateCustomRender = customRender => {\n                            self.setValue(m => (m.customRender = customRender));\n                        };\n                        yield toolbarCustomRender(app.modelService, updateCustomRender);\n                    }\n                    return toDispose;\n                }),\n            });\n            toDispose.push(d);\n        }\n        return () => {\n            toDispose.dispose();\n        };\n        /* eslint-disable-next-line  */\n    }, []);\n    return { isModelReady, state, setState, toolbarModel };\n};\n//# sourceMappingURL=service.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-toolbar/render-components/index.js\n\n\n\n\n// component\n\n\n\n\n/** render toolbar */\nconst ToolbarRender = props => {\n    const { idx, groups, layout, toolbarOptions } = props;\n    const { hoverEffect = true } = toolbarOptions;\n    return (react_default.a.createElement(toolbar["a" /* Toolbar */], { hoverEffect: hoverEffect }, groups.map((g, gIdx) => {\n        const key = idx + gIdx;\n        return react_default.a.createElement(ToolbarGroup, { key: key, group: g, layout: layout });\n    })));\n};\nconst InnerRender = props => {\n    const { isModelReady, state } = useToolbarModel(props);\n    const positionStyle = usePositionStyle(props.position);\n    const { mainGroups = [], extraGroups = [], layout, customRender } = state;\n    const containerClz = classnames_default()(props.className, layout, \'xflow-toolbar\');\n    const clz = classnames_default()({\n        [layout]: true,\n        [\'xflow-toolbar-root\']: true,\n    });\n    // loading\n    if (!isModelReady) {\n        return (react_default.a.createElement("div", { className: containerClz, style: Object.assign(Object.assign({}, positionStyle), props.style) },\n            react_default.a.createElement(spin["a" /* default */], { spinning: true, size: "small" })));\n    }\n    // render custom component\n    if (customRender) {\n        return (react_default.a.createElement("div", { className: containerClz, style: Object.assign(Object.assign({}, positionStyle), props.style) }, react_default.a.createElement(customRender, { config: state })));\n    }\n    // render toolbars\n    return (react_default.a.createElement("div", { className: containerClz, style: Object.assign(Object.assign({}, positionStyle), props.style) },\n        react_default.a.createElement("div", { className: clz },\n            mainGroups.length > 0 && (react_default.a.createElement(ToolbarRender, { idx: "mainGroups", groups: mainGroups, layout: layout, toolbarOptions: state })),\n            extraGroups.length > 0 && (react_default.a.createElement(ToolbarRender, { idx: "extraGroups", groups: extraGroups, layout: layout, toolbarOptions: state })))));\n};\n/** connect \u6570\u636e */\nconst XFlowToolbar = react_default.a.memo(InnerRender);\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-toolbar/index.js\n\n\n\n\nconst CanvasToolbar = props => {\n    const app = useXFlowApp();\n    const hasApp = !!app;\n    /** \u83b7\u53d6ContextMenu\u7684\u914d\u7f6e */\n    const contextMenuConfig = react_default.a.useMemo(() => (props.config ? props.config : new config_ToolbarConfig()), [props.config]);\n    if (!hasApp) {\n        return null;\n    }\n    return react_default.a.createElement(XFlowToolbar, Object.assign({}, props, { config: contextMenuConfig }));\n};\nconst createToolbarConfig = (addOptions) => (value) => {\n    /** bridge config and value */\n    const proxy = react_default.a.useMemo(() => ({ getValue: () => ({}) }), []);\n    proxy.getValue = () => value;\n    /** \u751f\u6210config */\n    const toolbarConfig = react_default.a.useMemo(() => {\n        const config = new config_ToolbarConfig();\n        addOptions(config, proxy);\n        return config;\n    }, [proxy]);\n    return toolbarConfig;\n};\n//# sourceMappingURL=index.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/ZoomInOutlined.js + 1 modules\nvar ZoomInOutlined = __webpack_require__("H9Gg");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/ZoomOutOutlined.js + 1 modules\nvar ZoomOutOutlined = __webpack_require__("tdoK");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/OneToOneOutlined.js + 1 modules\nvar OneToOneOutlined = __webpack_require__("m+di");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/CompressOutlined.js + 1 modules\nvar CompressOutlined = __webpack_require__("ct5B");\n\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-scale-toolbar/config.js\nvar canvas_scale_toolbar_config_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nvar config_CANVAS_SCALE_TOOLBAR_CONFIG;\n(function (CANVAS_SCALE_TOOLBAR_CONFIG) {\n    IconStore.set(\'ZoomInOutlined\', ZoomInOutlined["a" /* default */]);\n    IconStore.set(\'ZoomOutOutlined\', ZoomOutOutlined["a" /* default */]);\n    IconStore.set(\'OneToOneOutlined\', OneToOneOutlined["a" /* default */]);\n    IconStore.set(\'CompressOutlined\', CompressOutlined["a" /* default */]);\n    CANVAS_SCALE_TOOLBAR_CONFIG.ZOOM_IN = XFlowGraphCommands.GRAPH_ZOOM.id + \'-zoom-in\';\n    CANVAS_SCALE_TOOLBAR_CONFIG.ZOOM_OUT = XFlowGraphCommands.GRAPH_ZOOM.id + \'-zoom-out\';\n    CANVAS_SCALE_TOOLBAR_CONFIG.SCALE_TO_ONE = XFlowGraphCommands.GRAPH_ZOOM.id + \'-scale-to-one\';\n    CANVAS_SCALE_TOOLBAR_CONFIG.SCALE_TO_FIT = XFlowGraphCommands.GRAPH_ZOOM.id + \'-scale-to-fit\';\n    CANVAS_SCALE_TOOLBAR_CONFIG.MAX_SCALE = 1.5;\n    CANVAS_SCALE_TOOLBAR_CONFIG.MIN_SCALE = 0.05;\n    CANVAS_SCALE_TOOLBAR_CONFIG.zoomOptions = {\n        maxScale: CANVAS_SCALE_TOOLBAR_CONFIG.MAX_SCALE,\n        minScale: CANVAS_SCALE_TOOLBAR_CONFIG.MIN_SCALE,\n    };\n    CANVAS_SCALE_TOOLBAR_CONFIG.getToolbarConfig = (zoomFactor) => {\n        return [\n            {\n                name: \'main\',\n                items: [\n                    {\n                        id: CANVAS_SCALE_TOOLBAR_CONFIG.ZOOM_IN,\n                        tooltip: \'\u653e\u5927\',\n                        iconName: \'ZoomInOutlined\',\n                        onClick: ({ commandService }) => {\n                            commandService.executeCommand(XFlowGraphCommands.GRAPH_ZOOM.id, {\n                                factor: 0.1,\n                                zoomOptions: CANVAS_SCALE_TOOLBAR_CONFIG.zoomOptions,\n                            });\n                        },\n                    },\n                    {\n                        id: CANVAS_SCALE_TOOLBAR_CONFIG.ZOOM_OUT,\n                        tooltip: \'\u7f29\u5c0f\',\n                        iconName: \'ZoomOutOutlined\',\n                        onClick: ({ commandService }) => {\n                            commandService.executeCommand(XFlowGraphCommands.GRAPH_ZOOM.id, {\n                                factor: -0.1,\n                                zoomOptions: CANVAS_SCALE_TOOLBAR_CONFIG.zoomOptions,\n                            });\n                        },\n                    },\n                    {\n                        id: CANVAS_SCALE_TOOLBAR_CONFIG.SCALE_TO_ONE,\n                        iconName: \'OneToOneOutlined\',\n                        tooltip: \'\u7f29\u653e\u52301:1\',\n                        isEnabled: zoomFactor !== 1,\n                        onClick: ({ commandService }) => {\n                            commandService.executeCommand(XFlowGraphCommands.GRAPH_ZOOM.id, {\n                                factor: \'real\',\n                                zoomOptions: CANVAS_SCALE_TOOLBAR_CONFIG.zoomOptions,\n                            });\n                        },\n                    },\n                    {\n                        id: CANVAS_SCALE_TOOLBAR_CONFIG.SCALE_TO_FIT,\n                        tooltip: \'\u7f29\u653e\u5230\u9002\u5e94\u5c4f\u5e55\',\n                        iconName: \'CompressOutlined\',\n                        onClick: ({ commandService }) => {\n                            commandService.executeCommand(XFlowGraphCommands.GRAPH_ZOOM.id, {\n                                factor: \'fit\',\n                                zoomOptions: CANVAS_SCALE_TOOLBAR_CONFIG.zoomOptions,\n                            });\n                        },\n                    },\n                ],\n            },\n        ];\n    };\n})(config_CANVAS_SCALE_TOOLBAR_CONFIG || (config_CANVAS_SCALE_TOOLBAR_CONFIG = {}));\nconst TOOLBAR_TYPE = \'CANVAS_SCALE_TOOLBAR\';\nconst useConfig = createToolbarConfig(config => {\n    config.setToolbarModelService((model, modelService) => canvas_scale_toolbar_config_awaiter(void 0, void 0, void 0, function* () {\n        const graphScale = yield model_service_constant_namespaceObject.GRAPH_SCALE.useValue(modelService);\n        /** \u8bbe\u7f6e\u521d\u59cb\u503c*/\n        model.setValue(m => {\n            m.mainGroups = config_CANVAS_SCALE_TOOLBAR_CONFIG.getToolbarConfig(graphScale.zoomFactor);\n        });\n        const graphScaleModel = yield model_service_constant_namespaceObject.GRAPH_SCALE.getModel(modelService);\n        /** graphScaleModel\u66f4\u65b0\u65f6\u8054\u52a8 Toolbar*/\n        graphScaleModel.watch(({ zoomFactor }) => {\n            model.setValue(m => {\n                m.mainGroups = config_CANVAS_SCALE_TOOLBAR_CONFIG.getToolbarConfig(zoomFactor);\n            });\n        });\n    }));\n});\n//# sourceMappingURL=config.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-scale-toolbar/index.js\n\n\n\nconst CanvasScaleToolbar = props => {\n    const config = useConfig(props);\n    return (react_default.a.createElement(CanvasToolbar, Object.assign({ layout: "vertical" }, props, { config: config, position: props.position || { top: 12, right: 12 } })));\n};\n\n//# sourceMappingURL=index.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__("SCaQ");\n\n// CONCATENATED MODULE: ../xflow-extension/es/demo-utils/form-builder/index.js\n\n\nfunction FormBuilder(props) {\n    const { className, layout, initialValues, form, formItems = [], onFinish, submitButton, buttonProps, } = props;\n    if (!form) {\n        return null;\n    }\n    const style = layout === \'vertical\' ? { padding: \'0px 12px\' } : { padding: \'8px 12px\' };\n    return (react_default.a.createElement(es_form["a" /* default */], { size: "small", form: form, style: style, layout: layout, onFinish: onFinish, className: className, initialValues: initialValues, labelCol: layout === \'vertical\' ? { span: 24 } : { span: 8 }, wrapperCol: layout === \'vertical\' ? { span: 24 } : { span: 16 } },\n        formItems.map(item => (react_default.a.createElement(es_form["a" /* default */].Item, Object.assign({ label: item.label, name: item.name, rules: item.rules }, item.itemProps), react_default.a.createElement(item.render, item.renderProps)))),\n        react_default.a.createElement(es_form["a" /* default */].Item, { wrapperCol: { offset: 0, span: 24 } }, submitButton ? (submitButton) : (react_default.a.createElement(es_button["a" /* default */], Object.assign({ type: "primary", htmlType: "submit", style: { width: \'100%\' } }, buttonProps), "\\u6267\\u884C\\u547D\\u4EE4")))));\n}\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/demo-utils/random/index.js\nfunction randomInt(min, max) {\n    return Math.floor(Math.random() * (max - min) + min);\n}\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/demo-utils/index.js\n\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-mini-map/interface.js\nconst IMinimapConfigProvider = Symbol(\'IMinimapConfigProvider\');\n//# sourceMappingURL=interface.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-mini-map/contributions/hook.js\nvar contributions_hook_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar hook_metadata = (undefined && undefined.__metadata) || function (k, v) {\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);\n};\nvar contributions_hook_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n/**\n * \u5185\u7f6e\u7684hook contribution\n * \u5904\u7406 config\u4e0a\u7684runtime\u7684\u6ce8\u518c\u9879\n */\nlet contributions_hook_HookContribution = class HookContribution {\n    constructor() {\n        this.toDispose = new disposable_DisposableCollection();\n        this.registerHookHub = () => contributions_hook_awaiter(this, void 0, void 0, function* () {\n            return Disposable.create(() => { });\n        });\n        this.registerHook = (hooks) => contributions_hook_awaiter(this, void 0, void 0, function* () {\n            const toDispose = new disposable_DisposableCollection();\n            const disposables = [\n                hooks.graphOptions.registerHook({\n                    name: \'add minimap options\',\n                    handler: (args) => contributions_hook_awaiter(this, void 0, void 0, function* () {\n                        // \u5bf9\u9f50\u7ebf\u914d\u7f6e\uff0c\u8f85\u52a9\u79fb\u52a8\u8282\u70b9\u6392\u7248\uff08\u8be6\u7ec6\u6587\u6863\uff1ahttps://X6.antv.vision/zh/docs/tutorial/basic/snapline\uff09\n                        const minimapOptions = yield this.minimapConfig.getConfig();\n                        args.minimap = Object.assign({}, minimapOptions);\n                    }),\n                }),\n            ];\n            toDispose.pushAll(disposables);\n            return Disposable.create(() => { });\n        });\n    }\n};\ncontributions_hook_decorate([\n    index_esm.inject(IMinimapConfigProvider),\n    hook_metadata("design:type", Object)\n], contributions_hook_HookContribution.prototype, "minimapConfig", void 0);\ncontributions_hook_HookContribution = contributions_hook_decorate([\n    index_esm.singleton({ contrib: IHookContribution })\n], contributions_hook_HookContribution);\n\n//# sourceMappingURL=hook.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-mini-map/module.js\n\n/** Application \u6269\u5c55\u4f9d\u8d56 */\n\n\n\n/** \u4f9d\u8d56\u6269\u5c55\u6a21\u5757\uff0c\u5fc5\u987b\u8981\u52a0\u8f7d */\nconst canvas_mini_map_module_createModule = (config) => {\n    return index_esm.Module(register => {\n        register(IMinimapConfigProvider, { useDynamic: () => config });\n        /** \u6269\u5c55 runtime hook */\n        register(contributions_hook_HookContribution);\n    });\n};\n\n//# sourceMappingURL=module.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-mini-map/x6-node-view/index.js\n\nclass x6_node_view_SimpleNodeView extends es["h" /* NodeView */] {\n    renderMarkup() {\n        return this.renderJSONMarkup({\n            tagName: \'rect\',\n            selector: \'body\',\n        });\n    }\n    update() {\n        super.update({\n            body: {\n                refWidth: \'100%\',\n                refHeight: \'100%\',\n                fill: x6_node_view_SimpleNodeView.nodeFillColor,\n            },\n        });\n    }\n}\nx6_node_view_SimpleNodeView.nodeFillColor = \'#31d0c6\';\nx6_node_view_SimpleNodeView.setNodeFillColor = (color) => {\n    x6_node_view_SimpleNodeView.nodeFillColor = color;\n};\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-mini-map/components/index.js\nvar canvas_mini_map_components_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n/** \u914d\u7f6e\u7c7b\u578b */\nconst canvas_mini_map_components_CONFIG_TYPE = \'CanvasMiniMap\';\n/** \u83b7\u53d6\u9ed8\u8ba4\u914d\u7f6e */\nconst getDefaultMinimapOptions = () => {\n    return {\n        grid: false,\n        enabled: true,\n        width: 200,\n        height: 120,\n        padding: 8,\n        graphOptions: {\n            async: true,\n            getCellView(cell) {\n                if (cell.isNode()) {\n                    return x6_node_view_SimpleNodeView;\n                }\n            },\n            createCellView(cell) {\n                if (cell.isEdge()) {\n                    return null;\n                }\n            },\n        },\n    };\n};\nconst CanvasMiniMap = props => {\n    const { nodeFillColor, borderColor = \'#5E97FF\', handlerColor = \'rgba(0,0,0,.3)\', miniMapClz = \'\', position = { bottom: 12, right: 12 }, minimapOptions = {}, } = props;\n    /** x6\u753b\u5e03\u7684dom\u8282\u70b9 */\n    const minimapRef = react_default.a.useRef(null);\n    const minimapConfigRef = react_default.a.useRef(props.minimapOptions);\n    const classNameSet = react_default.a.useMemo(() => {\n        return new Set([\n            miniMapClz,\n            \'xflow-minimap\',\n            \'minimap-instacne-\' + Date.now().toString(),\n        ]);\n    }, [miniMapClz]);\n    const getConfig = react_default.a.useMemo(() => () => canvas_mini_map_components_awaiter(void 0, void 0, void 0, function* () {\n        return Object.assign(Object.assign(Object.assign({}, getDefaultMinimapOptions()), minimapConfigRef.current), { container: minimapRef.current });\n    }), [minimapRef]);\n    const style = usePositionStyle(position);\n    react_default.a.useEffect(() => {\n        /** \u8bbe\u7f6eminimap\u5bb9\u5668 */\n        minimapConfigRef.current = minimapOptions;\n    }, [minimapConfigRef, minimapOptions]);\n    react_default.a.useEffect(() => {\n        /** \u8bbe\u7f6eNode\u6837\u5f0f */\n        if (nodeFillColor) {\n            x6_node_view_SimpleNodeView.setNodeFillColor(nodeFillColor);\n        }\n    }, [nodeFillColor]);\n    react_default.a.useEffect(() => {\n        const containerSelector = Array.from(classNameSet).reduce((acc, clz) => (clz ? `${acc}.${clz}` : acc), \'\');\n        const cssString = `\n      ${containerSelector} .x6-widget-minimap-viewport {\n        border: 1px solid ${borderColor};\n        margin: 0;\n      }\n      ${containerSelector} .x6-widget-minimap-viewport-zoom {\n        border: 1px solid ${handlerColor}; \n      }\n    `;\n        const $style = insertCss(cssString);\n        return () => {\n            document.head.removeChild($style);\n        };\n    }, [borderColor, classNameSet, handlerColor]);\n    const clzName = Array.from(classNameSet).join(\' \');\n    return (react_default.a.createElement(XFlowAppExtensionMoudle, { config: {\n            getConfig,\n            CONFIG_TYPE: canvas_mini_map_components_CONFIG_TYPE,\n        }, createModule: canvas_mini_map_module_createModule },\n        react_default.a.createElement("div", { ref: minimapRef, className: clzName, style: style })));\n};\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-mini-map/index.js\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/base-panel/config.js\n/** baseConfig */\nclass PropsProxy {\n    constructor() {\n        /** \u8bbe\u7f6e\u7ec4\u4ef6\u7684props */\n        this.getValue = () => {\n            return {};\n        };\n    }\n    /** dispose */\n    dispose() {\n        this.getValue = () => null;\n    }\n}\n/** baseConfig */\nclass PanelBaseConfig {\n    /** uuid */\n    constructor(moduleId) {\n        this.moduleId = moduleId;\n    }\n    /** dispose */\n    dispose() { }\n}\n//# sourceMappingURL=config.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/base-panel/context.js\n\nconst PanelContext = react_default.a.createContext({\n    propsProxy: null,\n    commandService: null,\n    modelService: null,\n});\nconst usePanelContext = () => react_default.a.useContext(PanelContext);\n//# sourceMappingURL=context.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/base-panel/index.js\n\n\n\n\n\nconst WorkspacePanel = props => {\n    const { className, position, style, children } = props;\n    const app = useXFlowApp();\n    const positionStyle = usePositionStyle(position);\n    const propsProxy = react_default.a.useMemo(() => {\n        return new PropsProxy();\n    }, []);\n    react_default.a.useEffect(() => {\n        return () => {\n            propsProxy.dispose();\n        };\n    }, [propsProxy]);\n    if (!app || !app.modelService) {\n        return null;\n    }\n    propsProxy.getValue = () => props;\n    const clz = classnames_default()({\n        [className]: !!className,\n        \'xflow-workspace-panel\': true,\n    });\n    const { commandService, modelService } = app;\n    return (react_default.a.createElement(PanelContext.Provider, { value: { propsProxy, commandService, modelService } },\n        react_default.a.createElement("div", { className: clz, style: Object.assign(Object.assign({}, positionStyle), style) }, children)));\n};\n\n\n//# sourceMappingURL=index.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/tree/index.js + 13 modules\nvar tree = __webpack_require__("6XiH");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/popover/index.js\nvar popover = __webpack_require__("excc");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/empty/index.js + 2 modules\nvar empty = __webpack_require__("MLLq");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/FolderOpenFilled.js + 1 modules\nvar FolderOpenFilled = __webpack_require__("aE8X");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/FolderFilled.js + 1 modules\nvar FolderFilled = __webpack_require__("R0Fx");\n\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-dag-extension/constants.js\nconst EDGE_PATH_TYPE = {\n    /** node \u6c34\u5e73 */\n    HORIRONTAL_NODE: \'xflow-node-horizontal-edge\',\n    /** Node \u5782\u76f4 */\n    VERTICAL_NODE: \'xflow-node-vertical-edge\',\n    /** Group \u5782\u76f4 */\n    VERTICAL_GROUP: \'xflow-group-vertical-edge\',\n};\nconst XFLOW_SHAPE = {\n    EDGE: \'xflow-edge\',\n};\nconst XFLOW_NODE_SHAPE = \'XFLOW_NODE_SHAPE\';\nconst NODE_DEFAULT_WIDTH = 160;\nconst NODE_DEFAULT_HEIGHT = 32;\n//# sourceMappingURL=constants.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-dag-extension/x6-extension/node.js\n/* eslint-disable @typescript-eslint/lines-between-class-members */\n\n\n\n\nlet XFlowNode;\nconst { AnchorGroup } = NsGraph;\nif (es["g" /* Node */].registry.exist(XFLOW_NODE_SHAPE)) {\n    XFlowNode = es["g" /* Node */].registry.get(XFLOW_NODE_SHAPE);\n}\nelse {\n    XFlowNode = x6_react_shape_es["a" /* ReactShape */].define({\n        width: NODE_DEFAULT_WIDTH,\n        height: NODE_DEFAULT_HEIGHT,\n        shape: XFLOW_NODE_SHAPE,\n        // X6_NODE_PORTAL_NODE_VIEW\n        view: constants_namespaceObject.X6_NODE_PORTAL_NODE_VIEW,\n        ports: {\n            groups: {\n                top: {\n                    zIndex: 2,\n                    position: {\n                        name: AnchorGroup.TOP,\n                    },\n                },\n                bottom: {\n                    zIndex: 2,\n                    position: {\n                        name: AnchorGroup.BOTTOM,\n                    },\n                },\n                right: {\n                    zIndex: 2,\n                    position: {\n                        name: AnchorGroup.RIGHT,\n                    },\n                },\n                left: {\n                    zIndex: 2,\n                    position: {\n                        name: AnchorGroup.LEFT,\n                    },\n                },\n            },\n        },\n        attrs: {\n            body: {\n                magnet: false,\n                fill: \'none\',\n                stroke: \'none\',\n                refWidth: \'100%\',\n                refHeight: \'100%\',\n                zIndex: 1,\n            },\n        },\n        portMarkup: [\n            {\n                tagName: \'g\',\n                selector: \'xflow-port-group\',\n                className: \'xflow-port-group\',\n                attrs: {\n                    width: 8,\n                    height: 8,\n                    x: -4,\n                    y: -4,\n                    zIndex: 10,\n                    // magnet\u51b3\u5b9a\u662f\u5426\u53ef\u4ea4\u4e92\n                    magnet: \'true\',\n                },\n                children: [\n                    {\n                        tagName: \'circle\',\n                        selector: \'xflow-port\',\n                        className: \'xflow-port\',\n                        attrs: {\n                            r: 4,\n                            fill: \'#fff\',\n                            stroke: \'#808080\',\n                            zIndex: 12,\n                        },\n                    },\n                    {\n                        tagName: \'polygon\',\n                        selector: \'xflow-port-arrow\',\n                        className: \'xflow-port-arrow\',\n                        attrs: {\n                            points: \'0,0 8,0 4,4 \',\n                            fill: \'#808080\',\n                            stroke: \'#808080\',\n                            zIndex: 13,\n                            transform: \'translate(-4,0)\',\n                        },\n                    },\n                ],\n            },\n        ],\n    });\n}\n\n//# sourceMappingURL=node.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-node-tree-panel/panel-body.js\nvar panel_body_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\nconst { DirectoryTree, TreeNode } = tree["a" /* default */];\nconst FolderIcon = ({ expanded }) => {\n    return expanded ? react_default.a.createElement(FolderOpenFilled["a" /* default */], null) : react_default.a.createElement(FolderFilled["a" /* default */], null);\n};\nconst defaultNodeFactory = (args) => {\n    return new XFlowNode(args);\n};\nconst renderNode = (props) => {\n    const { nodeConfig, onMouseDown, graphConfig, modelService, commandService } = props;\n    if (!graphConfig) {\n        return react_default.a.createElement("div", null);\n    }\n    const renderKey = graphConfig.nodeTypeParser(nodeConfig) || constants_namespaceObject.XFLOW_DEFAULT_NODE;\n    const reactComponent = graphConfig.nodeRender.get(renderKey);\n    return (react_default.a.createElement("div", { onMouseDown: onMouseDown }, react_default.a.createElement(reactComponent, {\n        commandService,\n        modelService,\n        data: nodeConfig,\n        isNodeTreePanel: true,\n    })));\n};\nconst NodeTitle = (props) => {\n    const [isVisible, setVisible] = react_default.a.useState(false);\n    const { prefixClz, graphConfig, commandService, modelService, popoverContent, onMouseDown, item, } = props;\n    return (react_default.a.createElement(react_default.a.Fragment, null,\n        popoverContent && (react_default.a.createElement(popover["a" /* default */], { placement: "right", destroyTooltipOnHide: true, content: popoverContent, visible: isVisible, onVisibleChange: val => {\n                setVisible(val);\n            } },\n            react_default.a.createElement("div", { className: `${prefixClz}-node-wrapper`, onMouseEnter: () => {\n                    setVisible(true);\n                } }, renderNode({\n                graphConfig,\n                commandService: commandService,\n                onMouseDown,\n                modelService,\n                nodeConfig: item,\n            })))),\n        !popoverContent && (react_default.a.createElement("div", { className: `${prefixClz}-node-wrapper`, onMouseEnter: () => {\n                setVisible(true);\n            } }, renderNode({\n            graphConfig,\n            commandService: commandService,\n            onMouseDown,\n            modelService,\n            nodeConfig: item,\n        })))));\n};\nconst NodePanelBody = props => {\n    const { x6NodeFactory, dndOptions, onNodeDrop, state, onFolderExpand, prefixClz } = props;\n    const { graphProvider, modelService, commandService } = useXFlowApp();\n    const [graphConfig, setConfig] = react_default.a.useState();\n    const [dnd, setDnd] = react_default.a.useState();\n    const [graph, setGraph] = react_default.a.useState();\n    graphProvider.getGraphInstance().then(x6Graph => {\n        setGraph(x6Graph);\n    });\n    react_default.a.useEffect(() => {\n        graphProvider.getGraphOptions().then(x6GraphConfig => {\n            setConfig(x6GraphConfig);\n        });\n        if (!graph) {\n            return;\n        }\n        const dndInstance = new es["a" /* Addon */].Dnd(Object.assign(Object.assign({ scaled: false, animation: false }, dndOptions), { target: graph, \n            /** \u8fd9\u91cc\u8003\u8651\u5230\u9700\u8981\u65b0\u589e\u7fa4\u7ec4\u7684\u9700\u6c42\uff0c\u4e0d\u4f7f\u7528x6\u7684getDropNod\u65b9\u6cd5\n             * \u5728validateNode\u65f6\u8c03\u7528command\u6dfb\u52a0\n             */\n            validateNode: (droppingNode) => panel_body_awaiter(void 0, void 0, void 0, function* () {\n                const nodeConfig = Object.assign(Object.assign({}, droppingNode.getData()), droppingNode.getPosition());\n                if (onNodeDrop) {\n                    yield onNodeDrop(nodeConfig, commandService, modelService);\n                }\n                else {\n                    console.error(\'onNodeDrop method is required in NodeTree Panel\');\n                }\n                return false;\n            }) }));\n        setDnd(dndInstance);\n    }, [commandService, dndOptions, graph, graphProvider, modelService, onNodeDrop]);\n    const onMouseDown = react_default.a.useCallback((nodeConfig) => (e) => {\n        if (!graph || !dnd || !graphConfig) {\n            return;\n        }\n        const renderKey = graphConfig.nodeTypeParser(nodeConfig);\n        const reactComponent = graphConfig.nodeRender.get(renderKey);\n        const wrappedComponent = getNodeReactComponent(reactComponent, commandService, modelService);\n        const nodeData = {\n            data: nodeConfig,\n            width: nodeConfig.width || 180,\n            height: nodeConfig.height || 40,\n            // X6_NODE_PORTAL_NODE_VIEW\n            view: graphConfig.graphId,\n            component: wrappedComponent,\n        };\n        const x6Node = x6NodeFactory ? x6NodeFactory(nodeData) : defaultNodeFactory(nodeData);\n        dnd.start(x6Node, e.nativeEvent);\n    }, [commandService, dnd, graph, graphConfig, modelService, x6NodeFactory]);\n    const renderTree = react_default.a.useCallback((treeList = []) => {\n        return treeList.map(item => {\n            const { isDirectory, children, popoverContent } = item;\n            if (isDirectory) {\n                return (react_default.a.createElement(TreeNode, { icon: FolderIcon, key: item.id, title: item.label, className: `${prefixClz}-tree-folder` }, renderTree(children)));\n            }\n            return (react_default.a.createElement(TreeNode, { isLeaf: true, key: item.id, className: `${prefixClz}-tree-leaf`, icon: react_default.a.createElement("span", null), title: react_default.a.createElement(NodeTitle, { item: item, onMouseDown: onMouseDown(item), popoverContent: popoverContent, prefixClz: prefixClz, modelService: modelService, commandService: commandService, graphConfig: graphConfig }) }));\n        });\n    }, [commandService, graphConfig, modelService, onMouseDown, prefixClz]);\n    return (react_default.a.createElement(react_default.a.Fragment, null,\n        react_default.a.createElement("div", { className: `${prefixClz}-body`, style: props.style },\n            !state.keyword && (react_default.a.createElement(DirectoryTree, { showIcon: true, selectable: false, autoExpandParent: false, onExpand: onFolderExpand, expandedKeys: state.expandedKeys, className: `${prefixClz}-tree` }, renderTree(state.treeData))),\n            state.searchList.length > 0 && (react_default.a.createElement("ul", { className: `${prefixClz}-body-list` }, state.searchList.map(treeNode => (react_default.a.createElement("li", { className: `${prefixClz}-body-list-item` },\n                react_default.a.createElement(NodeTitle, { item: treeNode, onMouseDown: onMouseDown(treeNode), popoverContent: treeNode.popoverContent, prefixClz: prefixClz, modelService: modelService, commandService: commandService, graphConfig: graphConfig })))))),\n            state.keyword && state.searchList.length === 0 && react_default.a.createElement(empty["a" /* default */], { style: { marginTop: \'48px\' } }))));\n};\n//# sourceMappingURL=panel-body.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-node-tree-panel/panel-header.js\n\n\n\nconst NodePanelHeader = props => {\n    const { prefixClz, onKeywordChange } = props;\n    const { propsProxy } = usePanelContext();\n    const panelProps = propsProxy.getValue();\n    return (react_default.a.createElement(react_default.a.Fragment, null,\n        react_default.a.createElement("div", { className: `${prefixClz}-header`, style: props.style },\n            panelProps.header && react_default.a.isValidElement(panelProps.header) && panelProps.header,\n            panelProps.searchService && (react_default.a.createElement("div", { className: `${prefixClz}-header-search` },\n                react_default.a.createElement(input["a" /* default */], { placeholder: "\\u641C\\u7D22\\u7EC4\\u4EF6", allowClear: true, onChange: e => onKeywordChange(e.target.value), style: { width: \'100%\', border: 0 } }))))));\n};\n//# sourceMappingURL=panel-header.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-node-tree-panel/panel-footer.js\n\n\nconst NodePanelFooter = props => {\n    const { prefixClz } = props;\n    const { propsProxy } = usePanelContext();\n    const panelProps = propsProxy.getValue();\n    return (react_default.a.createElement(react_default.a.Fragment, null,\n        react_default.a.createElement("div", { className: `${prefixClz}-footer`, style: props.style }, panelProps.footer && react_default.a.isValidElement(panelProps.footer) && panelProps.footer)));\n};\n//# sourceMappingURL=panel-footer.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-node-tree-panel/constants.js\nconst PANEL_HEADER_HEIGHT = 40;\nconst PANEL_FOOTER_HEIGHT = 40;\nconst TREE_ROOT_ID = \'XFLOW_TREE_PANEL_ROOT_ID\';\n//# sourceMappingURL=constants.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-node-tree-panel/utils.js\n\n\nconst usePanelLyaoutStyle = (config) => {\n    const headerHeight = (config && config.headerPosition && config.headerPosition.height) || PANEL_HEADER_HEIGHT;\n    const footerHeight = (config.footerPosition && config.footerPosition.height) || PANEL_FOOTER_HEIGHT;\n    return {\n        headerStyle: usePositionStyle(Object.assign({ height: headerHeight, lineHeight: headerHeight, top: 0, left: 0, right: 0 }, config.headerPosition)),\n        bodyStyle: usePositionStyle(Object.assign({ left: 0, right: 0, top: headerHeight, bottom: footerHeight }, config.bodyPosition)),\n        footerStyle: usePositionStyle(Object.assign({ left: 0, right: 0, lineHeight: footerHeight, height: footerHeight, bottom: 0 }, config.footerPosition)),\n    };\n};\n//# sourceMappingURL=utils.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/lodash/uniqBy.js\nvar uniqBy = __webpack_require__("yjkv");\nvar uniqBy_default = /*#__PURE__*/__webpack_require__.n(uniqBy);\n\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-node-tree-panel/service.js\nvar canvas_node_tree_panel_service_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\nvar NsNodeTreePanelModel;\n(function (NsNodeTreePanelModel) {\n    NsNodeTreePanelModel.id = \'TREE_PANEL_MODEL\';\n    NsNodeTreePanelModel.useModel = (model) => canvas_node_tree_panel_service_awaiter(this, void 0, void 0, function* () {\n        return model.awaitModel(NsNodeTreePanelModel.id);\n    });\n})(NsNodeTreePanelModel || (NsNodeTreePanelModel = {}));\n/** \u65b9\u4fbf\u5176\u4ed6\u7ec4\u4ef6\u6267\u884cCommand\u6539\u53d8Panel\u5185\u90e8\u72b6\u6001 */\nconst executeNodeDndTreeCommand = (cmds, updateModel) => {\n    cmds.executeCommand(XFlowModelCommands.UPDATE_MODEL.id, {\n        getModel: (modelService) => canvas_node_tree_panel_service_awaiter(void 0, void 0, void 0, function* () {\n            return NsNodeTreePanelModel.useModel(modelService);\n        }),\n        updateModel: updateModel,\n    });\n};\nconst useTreePanelData = (props) => {\n    const { treeDataService, searchService } = props;\n    const { modelService } = useXFlowApp();\n    /** \u4f7f\u7528model */\n    const [state, setState, panelModel] = createComponentModel({\n        treeData: [],\n        searchList: [],\n        treeNodeList: [],\n        expandedKeys: [],\n        defaultExpandAll: false,\n        keyword: \'\',\n    });\n    /** \u6ce8\u518c\u6210\u4e3a\u5168\u5c40\u72b6\u6001\uff0c\u65b9\u4fbf\u5176\u4ed6\u7ec4\u4ef6\u8054\u52a8 */\n    react_default.a.useEffect(() => {\n        if (modelService.findDeferredModel(NsNodeTreePanelModel.id)) {\n            return;\n        }\n        modelService.registerModel({\n            id: NsNodeTreePanelModel.id,\n            modelFactory: () => panelModel,\n            watchChange: (self) => canvas_node_tree_panel_service_awaiter(void 0, void 0, void 0, function* () {\n                const graphMetaModel = yield model_service_constant_namespaceObject.GRAPH_META.getModel(modelService); //useContext(MODELS.GRAPH_META.id)\n                const fetch = (meta) => canvas_node_tree_panel_service_awaiter(void 0, void 0, void 0, function* () {\n                    const listData = yield treeDataService(meta, modelService);\n                    const { treeData, rootNodes } = NodeList2Tree(listData);\n                    const currentState = yield self.getValidValue();\n                    // \u8bbe\u7f6e\u9ed8\u8ba4\u5c55\u5f00\u7684keys\n                    const expandedKeys = currentState.expandedKeys.length > 0\n                        ? currentState.expandedKeys\n                        : rootNodes.map(i => i.id);\n                    return { listData, treeData, expandedKeys };\n                });\n                const graphMetaDisposable = graphMetaModel.watch((meta) => canvas_node_tree_panel_service_awaiter(void 0, void 0, void 0, function* () {\n                    const data = yield fetch(meta);\n                    self.setValue({\n                        treeNodeList: data.listData,\n                        treeData: data.treeData,\n                        expandedKeys: data.expandedKeys,\n                        defaultExpandAll: false,\n                        keyword: \'\',\n                        searchList: [],\n                    });\n                }));\n                return Disposable.create(() => {\n                    graphMetaDisposable.dispose();\n                });\n            }),\n        });\n        /* eslint-disable-next-line  */\n    }, []);\n    /** \u6298\u53e0\u6587\u4ef6\u5939 */\n    const onFolderExpand = react_default.a.useCallback((expandedKeys) => {\n        setState(modelState => {\n            modelState.expandedKeys = expandedKeys;\n        });\n    }, [setState]);\n    /** \u641c\u7d22 */\n    const onKeywordChange = react_default.a.useCallback((keyword) => canvas_node_tree_panel_service_awaiter(void 0, void 0, void 0, function* () {\n        if (!searchService) {\n            return console.warn(\'searchService is not defined\');\n        }\n        if (keyword) {\n            const list = yield searchService(state.treeNodeList, keyword);\n            setState(modelState => {\n                modelState.keyword = keyword;\n                modelState.searchList = list;\n            });\n        }\n        else {\n            setState(modelState => {\n                modelState.keyword = \'\';\n                modelState.searchList = [];\n            });\n        }\n    }), \n    // eslint-disable-next-line\n    [searchService, state.treeNodeList]);\n    return {\n        state,\n        setState,\n        onKeywordChange,\n        onFolderExpand,\n    };\n};\n// \u5c06list\u6570\u636e\u8f6c\u6362\u4e3a\u6811\nfunction NodeList2Tree(treeNodes = []) {\n    const getGroupByIdMap = (list) => {\n        const uniqList = uniqBy_default()(list, \'id\');\n        const groups = uniqList.reduce((map, node) => {\n            const parentId = node.parentId || TREE_ROOT_ID;\n            if (!map.has(parentId)) {\n                map.set(parentId, []);\n            }\n            const group = map.get(parentId);\n            group.push(node);\n            return map;\n        }, new Map());\n        return groups;\n    };\n    const groupMap = getGroupByIdMap(cloneDeep_default()(treeNodes));\n    function iterator(nodes, groupMapArgs) {\n        return nodes.map(node => {\n            if (groupMapArgs.has(node.id)) {\n                const children = groupMapArgs.get(node.id);\n                node.key = node.id;\n                node.isDirectory = true;\n                node.children = iterator(children, groupMapArgs) || [];\n            }\n            else {\n                node.isLeaf = true;\n            }\n            return node;\n        });\n    }\n    const rootNodes = groupMap.get(TREE_ROOT_ID) || [];\n    const treeData = iterator(rootNodes, groupMap);\n    return { treeData, rootNodes };\n}\n//# sourceMappingURL=service.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-node-tree-panel/interface.js\nvar NsTreePanelData;\n(function (NsTreePanelData) {\n    NsTreePanelData.id = \'TREE_PANEL_DATA\';\n})(NsTreePanelData || (NsTreePanelData = {}));\n//# sourceMappingURL=interface.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-node-tree-panel/index.js\n\n\n\n\n\n\n\n\n\nconst NodeTreePanelMain = props => {\n    const { headerStyle, bodyStyle, footerStyle } = usePanelLyaoutStyle(props);\n    const { state, onFolderExpand, onKeywordChange } = useTreePanelData(props);\n    return (react_default.a.createElement(react_default.a.Fragment, null,\n        react_default.a.createElement(NodePanelHeader, Object.assign({}, props, { state: state, style: headerStyle, onKeywordChange: onKeywordChange })),\n        react_default.a.createElement(NodePanelBody, Object.assign({}, props, { state: state, style: bodyStyle, onFolderExpand: onFolderExpand })),\n        react_default.a.createElement(NodePanelFooter, Object.assign({}, props, { state: state, style: footerStyle }))));\n};\nconst NodeTreePanel = props => {\n    const prefixClz = useXflowPrefixCls(\'node-dnd-panel\');\n    return (react_default.a.createElement(WorkspacePanel, Object.assign({}, props, { className: prefixClz }),\n        react_default.a.createElement(NodeTreePanelMain, Object.assign({}, props, { prefixClz: prefixClz }))));\n};\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/panel-footer.js\n\n\n\nconst PanelFooter = props => {\n    const { state } = props;\n    const { propsProxy } = usePanelContext();\n    const panelProps = propsProxy.getValue();\n    const app = useXFlowApp();\n    /** \u662f\u5426\u6709 custom footer */\n    const isValidFooterFC = panelProps.footer && typeof panelProps.footer === \'function\';\n    return (react_default.a.createElement(react_default.a.Fragment, null,\n        react_default.a.createElement("div", { className: `${props.prefixClz}-footer`, style: props.style },\n            isValidFooterFC &&\n                react_default.a.createElement(panelProps.footer, Object.assign(Object.assign({}, props), { headerStyle: {}, bodyStyle: {}, footerStyle: props.style, targetData: state.targetData, targetType: state.targetType, modelService: app.modelService, commandService: app.commandService })),\n            !panelProps.footer && (react_default.a.createElement("div", { className: `${props.prefixClz}-footer-title` }, panelProps.footerText)))));\n};\n//# sourceMappingURL=panel-footer.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/panel-header.js\n\n\n\nconst PanelHeader = props => {\n    const { prefixClz, hasSchema, state } = props;\n    const { propsProxy } = usePanelContext();\n    const panelProps = propsProxy.getValue();\n    const app = useXFlowApp();\n    /** form\u4f1a\u4f7f\u7528tab\u505a\u4e3aheader\uff0c\u9700\u8981\u8ba9\u51fa\u4f4d\u7f6e*/\n    if (hasSchema) {\n        return null;\n    }\n    /** \u662f\u5426\u6709 custom header */\n    const isValidHeaderFC = panelProps.header && typeof panelProps.header === \'function\';\n    return (react_default.a.createElement(react_default.a.Fragment, null,\n        react_default.a.createElement("div", { className: `${prefixClz}-header`, style: props.style },\n            isValidHeaderFC &&\n                react_default.a.createElement(panelProps.header, Object.assign(Object.assign({}, props), { headerStyle: props.style, bodyStyle: {}, footerStyle: {}, targetData: state.targetData, targetType: state.targetType, modelService: app.modelService, commandService: app.commandService })),\n            !panelProps.header && (react_default.a.createElement("div", { className: `${prefixClz}-header-title` }, panelProps.headerText || \'Panel\')))));\n};\n//# sourceMappingURL=panel-header.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/tabs/index.js + 4 modules\nvar es_tabs = __webpack_require__("NbVC");\n\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/schema-form/common/tooltip/index.js\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\nconst Tooltip = props => {\n    const { text } = props, otherProps = __rest(props, ["text"]);\n    if (!text) {\n        return null;\n    }\n    return (react_default.a.createElement(es_tooltip["a" /* default */], Object.assign({ placement: "left", title: text }, otherProps),\n        react_default.a.createElement("div", { className: "text-truncate" }, text)));\n};\n// \u6e32\u67d3 FormItem \u7684 extra \u9879\nfunction renderFormItemExtra(text) {\n    if (!text) {\n        return undefined;\n    }\n    return react_default.a.createElement(Tooltip, { text: text });\n}\n//# sourceMappingURL=index.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/lodash/get.js\nvar get = __webpack_require__("2srY");\nvar get_default = /*#__PURE__*/__webpack_require__.n(get);\n\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/schema-form/common/form-item-wrapper/util.js\n\n// \u6839\u636e\u4f9d\u8d56\u5b57\u6bb5\u751f\u6210 FormItem \u7684 updater\nfunction makeUpdaterByDependencies(dependencies, setReasonField) {\n    return (prevValues, currentValues) => {\n        const hasFunctionDep = dependencies.some(dep => typeof (dep === null || dep === void 0 ? void 0 : dep.condition) === \'function\');\n        if (hasFunctionDep) {\n            if (typeof setReasonField === \'function\') {\n                setReasonField(undefined); // \u5728\u66f4\u65b0\u89c4\u5219\u662f\u4e00\u4e2a\u51fd\u6570\u65f6\uff0c\u4e0d\u4f9d\u8d56\u7279\u5b9a\u5b57\u6bb5\u8fdb\u884c\u66f4\u65b0(\u5373\u53ea\u8981\u6709\u5b57\u6bb5\u7684\u503c\u66f4\u65b0\u4e86\u5c31\u66f4\u65b0\uff0c\u56e0\u4e3a\u4e0d\u77e5\u9053\u51fd\u6570\u5185\u90e8\u4f9d\u8d56\u4ec0\u4e48\u5b57\u6bb5)\n            }\n            return true;\n        }\n        return dependencies.some(dep => {\n            const { name } = dep;\n            if (!name) {\n                // eslint-disable-next-line no-console\n                console.error(`[Schema form]: A dependent name must be provided in the updater when the dependency condition is not a function.`);\n                return false;\n            }\n            const changed = get_default()(prevValues, name) !== get_default()(currentValues, name);\n            if (changed) {\n                if (typeof setReasonField === \'function\') {\n                    setReasonField(name);\n                }\n                return true;\n            }\n            return false;\n        });\n    };\n}\nfunction isEmptyParamValue(val) {\n    return val === \'\' || val === undefined;\n}\n// \u6839\u636e\u4f9d\u8d56\u5b57\u6bb5\u7684\u503c\u751f\u6210\u5f53\u524d\u7684 FormItem \u7684\u503c\nfunction makeFormItemControlledProps(form, schema, reasonField) {\n    const { getFieldValue, getFieldsValue } = form;\n    const { dependencies, hidden, disabled } = schema;\n    let isHidden = hidden;\n    let isDisabled = disabled;\n    // \u5f53\u4f9d\u8d56\u6ee1\u8db3\u5e76\u4e14\u4f9d\u8d56\u88ab\u64cd\u4f5c\u8fc7\u65f6\uff0c\u6700\u7ec8\u72b6\u6001\u4f1a\u53d8\u6210\u4f9d\u8d56\u6307\u5b9a\u7684\u72b6\u6001\n    dependencies === null || dependencies === void 0 ? void 0 : dependencies.forEach(dependency => {\n        const { name: depName, condition, hidden: targetHiden, disabled: targetDisabled } = dependency;\n        // \u5728 condition \u4e0d\u662f\u51fd\u6570\u65f6\uff0c\u53ea\u68c0\u9a8c\u9020\u6210\u66f4\u65b0\u7684\u5b57\u6bb5\u7684\u53d8\u5316\n        if (typeof condition !== \'function\' && reasonField && depName !== reasonField) {\n            return;\n        }\n        let match = false;\n        if (typeof condition === \'function\') {\n            const values = getFieldsValue();\n            match = !!condition(values);\n        }\n        else {\n            if (!depName) {\n                // eslint-disable-next-line no-console\n                console.error(`[Schema form]: A dependent name must be provided in the props genarator when the dependency condition is not a function.`);\n                return;\n            }\n            match = getFieldValue(depName) === condition;\n        }\n        if (match) {\n            if (targetHiden !== undefined) {\n                isHidden = targetHiden;\n            }\n            if (targetDisabled !== undefined) {\n                isDisabled = targetDisabled;\n            }\n        }\n    });\n    return {\n        hidden: isHidden,\n        disabled: isDisabled,\n    };\n}\n//# sourceMappingURL=util.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/schema-form/common/form-item-wrapper/index.js\n\n\n\nconst FormItemWrapper = props => {\n    const { schema, children } = props;\n    const [updateReasonField, setUpdateReasonField] = Object(react["useState"])();\n    const { dependencies, value, defaultValue, hidden, disabled } = schema;\n    const updater = Object(react["useMemo"])(() => {\n        return (dependencies === null || dependencies === void 0 ? void 0 : dependencies.length)\n            ? makeUpdaterByDependencies(dependencies, setUpdateReasonField)\n            : undefined;\n    }, [dependencies]);\n    if (typeof children !== \'function\') {\n        throw new Error(\'[Schema Form]: chilren of FormItemWrapper should be a render prop.\');\n    }\n    const initValue = isEmptyParamValue(value) ? defaultValue : value;\n    if (updater) {\n        return (react_default.a.createElement(es_form["a" /* default */].Item, { noStyle: true, shouldUpdate: updater }, form => {\n            const { hidden: isHidden, disabled: isDisabled } = makeFormItemControlledProps(form, schema, updateReasonField);\n            return children({\n                hidden: isHidden,\n                disabled: isDisabled,\n                initialValue: initValue,\n            });\n        }));\n    }\n    return children({\n        hidden,\n        disabled,\n        initialValue: initValue,\n    });\n};\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/schema-form/control-map/string-input/index.js\n\n\n\n\nconst StringInput = props => {\n    const { controlSchema } = props;\n    const { required, tooltip, extra, name, label, placeholder } = controlSchema;\n    return (react_default.a.createElement(FormItemWrapper, { schema: controlSchema }, ({ disabled, hidden, initialValue }) => {\n        return (react_default.a.createElement(es_form["a" /* default */].Item, { name: name, label: label, initialValue: initialValue, tooltip: tooltip, extra: renderFormItemExtra(extra), required: required, hidden: hidden },\n            react_default.a.createElement(input["a" /* default */], { className: \'xflow-form-input\', allowClear: true, placeholder: placeholder, disabled: disabled })));\n    }));\n};\n//# sourceMappingURL=index.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/checkbox/index.js + 2 modules\nvar es_checkbox = __webpack_require__("ibId");\n\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/schema-form/control-map/checkbox/index.js\n\n\n\n\nconst Checkbox = props => {\n    const { controlSchema } = props;\n    const { required, tooltip, extra, name, label } = controlSchema;\n    return (react_default.a.createElement(FormItemWrapper, { schema: controlSchema }, ({ hidden, disabled, initialValue }) => {\n        return (react_default.a.createElement(es_form["a" /* default */].Item, { className: "xflow-form-checkbox", name: name, initialValue: initialValue, tooltip: tooltip, extra: renderFormItemExtra(extra), required: required, hidden: hidden, valuePropName: "checked", getValueProps: checked => {\n                const checkedMap = {\n                    true: true,\n                    false: false,\n                };\n                return { checked: !!checkedMap[checked] };\n            } },\n            react_default.a.createElement(es_checkbox["a" /* default */], { disabled: disabled }, label)));\n    }));\n};\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/schema-form/control-map/text-area/index.js\n\n\n\n\nconst TextArea = props => {\n    const { controlSchema } = props;\n    const { required, tooltip, extra, name, label, placeholder } = controlSchema;\n    return (react_default.a.createElement(FormItemWrapper, { schema: controlSchema }, ({ hidden, disabled, initialValue }) => {\n        return (react_default.a.createElement(es_form["a" /* default */].Item, { name: name, label: label, initialValue: initialValue, tooltip: tooltip, extra: renderFormItemExtra(extra), required: required, hidden: hidden },\n            react_default.a.createElement(input["a" /* default */].TextArea, { allowClear: true, placeholder: placeholder, rows: 3, disabled: disabled })));\n    }));\n};\n//# sourceMappingURL=index.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/select/index.js + 10 modules\nvar es_select = __webpack_require__("x2dm");\n\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/schema-form/control-map/select/index.js\n\n\n\n\nconst Select = props => {\n    const { controlSchema } = props;\n    const { required, tooltip, extra, name, label, placeholder, options = [] } = controlSchema;\n    return (react_default.a.createElement(FormItemWrapper, { schema: controlSchema }, ({ hidden, disabled, initialValue }) => {\n        return (react_default.a.createElement(es_form["a" /* default */].Item, { name: name, label: label, initialValue: initialValue, tooltip: tooltip, extra: renderFormItemExtra(extra), required: required, hidden: hidden },\n            react_default.a.createElement(es_select["a" /* default */], { disabled: disabled, placeholder: placeholder }, options.map(option => {\n                const { title, value } = option;\n                return (react_default.a.createElement(es_select["a" /* default */].Option, { key: value.toString(), value: value }, title));\n            }))));\n    }));\n};\n//# sourceMappingURL=index.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/date-picker/index.js + 58 modules\nvar date_picker = __webpack_require__("i6l0");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/moment/moment.js\nvar moment = __webpack_require__("wgY5");\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/schema-form/control-map/datetime/datetime-picker.js\n\n\n\nconst DatetimePicker = props => {\n    const { className, style, disabled, value, onChange } = props;\n    const [innerValue, setInnerValue] = Object(react["useState"])(value ? moment_default()(value) : undefined);\n    const mountedRef = Object(react["useRef"])(false);\n    Object(react["useEffect"])(() => {\n        if (!mountedRef.current) {\n            mountedRef.current = true;\n            return;\n        }\n        const valueMoment = moment_default()(value);\n        if (valueMoment.isValid()) {\n            setInnerValue(valueMoment);\n        }\n    }, [value]);\n    const onChangeMoment = Object(react["useCallback"])((_, dateString) => {\n        const nextMoment = moment_default()(dateString);\n        setInnerValue(nextMoment.isValid() ? nextMoment : undefined);\n        if (typeof onChange === \'function\') {\n            onChange(nextMoment.isValid() ? nextMoment.format(\'YYYY-MM-DD HH:mm:ss\') : \'\');\n        }\n    }, [onChange]);\n    return (react_default.a.createElement(date_picker["a" /* default */], { showTime: true, allowClear: true, className: className, style: style, disabled: disabled, value: innerValue, onChange: onChangeMoment }));\n};\n//# sourceMappingURL=datetime-picker.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/schema-form/control-map/datetime/index.js\n\n\n\n\n\nconst Datetime = props => {\n    const { controlSchema } = props;\n    const { required, tooltip, extra, name, label } = controlSchema;\n    return (react_default.a.createElement(FormItemWrapper, { schema: controlSchema }, ({ disabled, hidden, initialValue }) => {\n        return (react_default.a.createElement(es_form["a" /* default */].Item, { name: name, label: label, initialValue: initialValue, tooltip: tooltip, extra: renderFormItemExtra(extra), required: required, hidden: hidden },\n            react_default.a.createElement(DatetimePicker, { style: { width: \'100%\' }, disabled: disabled })));\n    }));\n};\n//# sourceMappingURL=index.js.map\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input-number/index.js + 11 modules\nvar input_number = __webpack_require__("gJMY");\n\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/schema-form/control-map/float/input-number.js\n\n\nfunction transformValue(val) {\n    const result = Number(val);\n    return Number.isNaN(result) ? undefined : result;\n}\nconst InputNumber = props => {\n    const { disabled, placeholder, value, onChange } = props;\n    const [innerValue, setInnerValue] = Object(react["useState"])(transformValue(value));\n    const mountedRef = Object(react["useRef"])(false);\n    Object(react["useEffect"])(() => {\n        if (!mountedRef.current) {\n            mountedRef.current = true;\n        }\n        setInnerValue(transformValue(value));\n    }, [value]);\n    const onValueChange = Object(react["useCallback"])((nextValue) => {\n        setInnerValue(nextValue);\n        if (typeof onChange === \'function\') {\n            if (nextValue === undefined) {\n                onChange(\'\');\n            }\n            else if (typeof transformValue(nextValue) === \'number\') {\n                onChange(transformValue(nextValue));\n            }\n        }\n    }, [onChange]);\n    return (react_default.a.createElement(input_number["a" /* default */], { style: { width: \'100%\' }, size: "small", placeholder: placeholder, value: innerValue, onChange: onValueChange, disabled: disabled }));\n};\n//# sourceMappingURL=input-number.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/schema-form/control-map/float/index.js\n\n\n\n\n\nconst Float = props => {\n    const { controlSchema } = props;\n    const { required, tooltip, extra, name, label, placeholder } = controlSchema;\n    return (react_default.a.createElement(FormItemWrapper, { schema: controlSchema }, ({ disabled, hidden, initialValue }) => {\n        return (react_default.a.createElement(es_form["a" /* default */].Item, { name: name, label: label, initialValue: initialValue, tooltip: tooltip, extra: renderFormItemExtra(extra), required: required, hidden: hidden },\n            react_default.a.createElement(InputNumber, { placeholder: placeholder, disabled: disabled })));\n    }));\n};\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/interface.js\n/**  Form\u63a7\u4ef6 shape\u7684\u7c7b\u578b */\nvar ControlShape;\n(function (ControlShape) {\n    ControlShape["INPUT"] = "input";\n    ControlShape["CHECKBOX"] = "checkbox";\n    ControlShape["TEXTAREA"] = "textArea";\n    ControlShape["SELECT"] = "select";\n    ControlShape["DATETIME"] = "datetime";\n    ControlShape["FLOAT"] = "float";\n})(ControlShape || (ControlShape = {}));\n//# sourceMappingURL=interface.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/schema-form/control-map/index.js\n\n\n\n\n\n\n\nconst xflowDefaultControls = [\n    [ControlShape.INPUT, StringInput],\n    [ControlShape.CHECKBOX, Checkbox],\n    [ControlShape.TEXTAREA, TextArea],\n    [ControlShape.DATETIME, Datetime],\n    [ControlShape.SELECT, Select],\n    [ControlShape.FLOAT, Float],\n];\nconst makeControlMap = (controls) => {\n    const controlMap = new Map();\n    controls.forEach(item => {\n        const [key, control] = item;\n        const uuid = key.toLowerCase();\n        if (controlMap.has(uuid)) {\n            console.error(`${key} is duplicated in controlMap:`, controlMap);\n        }\n        controlMap.set(uuid, control);\n    });\n    return controlMap;\n};\nconst getControlFromMap = (key, controlMap, defaultControl = StringInput) => {\n    if (controlMap.has(key)) {\n        return controlMap.get(key);\n    }\n    const uuid = key.toLowerCase();\n    if (controlMap.has(uuid)) {\n        return controlMap.get(uuid);\n    }\n    console.warn(`${key} is not exist in controlmap, fallback to defaultControl`);\n    return defaultControl;\n};\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/schema-form/index.js\nvar schema_form_rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\n\nconst { TabPane } = es_tabs["a" /* default */];\nconst SchemaForm = props => {\n    var _a;\n    const { schema, form: formInstance, className, triggerUpdate, defaultControlRender, afterUpdatingCb, controlMap: controlMapfromParent } = props, otherProps = schema_form_rest(props, ["schema", "form", "className", "triggerUpdate", "defaultControlRender", "afterUpdatingCb", "controlMap"]);\n    const { tabs } = schema;\n    const [form] = es_form["a" /* default */].useForm(formInstance);\n    const controlMap = react_default.a.useMemo(() => (props.controlMap ? props.controlMap : makeControlMap(xflowDefaultControls)), [props.controlMap]);\n    const innerTriggerUpdate = Object(react["useCallback"])((values) => {\n        if (typeof triggerUpdate === \'function\') {\n            triggerUpdate(form, values);\n        }\n    }, [form, triggerUpdate]);\n    /** \u521d\u6b21\u6302\u8f7d\u65f6\u8bbe\u7f6e\u4e00\u6b21\u503c\u4ee5\u6fc0\u6d3b\u9996\u6b21\u8054\u52a8 */\n    Object(react["useEffect"])(() => {\n        form.setFieldsValue({});\n    }, [form]);\n    /** \u5207\u6362\u6807\u7b7e\u65f6\u6fc0\u6d3b\u8054\u52a8 */\n    const onClickTab = Object(react["useCallback"])(() => {\n        requestAnimationFrame(() => {\n            form.setFieldsValue({});\n        });\n    }, [form]);\n    return (react_default.a.createElement(es_form["a" /* default */], Object.assign({ size: "small", form: form, layout: "vertical", className: classnames_default()(\'xflow-json-form\', className) }, otherProps),\n        react_default.a.createElement(es_tabs["a" /* default */], { type: "card", defaultActiveKey: (_a = tabs[0]) === null || _a === void 0 ? void 0 : _a.name, className: classnames_default()({\n                [\'tabs\']: true,\n                [\'xTab\']: true,\n                [\'singleTab\']: (tabs === null || tabs === void 0 ? void 0 : tabs.length) === 1,\n                [\'coupleTab\']: (tabs === null || tabs === void 0 ? void 0 : tabs.length) === 2,\n                [\'ternateTab\']: (tabs === null || tabs === void 0 ? void 0 : tabs.length) === 3,\n            }), onTabClick: onClickTab }, tabs.map((tab) => {\n            const { name: tabName, groups } = tab;\n            return (react_default.a.createElement(TabPane, { key: tabName, tab: tabName },\n                groups.length === 0 && react_default.a.createElement(empty["a" /* default */], { style: { padding: \'24px 0\' } }),\n                groups.length > 0 &&\n                    groups.map(group => {\n                        const { controls: groupControls = [] } = group;\n                        if (groupControls.length === 0) {\n                            return react_default.a.createElement(empty["a" /* default */], { style: { padding: \'24px 0\' } });\n                        }\n                        return groupControls.map(control => {\n                            const { shape, name: controlName } = control;\n                            const ControlComponent = getControlFromMap(shape, controlMap, defaultControlRender);\n                            if (!ControlComponent) {\n                                console.error(\'\u672a\u627e\u5230\u5bf9\u5e94\u7684\u63a7\u4ef6:\', shape);\n                                return null;\n                            }\n                            return (react_default.a.createElement(ControlComponent, { key: controlName, form: form, controlSchema: control, triggerUpdate: innerTriggerUpdate, afterUpdatingCb: afterUpdatingCb }));\n                        });\n                    })));\n        }))));\n};\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/panel-body.js\n\n\n\n\nconst PanelBody = props => {\n    const { schema = { tabs: [] }, triggerUpdate, onFieldsChange, afterUpdatingCb, defaultControlRender, loading, controlMapService, defaultControls = [], } = props;\n    const controlMapCache = react_default.a.useMemo(() => {\n        const controlMap = makeControlMap([...xflowDefaultControls, ...defaultControls]);\n        if (controlMapService) {\n            controlMapService(controlMap);\n        }\n        return controlMap;\n    }, [controlMapService, defaultControls]);\n    if (loading) {\n        return (react_default.a.createElement("div", { className: `${props.prefixClz}-body`, style: Object.assign(Object.assign({}, props.style), { display: \'flex\', justifyContent: \'center\', alignItems: \'center\' }) },\n            react_default.a.createElement(spin["a" /* default */], { spinning: true })));\n    }\n    return (react_default.a.createElement("div", { className: `${props.prefixClz}-body`, style: props.style },\n        schema.tabs.length > 0 && (react_default.a.createElement(SchemaForm, { schema: schema, onFieldsChange: onFieldsChange, controlMap: controlMapCache, defaultControlRender: defaultControlRender, afterUpdatingCb: afterUpdatingCb, triggerUpdate: triggerUpdate })),\n        schema.tabs.length === 0 && react_default.a.createElement(empty["a" /* default */], { style: { paddingTop: \'64px\' } })));\n};\n//# sourceMappingURL=panel-body.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/constants.js\nconst constants_PANEL_HEADER_HEIGHT = 40;\nconst constants_PANEL_FOOTER_HEIGHT = 40;\n//# sourceMappingURL=constants.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/utils.js\n\n\nconst utils_usePanelLyaoutStyle = (config, noSchema) => {\n    const headerHeight = (config && config.headerPosition && config.headerPosition.height) || constants_PANEL_HEADER_HEIGHT;\n    const footerHeight = (config.footerPosition && config.footerPosition.height) || constants_PANEL_FOOTER_HEIGHT;\n    return {\n        headerStyle: usePositionStyle(Object.assign(Object.assign({ height: 0, top: 0, left: 0, right: 0 }, (noSchema ? { height: headerHeight, lineHeight: headerHeight } : {})), config.headerPosition)),\n        bodyStyle: usePositionStyle(Object.assign(Object.assign({ left: 0, right: 0, top: 0 }, (noSchema ? { top: headerHeight, bottom: footerHeight } : { bottom: footerHeight })), config.bodyPosition)),\n        footerStyle: usePositionStyle(Object.assign(Object.assign({ left: 0, right: 0, lineHeight: footerHeight, height: footerHeight, bottom: 0 }, (noSchema ? { lineHeight: footerHeight, height: footerHeight } : { bottom: 0 })), config.footerPosition)),\n    };\n};\n//# sourceMappingURL=utils.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/service.js\nvar canvas_json_schema_form_service_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nvar NsJsonSchemaFormModel;\n(function (NsJsonSchemaFormModel) {\n    NsJsonSchemaFormModel.id = \'XFLOW_JSON_SCHEMA_FORM\';\n    NsJsonSchemaFormModel.useModel = (model) => canvas_json_schema_form_service_awaiter(this, void 0, void 0, function* () {\n        return model.awaitModel(NsJsonSchemaFormModel.id);\n    });\n})(NsJsonSchemaFormModel || (NsJsonSchemaFormModel = {}));\n/** \u65b9\u4fbf\u5176\u4ed6\u7ec4\u4ef6\u6267\u884cCommand\u6539\u53d8Panel\u5185\u90e8\u72b6\u6001 */\nconst executeJsonSchemaFormCommand = (cmds, updateModel) => {\n    cmds.executeCommand(XFlowModelCommands.UPDATE_MODEL.id, {\n        getModel: (modelService) => canvas_json_schema_form_service_awaiter(void 0, void 0, void 0, function* () {\n            return NsJsonSchemaFormModel.useModel(modelService);\n        }),\n        updateModel: updateModel,\n    });\n};\nconst useJsonSchemaFormModel = (props) => {\n    const app = useXFlowApp();\n    const { commandService, modelService } = app;\n    const { formSchemaService } = props;\n    const [state, setState, model, isModelReady] = createComponentModel({\n        schema: { tabs: [] },\n        targetType: null,\n        targetData: null,\n        targetCell: null,\n        loading: false,\n    });\n    /** \u6ce8\u518c\u5168\u5c40\u7684model */\n    react_default.a.useEffect(() => {\n        if (!app || !app.modelService) {\n            return;\n        }\n        const toDispose = new disposable_DisposableCollection();\n        const deferredModel = app.modelService.findDeferredModel(NsJsonSchemaFormModel.id);\n        if (!deferredModel) {\n            const d = app.modelService.registerModel({\n                id: NsJsonSchemaFormModel.id,\n                modelFactory: () => model,\n                /** \u76d1\u542cSELECTED_CELL\u7684\u53d8\u5316 */\n                watchChange: (self, modelSerccie) => canvas_json_schema_form_service_awaiter(void 0, void 0, void 0, function* () {\n                    const selectedCellModel = yield model_service_constant_namespaceObject.SELECTED_CELL.getModel(modelSerccie);\n                    const nodeDisposable = selectedCellModel.watch((cell) => canvas_json_schema_form_service_awaiter(void 0, void 0, void 0, function* () {\n                        const updateState = (targetCell, type) => canvas_json_schema_form_service_awaiter(void 0, void 0, void 0, function* () {\n                            self.setValue(m => {\n                                m.loading = true;\n                                m.schema = { tabs: [] };\n                                m.targetType = null;\n                                m.targetData = null;\n                                m.targetCell = null;\n                            });\n                            const targetData = targetCell ? targetCell.getData() : null;\n                            if (!formSchemaService) {\n                                return;\n                            }\n                            const schema = yield formSchemaService({\n                                commandService,\n                                modelService,\n                                targetData,\n                                cell: targetCell,\n                                targetType: type,\n                            });\n                            self.setValue({\n                                loading: false,\n                                schema: schema,\n                                targetType: type,\n                                targetCell: targetCell,\n                                targetData: targetData,\n                            });\n                        });\n                        const getCellType = (targetCell) => {\n                            if (!targetCell) {\n                                return \'canvas\';\n                            }\n                            else if (targetCell.isNode &&\n                                targetCell.isNode() &&\n                                targetCell.getProp(\'isGroup\')) {\n                                return \'group\';\n                            }\n                            else if (targetCell.isNode && targetCell.isNode()) {\n                                return \'node\';\n                            }\n                            else if (targetCell.isEdge && targetCell.isEdge()) {\n                                return \'edge\';\n                            }\n                            else {\n                                return \'canvas\';\n                            }\n                        };\n                        const targetCellType = getCellType(cell);\n                        if ((props.targetType || [\'node\', \'canvas\']).includes(targetCellType)) {\n                            yield updateState(cell, targetCellType);\n                        }\n                    }));\n                    return Disposable.create(() => {\n                        nodeDisposable.dispose();\n                        toDispose.push(nodeDisposable);\n                    });\n                }),\n            });\n            toDispose.push(d);\n        }\n        return () => {\n            toDispose.dispose();\n        };\n        /* eslint-disable-next-line  */\n    }, []);\n    return { commandService, modelService, state, setState, model, isModelReady };\n};\n//# sourceMappingURL=service.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/main.js\nvar main_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\n\n\n/** useFormPanelData\u83b7\u53d6\u6570\u636e */\nconst JsonSchemaFormMain = props => {\n    const { prefixClz } = props;\n    const { getCustomRenderComponent, afterUpdatingCb, formValueUpdateService = () => { } } = props;\n    const { state, commandService, modelService } = useJsonSchemaFormModel(props);\n    // \u8054\u52a8\u66f4\u65b0form items\u7684\u503c\n    const triggerUpdate = react_default.a.useCallback((form, values = {}) => main_awaiter(void 0, void 0, void 0, function* () {\n        form.setFieldsValue(values);\n        const changedFields = Object.entries(values).map(([key, val]) => {\n            return { name: key, value: val };\n        });\n        const allFields = Object.entries(state.targetData).map(([key, val]) => {\n            return { name: key, value: val };\n        });\n        const result = yield formValueUpdateService({\n            allFields: allFields,\n            values: changedFields,\n            modelService,\n            commandService,\n            targetData: state.targetData,\n            targetType: state.targetType,\n        });\n        if (afterUpdatingCb) {\n            afterUpdatingCb(result);\n        }\n    }), [\n        afterUpdatingCb,\n        commandService,\n        formValueUpdateService,\n        modelService,\n        state.targetData,\n        state.targetType,\n    ]);\n    // \u5728fields change\u65f6\u7684\u56de\u8c03\n    const onFieldsChange = react_default.a.useCallback((changedFields, allFields) => main_awaiter(void 0, void 0, void 0, function* () {\n        const result = yield formValueUpdateService({\n            values: changedFields,\n            allFields,\n            modelService,\n            commandService,\n            targetData: state.targetData,\n            targetType: state.targetType,\n        });\n        if (afterUpdatingCb) {\n            afterUpdatingCb(result);\n        }\n    }), [\n        afterUpdatingCb,\n        commandService,\n        formValueUpdateService,\n        modelService,\n        state.targetData,\n        state.targetType,\n    ]);\n    /** schema\u4e3a\u7a7a\u7684\u60c5\u51b5  */\n    const noSchema = react_default.a.useMemo(() => {\n        try {\n            return state.schema.tabs.length === 0 || !state.schema;\n        }\n        catch (error) {\n            return true;\n        }\n    }, [state.schema]);\n    const { headerStyle, bodyStyle, footerStyle } = utils_usePanelLyaoutStyle(props, noSchema);\n    /** \u652f\u6301\u81ea\u5b9a\u4e49\u6e32\u67d3 */\n    if (getCustomRenderComponent) {\n        const Component = getCustomRenderComponent(state.targetType, state.targetData, modelService, commandService);\n        if (Component) {\n            return react_default.a.createElement(Component, Object.assign(Object.assign({}, props), { headerStyle,\n                bodyStyle,\n                footerStyle, targetData: state.targetData, targetType: state.targetType, modelService: modelService, commandService: commandService }));\n        }\n    }\n    return (react_default.a.createElement("div", { className: prefixClz },\n        react_default.a.createElement(PanelHeader, Object.assign({ hasSchema: !noSchema }, props, { state: state, style: headerStyle, prefixClz: props.prefixClz })),\n        react_default.a.createElement(PanelBody, Object.assign({}, props, { key: state.targetData && state.targetData.id, style: bodyStyle, prefixClz: props.prefixClz, loading: state.loading, schema: state.schema, triggerUpdate: triggerUpdate, onFieldsChange: onFieldsChange })),\n        react_default.a.createElement(PanelFooter, Object.assign({}, props, { state: state, style: footerStyle }))));\n};\nconst JsonSchemaForm = props => {\n    const prefixClz = useXflowPrefixCls(\'json-schema-form\');\n    return (react_default.a.createElement(WorkspacePanel, Object.assign({}, props, { className: prefixClz }),\n        react_default.a.createElement(JsonSchemaFormMain, Object.assign({}, props, { prefixClz: prefixClz }))));\n};\n//# sourceMappingURL=main.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-json-schema-form/index.js\n\n\n\n\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-dag-extension/x6-extension/edge.js\n\n\nif (!es["l" /* Registry */].Connector.registry.exist(EDGE_PATH_TYPE.VERTICAL_NODE)) {\n    es["e" /* Graph */].registerConnector(EDGE_PATH_TYPE.VERTICAL_NODE, (s, e) => {\n        const offset = 16;\n        const deltaY = Math.abs(e.y - s.y);\n        const control = Math.floor((deltaY / 3) * 2);\n        const v1 = { x: s.x, y: s.y + offset + control };\n        const v2 = { x: e.x, y: e.y - offset - control };\n        return es["j" /* Path */].normalize(`M ${s.x} ${s.y}\n         L ${s.x} ${s.y + offset}\n         C ${v1.x} ${v1.y} ${v2.x} ${v2.y} ${e.x} ${e.y - offset}\n         L ${e.x} ${e.y}\n        `);\n    }, true);\n}\nif (!es["l" /* Registry */].Connector.registry.exist(EDGE_PATH_TYPE.VERTICAL_GROUP)) {\n    es["e" /* Graph */].registerConnector(EDGE_PATH_TYPE.VERTICAL_GROUP, (s, t) => {\n        const offset = 4;\n        const control = Math.abs(t.y - s.y);\n        const v1 = { x: s.x, y: s.y + offset + control };\n        const v2 = { x: t.x, y: t.y - offset - control };\n        return es["j" /* Path */].normalize(`M ${s.x} ${s.y}\n       L ${s.x} ${s.y + offset}\n       C ${v1.x} ${v1.y} ${v2.x} ${v2.y} ${t.x} ${t.y - offset}\n       L ${t.x} ${t.y}\n      `);\n    }, true);\n}\n// TODO: fix this vertical function\nif (!es["l" /* Registry */].Connector.registry.exist(EDGE_PATH_TYPE.HORIRONTAL_NODE)) {\n    es["e" /* Graph */].registerConnector(EDGE_PATH_TYPE.HORIRONTAL_NODE, (s, e) => {\n        const offset = 4;\n        // const control = 80;\n        const deltaY = Math.abs(e.y - s.y);\n        const control = Math.floor((deltaY / 3) * 2);\n        const v1 = { x: s.x, y: s.y + offset + control };\n        const v2 = { x: e.x, y: e.y - offset - control };\n        return es["j" /* Path */].normalize(`M ${s.x} ${s.y}\n         L ${s.x} ${s.y + offset}\n         C ${v1.x} ${v1.y} ${v2.x} ${v2.y} ${e.x} ${e.y - offset}\n         L ${e.x} ${e.y}\n        `);\n    }, true);\n}\nlet XFlowEdge = es["n" /* Shape */].Edge.registry.get(XFLOW_SHAPE.EDGE);\nif (!es["n" /* Shape */].Edge.registry.exist(XFLOW_SHAPE.EDGE)) {\n    XFlowEdge = es["n" /* Shape */].Edge.registry.register(XFLOW_SHAPE.EDGE, es["n" /* Shape */].Edge.define({\n        zIndex: 1,\n        highlight: false,\n        connector: { name: EDGE_PATH_TYPE.VERTICAL_NODE },\n        shape: XFLOW_SHAPE.EDGE,\n        // https://x6.antv.vision/zh/docs/api/registry/node-anchor\n        // source: {\n        //   anchor: {\n        //     name: \'bottom\',\n        //   },\n        // },\n        // target: {\n        //   anchor: {\n        //     name: \'center\',\n        //   },\n        // },\n    }), true);\n}\n\n//# sourceMappingURL=edge.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-dag-extension/contributions/dag.js\nvar dag_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar dag_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nvar NsAddEdgeEvent;\n(function (NsAddEdgeEvent) {\n    NsAddEdgeEvent.EVENT_NAME = \'ADD_EDGE_CMD_EVENT\';\n})(NsAddEdgeEvent || (NsAddEdgeEvent = {}));\nconst ANT_PREFIX = \'ant\';\nconst dag_dagOptions = {\n    keyboard: {\n        enabled: true,\n    },\n    // \u70b9\u9009/\u6846\u9009\u914d\u7f6e\uff08\u8be6\u7ec6\u6587\u6863\uff1ahttps://X6.antv.vision/zh/docs/tutorial/basic/selection\uff09\n    selecting: {\n        enabled: true,\n        multiple: true,\n        selectCellOnMoved: true,\n        showNodeSelectionBox: false,\n        // \u6846\u9009\u53ef\u4ee5\u9009\u4e2dedge\n        rubberEdge: true,\n        // \u6846\u9009\u53ef\u4ee5\u9009\u4e2dnode\n        rubberNode: true,\n        movable: true,\n    },\n    connecting: {\n        //\u94fe\u63a5\u6869\u7684\u4f4d\u7f6e https://x6.antv.vision/zh/docs/api/registry/node-anchor\n        sourceAnchor: \'bottom\',\n        //\u94fe\u63a5\u6869\u7684\u4f4d\u7f6e https://x6.antv.vision/zh/docs/api/registry/node-anchor\n        targetAnchor: \'center\',\n        connectionPoint: \'anchor\',\n        snap: { radius: 20 },\n        router: { name: \'manhattan\' },\n        connector: {\n            name: EDGE_PATH_TYPE.VERTICAL_NODE,\n            args: {\n                radius: 15,\n            },\n        },\n        highlight: true,\n        dangling: false,\n        createEdge() {\n            /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n            const graph = this;\n            const edge = new XFlowEdge({\n                attrs: {\n                    line: {\n                        strokeDasharray: \'5 5\',\n                        stroke: \'#808080\',\n                        strokeWidth: 1,\n                        targetMarker: {\n                            name: \'block\',\n                            args: {\n                                size: \'6\',\n                            },\n                        },\n                    },\n                },\n            });\n            graph.once(\'edge:connected\', args => {\n                const { isNew } = args;\n                const edgeCell = args.edge;\n                if (isNew && edgeCell.isEdge()) {\n                    const portId = edgeCell.getTargetPortId();\n                    const targetNode = edgeCell.getTargetCell();\n                    if (targetNode && targetNode.isNode()) {\n                        targetNode.setPortProp(portId, \'connected\', false);\n                        edgeCell.attr({\n                            line: {\n                                strokeDasharray: \'\',\n                                targetMarker: \'\',\n                                stroke: \'#808080\',\n                            },\n                        });\n                        const targetPortId = edgeCell.getTargetPortId();\n                        const sourcePortId = edgeCell.getSourcePortId();\n                        const sourceCellId = edgeCell.getSourceCellId();\n                        const targetCellId = edgeCell.getTargetCellId();\n                        graph.trigger(NsAddEdgeEvent.EVENT_NAME, {\n                            targetPortId,\n                            sourcePortId,\n                            source: sourceCellId,\n                            target: targetCellId,\n                            edge: edge,\n                        });\n                    }\n                }\n            });\n            return edge;\n        },\n        validateEdge: args => {\n            var _a;\n            const { edge } = args;\n            return !!((_a = edge === null || edge === void 0 ? void 0 : edge.target) === null || _a === void 0 ? void 0 : _a.port);\n        },\n        // \u662f\u5426\u89e6\u53d1\u4ea4\u4e92\u4e8b\u4ef6\n        validateMagnet({ magnet }) {\n            return magnet.getAttribute(\'port-group\') !== NsGraph.AnchorGroup.TOP;\n        },\n        // \u663e\u793a\u53ef\u7528\u7684\u94fe\u63a5\u6869\n        validateConnection({ sourceView, targetView, sourceMagnet, targetMagnet }) {\n            // \u4e0d\u5141\u8bb8\u8fde\u63a5\u5230\u81ea\u5df1\n            if (sourceView === targetView) {\n                return false;\n            }\n            // \u53ea\u80fd\u4ece\u4e0a\u6e38\u8282\u70b9\u7684\u8f93\u51fa\u94fe\u63a5\u6869\u521b\u5efa\u8fde\u63a5\n            if (!sourceMagnet || sourceMagnet.getAttribute(\'port-group\') === NsGraph.AnchorGroup.TOP) {\n                return false;\n            }\n            // \u53ea\u80fd\u8fde\u63a5\u5230\u4e0b\u6e38\u8282\u70b9\u7684\u8f93\u5165\u6869\n            if (!targetMagnet || targetMagnet.getAttribute(\'port-group\') !== NsGraph.AnchorGroup.TOP) {\n                return false;\n            }\n            const node = targetView.cell;\n            // \u5224\u65ad\u76ee\u6807\u94fe\u63a5\u6869\u662f\u5426\u53ef\u8fde\u63a5\n            const portId = targetMagnet.getAttribute(\'port\');\n            const port = node.getPort(portId);\n            return !(port && port.connected);\n        },\n    },\n    highlighting: {\n        nodeAvailable: {\n            name: \'className\',\n            args: {\n                className: \'available\',\n            },\n        },\n        magnetAvailable: {\n            name: \'className\',\n            args: {\n                className: \'available\',\n            },\n        },\n        magnetAdsorbed: {\n            name: \'className\',\n            args: {\n                className: \'adsorbed\',\n            },\n        },\n    },\n};\n/**\n * \u5185\u7f6e\u7684hook contribution\n * \u5904\u7406 config\u4e0a\u7684runtime\u7684\u6ce8\u518c\u9879\n */\nlet dag_DagHooksContribution = class DagHooksContribution {\n    constructor() {\n        this.toDispose = new disposable_DisposableCollection();\n        this.registerHookHub = () => dag_awaiter(this, void 0, void 0, function* () {\n            return Disposable.create(() => { });\n        });\n        this.registerHook = (hooks) => dag_awaiter(this, void 0, void 0, function* () {\n            const toDispose = new disposable_DisposableCollection();\n            const disposables = [\n                hooks.addNode.registerHook({\n                    name: \'dag-add-node\',\n                    handler: (args) => dag_awaiter(this, void 0, void 0, function* () {\n                        const cellFactory = (nodeConfig) => dag_awaiter(this, void 0, void 0, function* () {\n                            const node = new XFlowNode(Object.assign({}, nodeConfig));\n                            return node;\n                        });\n                        args.cellFactory = cellFactory;\n                    }),\n                }),\n                hooks.addEdge.registerHook({\n                    name: \'dag-add-edge\',\n                    handler: (args) => dag_awaiter(this, void 0, void 0, function* () {\n                        const cellFactory = (edgeConfig) => dag_awaiter(this, void 0, void 0, function* () {\n                            const cell = new XFlowEdge({\n                                id: edgeConfig.id,\n                                source: {\n                                    cell: edgeConfig.source,\n                                    port: edgeConfig.sourcePortId,\n                                    anchor: {\n                                        name: \'bottom\',\n                                    },\n                                },\n                                target: {\n                                    cell: edgeConfig.target,\n                                    port: edgeConfig.targetPortId,\n                                    anchor: {\n                                        name: \'center\',\n                                    },\n                                },\n                                attrs: {\n                                    line: {\n                                        strokeDasharray: \'\',\n                                        targetMarker: \'\',\n                                        stroke: \'#808080\',\n                                        strokeWidth: 1,\n                                    },\n                                },\n                                data: Object.assign({}, edgeConfig),\n                            });\n                            return cell;\n                        });\n                        args.cellFactory = cellFactory;\n                    }),\n                }),\n                hooks.addEdge.registerHook({\n                    name: \'after add edge, set target port props\',\n                    handler: (handlerArgs, handler) => dag_awaiter(this, void 0, void 0, function* () {\n                        const main = (args) => dag_awaiter(this, void 0, void 0, function* () {\n                            const res = yield handler(args);\n                            const targetNode = res.edgeCell.getTargetCell();\n                            const portId = res.edgeCell.getTargetPortId();\n                            targetNode.setPortProp(portId, \'connected\', true);\n                            return res;\n                        });\n                        return main;\n                    }),\n                }),\n                hooks.delEdge.registerHook({\n                    name: \'afetr del edge, reset target node port props\',\n                    handler: (args, handler) => dag_awaiter(this, void 0, void 0, function* () {\n                        const newHandler = (handlerArgs) => dag_awaiter(this, void 0, void 0, function* () {\n                            const result = yield handler(handlerArgs);\n                            const { targetCell, targetPortId } = result;\n                            if (targetCell && targetCell.isNode() && targetPortId) {\n                                targetCell.setPortProp(targetPortId, \'connected\', false);\n                            }\n                            return result;\n                        });\n                        return newHandler;\n                    }),\n                }),\n                hooks.afterGraphInit.registerHook({\n                    name: \'call add edge to replace temp edge\',\n                    handler: (handlerArgs) => dag_awaiter(this, void 0, void 0, function* () {\n                        const { commandService, graph } = handlerArgs;\n                        graph.on(NsAddEdgeEvent.EVENT_NAME, (args) => {\n                            commandService.executeCommand(XFlowEdgeCommands.ADD_EDGE.id, { edgeConfig: args });\n                            args.edge.remove();\n                        });\n                    }),\n                }),\n                hooks.graphOptions.registerHook({\n                    name: \'dag-extension-x6-options\',\n                    handler: (args) => dag_awaiter(this, void 0, void 0, function* () {\n                        Object.assign(args, dag_dagOptions);\n                    }),\n                }),\n            ];\n            toDispose.pushAll(disposables);\n            return Disposable.create(() => { });\n        });\n    }\n};\ndag_DagHooksContribution = dag_decorate([\n    index_esm.singleton({ contrib: IHookContribution })\n], dag_DagHooksContribution);\n\n//# sourceMappingURL=dag.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-dag-extension/module.js\n\n/** Application \u6269\u5c55\u4f9d\u8d56 */\n\n\n\n\n/** \u4f9d\u8d56\u6269\u5c55\u6a21\u5757\uff0c\u5fc5\u987b\u8981\u52a0\u8f7d */\nconst createDagExtensionModule = () => {\n    return index_esm.Module(register => {\n        /** \u6269\u5c55 runtime hook */\n        register(dag_DagHooksContribution);\n    });\n};\n\n//# sourceMappingURL=module.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-dag-extension/components/index.js\nvar canvas_dag_extension_components_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nconst DagGraphExtension = props => {\n    /** \u83b7\u53d6\u6269\u5c55Registry */\n    const extensionRegistry = useExtensionRegistry();\n    react_default.a.useEffect(() => {\n        /** \u6dfb\u52a0 container\u7684classname */\n        extensionRegistry.addContainerClassNames(\'dag-extension-container\');\n    }, [extensionRegistry]);\n    const config = react_default.a.useMemo(() => ({\n        CONFIG_TYPE: \'DAG_EXTENSION\',\n        getConfig: () => canvas_dag_extension_components_awaiter(void 0, void 0, void 0, function* () { return props; }),\n    }), [props]);\n    return react_default.a.createElement(XFlowAppExtensionMoudle, { config: config, createModule: createDagExtensionModule });\n};\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-dag-extension/index.js\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-flow-extension/constants.js\nconst constants_XFLOW_NODE_SHAPE = \'XFLOW_FLOW_NODE_SHAPE\';\nconst constants_NODE_DEFAULT_WIDTH = 150;\nconst constants_NODE_DEFAULT_HEIGHT = 60;\n//# sourceMappingURL=constants.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-flow-extension/x6-extension/node.js\n/* eslint-disable @typescript-eslint/lines-between-class-members */\n\n\n\n\nlet node_XFlowNode;\nconst { AnchorGroup: node_AnchorGroup } = NsGraph;\nconst portAttrs = {\n    circle: {\n        r: 4,\n        magnet: true,\n        stroke: \'#5F95FF\',\n        strokeWidth: 1,\n        fill: \'#fff\',\n        style: {\n            visibility: \'hidden\',\n        },\n    },\n};\nif (es["g" /* Node */].registry.exist(constants_XFLOW_NODE_SHAPE)) {\n    node_XFlowNode = es["g" /* Node */].registry.get(constants_XFLOW_NODE_SHAPE);\n}\nelse {\n    node_XFlowNode = x6_react_shape_es["a" /* ReactShape */].define({\n        width: constants_NODE_DEFAULT_WIDTH,\n        height: constants_NODE_DEFAULT_HEIGHT,\n        shape: constants_XFLOW_NODE_SHAPE,\n        // X6_NODE_PORTAL_NODE_VIEW\n        view: constants_namespaceObject.X6_NODE_PORTAL_NODE_VIEW,\n        ports: {\n            groups: {\n                top: {\n                    position: node_AnchorGroup.TOP,\n                    attrs: portAttrs,\n                },\n                bottom: {\n                    position: node_AnchorGroup.BOTTOM,\n                    attrs: portAttrs,\n                },\n                right: {\n                    position: node_AnchorGroup.RIGHT,\n                    attrs: portAttrs,\n                },\n                left: {\n                    position: node_AnchorGroup.LEFT,\n                    attrs: portAttrs,\n                },\n            },\n        },\n        attrs: {\n            body: {\n                magnet: false,\n                fill: \'none\',\n                stroke: \'none\',\n                refWidth: \'100%\',\n                refHeight: \'100%\',\n            },\n        },\n    });\n}\n\n//# sourceMappingURL=node.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-flow-extension/contributions/flow.js\nvar flow_decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar flow_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nconst flowOptions = {\n    grid: true,\n    mousewheel: {\n        enabled: true,\n        zoomAtMousePosition: true,\n        modifiers: \'ctrl\',\n        minScale: 0.5,\n        maxScale: 3,\n    },\n    connecting: {\n        router: \'manhattan\',\n        connector: {\n            name: \'rounded\',\n            args: {\n                radius: 8,\n            },\n        },\n        anchor: \'center\',\n        connectionPoint: \'anchor\',\n        allowBlank: false,\n        snap: {\n            radius: 20,\n        },\n        createEdge() {\n            return new es["n" /* Shape */].Edge({\n                attrs: {\n                    line: {\n                        stroke: \'#A2B1C3\',\n                        strokeWidth: 2,\n                        targetMarker: {\n                            name: \'block\',\n                            width: 12,\n                            height: 8,\n                        },\n                    },\n                },\n                zIndex: 0,\n            });\n        },\n        validateConnection({ targetMagnet }) {\n            return !!targetMagnet;\n        },\n    },\n    highlighting: {\n        magnetAdsorbed: {\n            name: \'stroke\',\n            args: {\n                attrs: {\n                    fill: \'#5F95FF\',\n                    stroke: \'#5F95FF\',\n                },\n            },\n        },\n    },\n    resizing: true,\n    rotating: true,\n    selecting: {\n        enabled: true,\n        rubberband: true,\n        showNodeSelectionBox: true,\n        modifiers: \'shift\',\n    },\n    snapline: true,\n    keyboard: true,\n    clipboard: true,\n};\n/**\n * \u5185\u7f6e\u7684hook contribution\n * \u5904\u7406 config\u4e0a\u7684runtime\u7684\u6ce8\u518c\u9879\n */\nlet flow_FlowHooksContribution = class FlowHooksContribution {\n    constructor() {\n        this.toDispose = new disposable_DisposableCollection();\n        this.registerHookHub = () => flow_awaiter(this, void 0, void 0, function* () {\n            return Disposable.create(() => { });\n        });\n        this.registerHook = (hooks) => flow_awaiter(this, void 0, void 0, function* () {\n            const toDispose = new disposable_DisposableCollection();\n            const disposables = [\n                hooks.addNode.registerHook({\n                    name: \'flow-add-node\',\n                    handler: (args) => flow_awaiter(this, void 0, void 0, function* () {\n                        const cellFactory = (nodeConfig) => flow_awaiter(this, void 0, void 0, function* () {\n                            const node = new node_XFlowNode(Object.assign({}, nodeConfig));\n                            return node;\n                        });\n                        args.cellFactory = cellFactory;\n                    }),\n                }),\n                hooks.addEdge.registerHook({\n                    name: \'flow-add-edge\',\n                    handler: (args) => flow_awaiter(this, void 0, void 0, function* () {\n                        const cellFactory = (edgeConfig) => flow_awaiter(this, void 0, void 0, function* () {\n                            delete edgeConfig.id;\n                            const cell = new es["n" /* Shape */].Edge({\n                                source: {\n                                    cell: edgeConfig.source,\n                                    port: edgeConfig.sourcePortId,\n                                },\n                                target: {\n                                    cell: edgeConfig.target,\n                                    port: edgeConfig.targetPortId,\n                                },\n                                attrs: {\n                                    line: {\n                                        stroke: \'#A2B1C3\',\n                                        strokeWidth: 2,\n                                        targetMarker: {\n                                            name: \'block\',\n                                            width: 12,\n                                            height: 8,\n                                        },\n                                    },\n                                },\n                                zIndex: -1,\n                                data: Object.assign({}, edgeConfig),\n                            });\n                            return cell;\n                        });\n                        args.cellFactory = cellFactory;\n                    }),\n                }),\n                hooks.graphOptions.registerHook({\n                    name: \'assign options \',\n                    handler: (args) => flow_awaiter(this, void 0, void 0, function* () {\n                        Object.assign(args, flowOptions);\n                    }),\n                }),\n            ];\n            toDispose.pushAll(disposables);\n            return Disposable.create(() => { });\n        });\n    }\n};\nflow_FlowHooksContribution = flow_decorate([\n    index_esm.singleton({ contrib: IHookContribution })\n], flow_FlowHooksContribution);\n\n//# sourceMappingURL=flow.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-flow-extension/module.js\n\n/** Application \u6269\u5c55\u4f9d\u8d56 */\n\n\n\n/** \u4f9d\u8d56\u6269\u5c55\u6a21\u5757\uff0c\u5fc5\u987b\u8981\u52a0\u8f7d */\nconst createFlowExtensionModule = () => {\n    return index_esm.Module(register => {\n        /** \u6269\u5c55 runtime hook */\n        register(flow_FlowHooksContribution);\n    });\n};\n\n//# sourceMappingURL=module.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-flow-extension/components/index.js\nvar canvas_flow_extension_components_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nconst FlowGraphExtension = () => {\n    /** \u83b7\u53d6\u6269\u5c55Registry */\n    const extensionRegistry = useExtensionRegistry();\n    const config = react_default.a.useMemo(() => ({\n        CONFIG_TYPE: \'DAG_EXTENSION\',\n        getConfig: () => canvas_flow_extension_components_awaiter(void 0, void 0, void 0, function* () { }),\n    }), []);\n    react_default.a.useEffect(() => {\n        /** \u6ce8\u518c extension \u5230 Registry */\n        const disposable = extensionRegistry.addExtension({\n            config: config,\n            createModule: createFlowExtensionModule,\n        });\n        /** \u6dfb\u52a0 classname */\n        extensionRegistry.addContainerClassNames(\'flow-extension-container\');\n        return () => {\n            disposable.dispose();\n        };\n    }, [config, extensionRegistry]);\n    return null;\n};\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/canvas-flow-extension/index.js\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow-extension/es/index.js\n/** \u5bf9\u9f50\u7ebf */\n\n/** Port Tooltip */\n\n/** \u753b\u5e03 \u53f3\u952e\u83dc\u5355 */\n\n/** \u753b\u5e03 Scale Toolbar */\n\n/** \u753b\u5e03 Toolbar */\n\n/** demo utils */\n\n/** \u753b\u5e03 minimap */\n\n/** \u7ec4\u4ef6\u6811 */\n\n/** JSON Schema Form */\n\n/** Panel \u63d0\u4f9b getValue context\u548c ensure app context\u5b58\u5728 */\n\n/** DAG\u56fe\u6269\u5c55 */\n\n/** \u6d41\u7a0b\u56fe\u6269\u5c55 */\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow/es/extensions/index.js\n/** \u5bf9\u9f50\u7ebf */\n\n/** Port Tooltip */\n\n/** \u753b\u5e03 \u53f3\u952e\u83dc\u5355 */\n\n/** \u753b\u5e03 Scale Toolbar */\n\n/** \u753b\u5e03 Toolbar */\n\n/** demo utils */\n\n/** \u753b\u5e03 minimap */\n\n/** \u7ec4\u4ef6\u6811 */\n\n/** JSON Schema Form */\n\n/** Panel \u63d0\u4f9b getValue context\u548c ensure app context\u5b58\u5728 */\n\n/** DAG\u56fe\u6269\u5c55 */\n\n/** \u6d41\u7a0b\u56fe\u6269\u5c55 */\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow/es/hook/index.js\n\n//# sourceMappingURL=index.js.map\n// CONCATENATED MODULE: ../xflow/es/index.js\n\n\n\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack:///../xflow/es/index.js_+_207_modules?')},nyl5:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js + 1 modules\nvar PlusCircleOutlined = __webpack_require__("Uhj0");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/DeleteOutlined.js + 1 modules\nvar DeleteOutlined = __webpack_require__("UmCv");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/SaveOutlined.js + 1 modules\nvar SaveOutlined = __webpack_require__("GcFv");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-toolbar/demos/toolbar-model/toolbar-config.tsx\n\n\n\n\n\nvar NSToolbarConfig;\n/** toolbar\u4f9d\u8d56\u7684\u914d\u7f6e\u9879 */\n\n(function (_NSToolbarConfig) {\n  /** \u6ce8\u518cicon \u7c7b\u578b */\n  es["o" /* IconStore */].set(\'PlusCircleOutlined\', PlusCircleOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'DeleteOutlined\', DeleteOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'SaveOutlined\', SaveOutlined["a" /* default */]);\n  /** toolbar\u4f9d\u8d56\u7684\u72b6\u6001 */\n\n  var getToolbarState = _NSToolbarConfig.getToolbarState = /*#__PURE__*/function () {\n    var _ref3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(modelService) {\n      var nodes;\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return es["r" /* MODELS */].SELECTED_NODES.useValue(modelService);\n\n            case 2:\n              nodes = _context3.sent;\n              return _context3.abrupt("return", {\n                isNodeSelected: nodes.length > 0\n              });\n\n            case 4:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var getToolbarItems = _NSToolbarConfig.getToolbarItems = /*#__PURE__*/function () {\n    var _ref4 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(state) {\n      var toolbarGroup1;\n      return regenerator_default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              toolbarGroup1 = [];\n              toolbarGroup1.push({\n                id: es["F" /* XFlowNodeCommands */].MOVE_NODE.id,\n                text: \'\u5220\u9664\u8282\u70b9\uff0c\u53ea\u6709Node\u9009\u4e2d\u65f6\u53ef\u7528\',\n                iconName: \'DeleteOutlined\',\n                tooltip: \'\u5220\u9664\u8282\u70b9: \u53ea\u5728\u6709node\u9009\u4e2d\u65f6Enable\',\n                isEnabled: state.isNodeSelected\n              });\n              return _context4.abrupt("return", [{\n                name: \'toolbar\',\n                items: toolbarGroup1\n              }]);\n\n            case 3:\n            case "end":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n})(NSToolbarConfig || (NSToolbarConfig = {}));\n\nvar useToolbarConfig = Object(es["M" /* createToolbarConfig */])(toolbarConfig => {\n  /** \u751f\u4ea7 toolbar item */\n  toolbarConfig.setToolbarModelService( /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(toolbarModel, modelService) {\n      var updateToolbarState, model;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              // \u66f4\u65b0toolbar model\n              updateToolbarState = /*#__PURE__*/function () {\n                var _ref2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n                  var toolbarState, toolbarItems;\n                  return regenerator_default.a.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return NSToolbarConfig.getToolbarState(modelService);\n\n                        case 2:\n                          toolbarState = _context.sent;\n                          _context.next = 5;\n                          return NSToolbarConfig.getToolbarItems(toolbarState);\n\n                        case 5:\n                          toolbarItems = _context.sent;\n                          toolbarModel.setValue(toolbar => {\n                            toolbar.mainGroups = toolbarItems;\n                          });\n\n                        case 7:\n                        case "end":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function updateToolbarState() {\n                  return _ref2.apply(this, arguments);\n                };\n              }(); // \u76d1\u542c\u5bf9\u5e94\u7684model\n\n\n              _context2.next = 3;\n              return es["r" /* MODELS */].SELECTED_NODES.getModel(modelService);\n\n            case 3:\n              model = _context2.sent;\n              model.watch(() => {\n                updateToolbarState();\n              });\n\n            case 5:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n});\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-toolbar/demos/toolbar-model/index.less\nvar toolbar_model = __webpack_require__("UZsY");\n\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-toolbar/demos/toolbar-model/index.tsx\n\n\n\n/**\n * title: \u5de5\u5177\u680f\u72b6\u6001\u8054\u52a8\n * desc: \u901a\u8fc7ModelService\u5b9e\u73b0ToolbarItem\u7684\u53ef\u7528\u72b6\u6001\n */\n\n\n\n\n\n\n/**  Demo Props  */\n\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  var toolbarConfig = useToolbarConfig(props);\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(app);\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: "Node-1",\n                  label: "Node-1",\n                  x: 100,\n                  y: 50,\n                  width: 160,\n                  height: 32\n                }\n              });\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: "Node-2",\n                  label: "Node-2",\n                  x: 110,\n                  y: 60,\n                  width: 160,\n                  height: 32\n                }\n              });\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: "Node-3",\n                  label: "Node-3",\n                  x: 120,\n                  y: 70,\n                  width: 160,\n                  height: 32\n                }\n              });\n\n            case 4:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["f" /* CanvasToolbar */], {\n    layout: "horizontal",\n    config: toolbarConfig,\n    position: {\n      top: 0,\n      left: 0,\n      right: 0,\n      height: 40\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 40,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n  }));\n};\n\n/* harmony default export */ var demos_toolbar_model = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-toolbar/demos/toolbar-model/index.tsx_+_1_modules?')},ofWA:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useGraphConfig\", function() { return useGraphConfig; });\n/* harmony import */ var _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"KOBo\");\n/* harmony import */ var _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"jem/\");\n/* harmony import */ var _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"RY7m\");\n/* harmony import */ var _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _antv_xflow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"mqVf\");\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"0a+M\");\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_index_less__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n/** \u56fe\u6838\u5fc3\u7ec4\u4ef6 & \u7c7b\u578b\u5b9a\u4e49 */\n\n\n\nvar useGraphConfig = Object(_antv_xflow__WEBPACK_IMPORTED_MODULE_4__[/* createGraphConfig */ \"I\"])(config => {\n  config.setX6Config({\n    grid: true\n  });\n  config.setNodeRender('NODE1', props => {\n    var _props$data, _props$data$info;\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n      className: \"react-node\"\n    }, (_props$data = props.data) === null || _props$data === void 0 ? void 0 : (_props$data$info = _props$data.info) === null || _props$data$info === void 0 ? void 0 : _props$data$info.text);\n  });\n  config.setNodeTypeParser(node => node === null || node === void 0 ? void 0 : node.renderKey);\n});\nvar appRef = undefined;\n\nvar Demo = () => {\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(undefined),\n      _useState2 = Object(_Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState, 2),\n      graphData = _useState2[0],\n      setGraphData = _useState2[1];\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(_Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(app) {\n      var nodes, edges, graphData;\n      return _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              appRef = app;\n              nodes = [{\n                id: 'root1',\n                width: 150,\n                height: 40,\n                renderKey: 'NODE1',\n                info: {\n                  text: 'root1'\n                }\n              }, {\n                id: 'down1',\n                width: 150,\n                height: 40,\n                renderKey: 'NODE1',\n                info: {\n                  text: 'down1'\n                }\n              }, {\n                id: 'down2',\n                width: 150,\n                height: 40,\n                renderKey: 'NODE1',\n                info: {\n                  text: 'down2'\n                }\n              }, {\n                id: 'down3',\n                width: 150,\n                height: 40,\n                renderKey: 'NODE1',\n                info: {\n                  text: 'down3'\n                }\n              }];\n              edges = [{\n                id: 'root1-down1',\n                source: 'root1',\n                target: 'down1',\n                label: '1:1'\n              }, {\n                id: 'root1-down2',\n                source: 'root1',\n                target: 'down2',\n                label: '1:N'\n              }, {\n                id: 'root1-down3',\n                source: 'root1',\n                target: 'down3',\n                label: 'N:N'\n              }];\n              graphData = {\n                nodes,\n                edges\n              };\n              setGraphData(graphData);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var zoomGraph = key => {\n    if (key === '\u653e\u5927') {\n      appRef.executeCommand(_antv_xflow__WEBPACK_IMPORTED_MODULE_4__[/* XFlowGraphCommands */ \"D\"].GRAPH_ZOOM.id, {\n        factor: 0.1,\n        zoomOptions: {\n          absolute: false,\n          minScale: 0.1,\n          maxScale: 3.0\n        }\n      });\n    }\n\n    if (key === '\u7f29\u5c0f') {\n      appRef.executeCommand(_antv_xflow__WEBPACK_IMPORTED_MODULE_4__[/* XFlowGraphCommands */ \"D\"].GRAPH_ZOOM.id, {\n        factor: -0.1,\n        zoomOptions: {\n          absolute: false,\n          minScale: 0.1,\n          maxScale: 3.0\n        }\n      });\n    }\n\n    if (key === '\u753b\u5e031:1(real)') {\n      appRef.executeCommand(_antv_xflow__WEBPACK_IMPORTED_MODULE_4__[/* XFlowGraphCommands */ \"D\"].GRAPH_ZOOM.id, {\n        factor: 'real'\n      });\n    }\n\n    if (key === '\u9002\u5e94\u753b\u5e03(fit)') {\n      appRef.executeCommand(_antv_xflow__WEBPACK_IMPORTED_MODULE_4__[/* XFlowGraphCommands */ \"D\"].GRAPH_ZOOM.id, {\n        factor: 'fit'\n      });\n    }\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_antv_xflow__WEBPACK_IMPORTED_MODULE_4__[/* XFlow */ \"y\"], {\n    className: \"xflow-graph-zoom-demo\",\n    graphData: graphData,\n    graphLayout: {\n      layoutType: 'dagre',\n      layoutOptions: {\n        type: 'dagre',\n        rankdir: 'TB',\n        nodesep: 60,\n        ranksep: 40\n      }\n    },\n    onLoad: onLoad\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: \"toolbar\"\n  }, ['\u653e\u5927', '\u7f29\u5c0f', '\u753b\u5e031:1(real)', '\u9002\u5e94\u753b\u5e03(fit)'].map(item => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    key: item,\n    className: \"div\",\n    onClick: () => zoomGraph(item)\n  }, item))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_antv_xflow__WEBPACK_IMPORTED_MODULE_4__[/* XFlowCanvas */ \"A\"], {\n    config: useGraphConfig()\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Demo);\n\n//# sourceURL=webpack:///./docs/api/commands/graph/graph-zoom/demos/index.tsx?")},oiMV:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-mini-map/demos/basic/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS)];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-mini-map/demos/basic/index.less\nvar basic = __webpack_require__("SX+c");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-mini-map/demos/basic/index.tsx\n\n\n\n/**\n * title: \u57fa\u7840\u4f7f\u7528\n * desc:  \u653e\u7f6e\u5728XFlowCanvas\u7ec4\u4ef6\u5185\u90e8\u751f\u6548\n */\n\n\n\n\n\n/**  Demo Props  */\n\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      var res, _res$contextProvider$, graphData;\n\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n                layoutType: \'dagre\',\n                layoutOptions: {\n                  type: \'dagre\',\n\n                  /** \u5e03\u5c40\u65b9\u5411 */\n                  rankdir: \'TB\',\n\n                  /** \u8282\u70b9\u95f4\u8ddd */\n                  nodesep: 60,\n\n                  /** \u5c42\u95f4\u8ddd */\n                  ranksep: 30\n                },\n                graphData: getGraphData()\n              });\n\n            case 2:\n              res = _context.sent;\n              _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n              _context.next = 6;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n                graphData: graphData\n              });\n\n            case 6:\n              _context.next = 8;\n              return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n                factor: \'real\'\n              });\n\n            case 8:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es["b" /* CanvasMiniMap */], {\n    position: {\n      top: 12,\n      left: 12\n    }\n  })));\n};\n\n/* harmony default export */ var demos_basic = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-mini-map/demos/basic/index.tsx_+_1_modules?')},rbyC:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("jem/");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__("DuHN");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__("SCaQ");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__("jMRu");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-center/demos/form.tsx\n\n\n\n\n\n\n\nvar width = 100;\nvar height = 40;\nvar formItems = [{\n  name: \'id\',\n  label: \'id\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */]\n}, {\n  name: \'nodeConfig\',\n  label: \'nodeConfig\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */].TextArea,\n  renderProps: {\n    rows: 5\n  }\n}];\nvar CmdForm = () => {\n  var app = Object(es["S" /* useXFlowApp */])();\n\n  var _Form$useForm = es_form["a" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray["a" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useModelAsync = Object(es["Q" /* useModelAsync */])({\n    getModel: function () {\n      var _getModel = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n        return regenerator_default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt("return", es["r" /* MODELS */].SELECTED_NODE.getModel(app.modelService));\n\n              case 1:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getModel() {\n        return _getModel.apply(this, arguments);\n      }\n\n      return getModel;\n    }(),\n    initialState: null\n  }),\n      _useModelAsync2 = Object(slicedToArray["a" /* default */])(_useModelAsync, 1),\n      selectNode = _useModelAsync2[0];\n\n  react_default.a.useEffect(() => {\n    if (selectNode) {\n      var node = selectNode.getData();\n      form.setFieldsValue({\n        id: node.id,\n        nodeConfig: JSON.stringify(node)\n      });\n    }\n  }, [form, selectNode]);\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(values) {\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              app.commandService.executeCommand(es["F" /* XFlowNodeCommands */].CENTER_NODE.id, {\n                nodeConfig: JSON.parse(values.nodeConfig)\n              });\n              message["b" /* default */].success("".concat(es["F" /* XFlowNodeCommands */].CENTER_NODE.label, ": \\u547D\\u4EE4\\u6267\\u884C\\u6210\\u529F"));\n\n            case 2:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onFinish(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["l" /* FormBuilder */], {\n    form: form,\n    formItems: formItems,\n    onFinish: onFinish,\n    initialValues: {\n      id: null,\n      nodeConfig: null\n    },\n    submitButton: /*#__PURE__*/react_default.a.createElement(es_button["a" /* default */], {\n      type: "primary",\n      htmlType: "submit",\n      style: {\n        width: \'100%\'\n      },\n      disabled: !selectNode\n    }, "\\u9009\\u4E2D\\u8282\\u70B9\\u6267\\u884C\\u547D\\u4EE4")\n  });\n};\nvar FormPanel = () => {\n  return /*#__PURE__*/react_default.a.createElement(es["x" /* WorkspacePanel */], {\n    position: {\n      top: 0,\n      left: 0,\n      bottom: 0,\n      width: 230\n    },\n    className: "panel"\n  }, /*#__PURE__*/react_default.a.createElement(card["a" /* default */], {\n    title: "NodeConfig Options",\n    size: "small",\n    bordered: false\n  }, /*#__PURE__*/react_default.a.createElement(CmdForm, null)));\n};\n// EXTERNAL MODULE: ./docs/api/commands/nodes/node-center/demos/index.less\nvar demos = __webpack_require__("9lUb");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-center/demos/index.tsx\n\n\n\n\n\n\n/**  graphConfig hook  */\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setX6Config({\n    grid: true\n  });\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar NodeAddDemo = () => {\n  var graphConfig = useGraphConfig();\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'node1\',\n                  x: 100,\n                  y: 30,\n                  label: \'Hello World 1\',\n                  width: width,\n                  height: height\n                }\n              });\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'node2\',\n                  x: 50,\n                  y: 150,\n                  label: \'Hello World 2\',\n                  width: width,\n                  height: height\n                }\n              });\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'node3\',\n                  x: 200,\n                  y: 150,\n                  label: \'Hello World 3\',\n                  width: width,\n                  height: height\n                }\n              });\n              return _context.abrupt("return", app);\n\n            case 4:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(FormPanel, null), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    className: "app-main-content",\n    config: graphConfig,\n    position: {\n      top: 0,\n      left: 230,\n      right: 0,\n      bottom: 0\n    }\n  }));\n};\n\n/* harmony default export */ var node_center_demos = __webpack_exports__["default"] = (NodeAddDemo);\n\n//# sourceURL=webpack:///./docs/api/commands/nodes/node-center/demos/index.tsx_+_1_modules?')},suys:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useGraphConfig\", function() { return useGraphConfig; });\n/* harmony import */ var _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"KOBo\");\n/* harmony import */ var _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"RY7m\");\n/* harmony import */ var _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _antv_xflow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"mqVf\");\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"BqF6\");\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_index_less__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nvar useGraphConfig = Object(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* createGraphConfig */ \"I\"])(config => {\n  config.setX6Config({\n    grid: true\n  });\n  config.setNodeRender('NODE1', props => {\n    var _props$data;\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"react-node\"\n    }, (_props$data = props.data) === null || _props$data === void 0 ? void 0 : _props$data.text);\n  });\n  config.setNodeTypeParser(node => node === null || node === void 0 ? void 0 : node.renderKey);\n});\n\nvar Demo = () => {\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(_Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])( /*#__PURE__*/_Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(app) {\n      var nodes, edges, graphData;\n      return _Users_lyn_github_xflow_github_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              nodes = [{\n                id: 'root1',\n                width: 150,\n                height: 40,\n                renderKey: 'NODE1',\n                text: '\u8282\u70b91'\n              }, {\n                id: 'down1',\n                width: 150,\n                height: 40,\n                renderKey: 'NODE1',\n                text: '\u8282\u70b92'\n              }, {\n                id: 'down2',\n                width: 150,\n                height: 40,\n                renderKey: 'NODE1',\n                text: '\u8282\u70b93'\n              }, {\n                id: 'down3',\n                width: 150,\n                height: 40,\n                renderKey: 'NODE1',\n                text: '\u8282\u70b94'\n              }];\n              edges = [{\n                id: 'root1-down1',\n                source: 'root1',\n                target: 'down1',\n                label: '1:1'\n              }, {\n                id: 'root1-down2',\n                source: 'root1',\n                target: 'down2',\n                label: '1:N'\n              }, {\n                id: 'root1-down3',\n                source: 'root1',\n                target: 'down3',\n                label: 'N:N'\n              }];\n              graphData = {\n                nodes,\n                edges\n              };\n              _context.next = 5;\n              return app.executeCommand(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* XFlowGraphCommands */ \"D\"].GRAPH_LAYOUT.id, {\n                graphData,\n                layoutType: 'dagre',\n                layoutOptions: {\n                  type: 'dagre',\n                  rankdir: 'LR',\n                  nodesep: 10,\n                  ranksep: 80\n                }\n              });\n\n            case 5:\n              _context.next = 7;\n              return app.executeCommand(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* XFlowGraphCommands */ \"D\"].GRAPH_RENDER.id, {\n                graphData\n              });\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* XFlow */ \"y\"], {\n    onLoad: onLoad,\n    className: \"xflow-graph-layout-demo\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_antv_xflow__WEBPACK_IMPORTED_MODULE_3__[/* XFlowCanvas */ \"A\"], {\n    config: useGraphConfig()\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Demo);\n\n//# sourceURL=webpack:///./docs/api/commands/graph/graph-layout/demos/index.tsx?")},u8p8:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "width", function() { return /* binding */ width; });\n__webpack_require__.d(__webpack_exports__, "height", function() { return /* binding */ height; });\n__webpack_require__.d(__webpack_exports__, "useGraphConfig", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("jem/");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/input/index.js + 11 modules\nvar input = __webpack_require__("BmDy");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/form/index.js + 15 modules\nvar es_form = __webpack_require__("UL5a");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/message/index.js + 3 modules\nvar message = __webpack_require__("DuHN");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__("jMRu");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-back/demos/form.tsx\n\n\n\n\n\n\n\nvar formItems = [{\n  name: \'nodeId\',\n  label: \'nodeId\',\n  rules: [{\n    required: true\n  }],\n  render: input["a" /* default */],\n  renderProps: {\n    disabled: true\n  }\n}];\nvar CmdForm = () => {\n  var _usePanelContext = Object(es["R" /* usePanelContext */])(),\n      commandService = _usePanelContext.commandService;\n\n  var _Form$useForm = es_form["a" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray["a" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(values) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              commandService.executeCommand(es["F" /* XFlowNodeCommands */].BACK_NODE.id, values);\n              console.log(\'executeCommand with args\', values);\n              message["b" /* default */].success("".concat(es["F" /* XFlowNodeCommands */].BACK_NODE.label, ": \\u547D\\u4EE4\\u6267\\u884C\\u6210\\u529F"));\n              form.setFieldsValue({\n                nodeId: values.nodeId === \'node1\' ? \'node2\' : \'node1\'\n              });\n\n            case 4:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onFinish(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["l" /* FormBuilder */], {\n    form: form,\n    formItems: formItems,\n    onFinish: onFinish,\n    initialValues: {\n      nodeId: \'node1\'\n    }\n  });\n};\nvar FormPanel = () => {\n  return /*#__PURE__*/react_default.a.createElement(es["x" /* WorkspacePanel */], {\n    position: {\n      top: 0,\n      left: 0,\n      bottom: 0,\n      width: 230\n    },\n    className: "panel"\n  }, /*#__PURE__*/react_default.a.createElement(card["a" /* default */], {\n    title: "NodeConfig Options",\n    size: "small",\n    bordered: false\n  }, /*#__PURE__*/react_default.a.createElement(CmdForm, null)));\n};\n// EXTERNAL MODULE: ./docs/api/commands/nodes/node-back/demos/index.less\nvar demos = __webpack_require__("04JV");\n\n// CONCATENATED MODULE: ./docs/api/commands/nodes/node-back/demos/index.tsx\n\n\n\n\n\n\nvar width = 100;\nvar height = 40;\n/**  graphConfig hook  */\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setX6Config({\n    grid: true\n  });\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n\nvar NodeAddDemo = () => {\n  var graphConfig = useGraphConfig();\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'node1\',\n                  x: 100,\n                  y: 30,\n                  label: \'NODENODE1\',\n                  width,\n                  height\n                }\n              });\n              app.executeCommand(es["F" /* XFlowNodeCommands */].ADD_NODE.id, {\n                nodeConfig: {\n                  id: \'node2\',\n                  x: 120,\n                  y: 50,\n                  label: \'NODENODE2\',\n                  width,\n                  height\n                }\n              });\n              return _context.abrupt("return", app);\n\n            case 3:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    meta: {\n      flowId: \'add-node-demo\'\n    },\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(FormPanel, null), /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    className: "app-main-content",\n    config: graphConfig,\n    position: {\n      top: 0,\n      left: 230,\n      right: 0,\n      bottom: 0\n    }\n  }));\n};\n\n/* harmony default export */ var node_back_demos = __webpack_exports__["default"] = (NodeAddDemo);\n\n//# sourceURL=webpack:///./docs/api/commands/nodes/node-back/demos/index.tsx_+_1_modules?')},ui7r:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("q1tI");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__("mqVf");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("KOBo");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("RY7m");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("BcGY");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/context-menu/demos/dynamic-config/mock.ts\n\n // NodeConfig\n\nvar NODE_COMMON_PROPS = {\n  width: 160,\n  height: 32\n}; // NodeConfig\n\nvar EDGE_COMMON_PROPS = {\n  attrs: {\n    line: {\n      targetMarker: {\n        name: \'block\',\n        width: 4,\n        height: 8\n      },\n      strokeDasharray: \'\',\n      stroke: \'#A2B1C3\',\n      strokeWidth: 1\n    }\n  }\n}; // mock data\n\nvar getGraphData = () => {\n  var nodes = [Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({\n    id: \'node1\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-1\'\n  }, NODE_COMMON_PROPS), {}, {\n    menuItems: [\'\u52a8\u6001\u6e32\u67d3\u7684MenuItem \']\n  }), Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({\n    id: \'node2\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-2\'\n  }, NODE_COMMON_PROPS), {}, {\n    menuItems: [\'\u52a8\u6001\u6e32\u67d3\u7684MenuItem \', \'\u52a8\u6001\u6e32\u67d3\u7684MenuItem \']\n  }), Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({\n    id: \'node3\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-3\'\n  }, NODE_COMMON_PROPS), {}, {\n    menuItems: [\'\u52a8\u6001\u6e32\u67d3\u7684MenuItem \', \'\u52a8\u6001\u6e32\u67d3\u7684MenuItem \', \'\u52a8\u6001\u6e32\u67d3\u7684MenuItem \']\n  }), Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({\n    id: \'node4\',\n    label: \'\u7b97\u6cd5\u8282\u70b9-4\'\n  }, NODE_COMMON_PROPS), {}, {\n    menuItems: []\n  })];\n  var edges = [Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node2\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node2-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node3\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node3-input-1\'\n  }, EDGE_COMMON_PROPS), Object(objectSpread2["a" /* default */])({\n    id: Object(es["T" /* uuidv4 */])(),\n    source: \'node1\',\n    target: \'node4\',\n    sourcePortId: \'node1-output-1\',\n    targetPortId: \'node4-input-1\'\n  }, EDGE_COMMON_PROPS)];\n  return {\n    nodes: nodes,\n    edges: edges\n  };\n};\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/context-menu/demos/dynamic-config/graph-config.tsx\n\n\n\n\n\n\nvar onLoad = /*#__PURE__*/function () {\n  var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n    var res, _res$contextProvider$, graphData;\n\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_LAYOUT.id, {\n              layoutType: \'dagre\',\n              layoutOptions: {\n                type: \'dagre\',\n\n                /** \u5e03\u5c40\u65b9\u5411 */\n                rankdir: \'TB\',\n\n                /** \u8282\u70b9\u95f4\u8ddd */\n                nodesep: 60,\n\n                /** \u5c42\u95f4\u8ddd */\n                ranksep: 30\n              },\n              graphData: getGraphData()\n            });\n\n          case 2:\n            res = _context.sent;\n            _res$contextProvider$ = res.contextProvider().getResult(), graphData = _res$contextProvider$.graphData; // render\n\n            _context.next = 6;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_RENDER.id, {\n              graphData: graphData\n            });\n\n          case 6:\n            _context.next = 8;\n            return app.executeCommand(es["D" /* XFlowGraphCommands */].GRAPH_ZOOM.id, {\n              factor: \'real\'\n            });\n\n          case 8:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function onLoad(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\n\nvar useGraphConfig = Object(es["I" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "react-node"\n    }, " ", props.data.label, " ");\n  });\n});\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/DeleteOutlined.js + 1 modules\nvar DeleteOutlined = __webpack_require__("UmCv");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/EditOutlined.js + 1 modules\nvar EditOutlined = __webpack_require__("xdJY");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/StopOutlined.js + 1 modules\nvar StopOutlined = __webpack_require__("PJfV");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/UnorderedListOutlined.js + 1 modules\nvar UnorderedListOutlined = __webpack_require__("/sAC");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/context-menu/demos/dynamic-config/menu-config.tsx\n\n\n\n\n\n\nvar useMenuConfig = Object(es["H" /* createCtxMenuConfig */])(config => {\n  config.setMenuModelService( /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(data, model, modelService, toDispose) {\n      var type, cell;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              type = data.type, cell = data.cell;\n              console.log(type);\n              _context.t0 = type;\n              _context.next = _context.t0 === \'node\' ? 5 : 7;\n              break;\n\n            case 5:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.DELETE_NODE, NsCustomMenuItems.getDynamicMenuItems(data)]\n              });\n              return _context.abrupt("break", 9);\n\n            case 7:\n              model.setValue({\n                id: \'root\',\n                type: es["t" /* MenuItemType */].Root,\n                submenu: [NsCustomMenuItems.EMPTY_MENU]\n              });\n              return _context.abrupt("break", 9);\n\n            case 9:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2, _x3, _x4) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n});\n/** menuitem \u914d\u7f6e */\n\nvar NsCustomMenuItems;\n\n(function (_NsCustomMenuItems) {\n  /** \u6ce8\u518c\u83dc\u5355\u4f9d\u8d56\u7684icon */\n  es["o" /* IconStore */].set(\'DeleteOutlined\', DeleteOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'EditOutlined\', EditOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'StopOutlined\', StopOutlined["a" /* default */]);\n  es["o" /* IconStore */].set(\'UnorderedListOutlined\', UnorderedListOutlined["a" /* default */]);\n\n  var getDynamicMenuItems = _NsCustomMenuItems.getDynamicMenuItems = state => {\n    var data = state.cell.getData();\n    return {\n      id: \'\u52a8\u6001\u6e32\u7684submenu\',\n      label: \'\u52a8\u6001\u6e32\u67d3\u7684\u83dc\u5355\',\n      iconName: \'UnorderedListOutlined\',\n      type: es["t" /* MenuItemType */].Submenu,\n      submenu: data.menuItems.map((item, idx) => {\n        return {\n          id: item + \'#\' + idx,\n          label: item + \'#\' + (idx + 1),\n          type: es["t" /* MenuItemType */].Leaf,\n          iconName: \'UnorderedListOutlined\',\n          onClick: function () {\n            var _onClick = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(_ref2) {\n              var target;\n              return regenerator_default.a.wrap(function _callee2$(_context2) {\n                while (1) {\n                  switch (_context2.prev = _context2.next) {\n                    case 0:\n                      target = _ref2.target;\n                      console.log(\'submenu is  click\', target, item);\n\n                    case 2:\n                    case "end":\n                      return _context2.stop();\n                  }\n                }\n              }, _callee2);\n            }));\n\n            function onClick(_x5) {\n              return _onClick.apply(this, arguments);\n            }\n\n            return onClick;\n          }()\n        };\n      })\n    };\n  };\n\n  var DELETE_NODE = _NsCustomMenuItems.DELETE_NODE = {\n    id: es["F" /* XFlowNodeCommands */].DEL_NODE.id,\n    label: \'\u5220\u9664\u8282\u70b9\',\n    iconName: \'DeleteOutlined\',\n    onClick: function () {\n      var _onClick2 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(_ref3) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                target = _ref3.target, commandService = _ref3.commandService;\n                commandService.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                  nodeConfig: {\n                    id: target.data.id\n                  }\n                });\n\n              case 2:\n              case "end":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function onClick(_x6) {\n        return _onClick2.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var EMPTY_MENU = _NsCustomMenuItems.EMPTY_MENU = {\n    id: \'EMPTY_MENU_ITEM\',\n    label: \'\u6682\u65e0\u53ef\u7528\',\n    isEnabled: false,\n    iconName: \'DeleteOutlined\',\n    onClick: function () {\n      var _onClick3 = Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(_ref4) {\n        var target, commandService;\n        return regenerator_default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                target = _ref4.target, commandService = _ref4.commandService;\n                commandService.executeCommand(es["F" /* XFlowNodeCommands */].DEL_NODE.id, {\n                  nodeConfig: {\n                    id: target.data.id\n                  }\n                });\n\n              case 2:\n              case "end":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function onClick(_x7) {\n        return _onClick3.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  };\n  var SEPARATOR = _NsCustomMenuItems.SEPARATOR = {\n    id: \'separator\',\n    type: es["t" /* MenuItemType */].Separator\n  };\n})(NsCustomMenuItems || (NsCustomMenuItems = {}));\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/context-menu/demos/dynamic-config/index.less\nvar dynamic_config = __webpack_require__("shw0");\n\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__("1MRj");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/context-menu/demos/dynamic-config/index.tsx\n/**\n *  title: \u52a8\u6001\u6e32\u67d3\uff1a\u4e0d\u540c\u7684\u8282\u70b9\u6709\u4e0d\u540c\u7684\u83dc\u5355\n *  desc: |\n *    \u53ef\u4ee5\u6839\u636e\u4e0d\u540c\u7684\u8282\u70b9\u6570\u636e\uff0c\u52a8\u6001\u7684\u751f\u6210\u4e0d\u540c\u7684Menu Items <br>\n */\n\n\n\n\n\n\n/**  Demo Props  */\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  var menucConfig = useMenuConfig(props);\n  return /*#__PURE__*/react_default.a.createElement(es["y" /* XFlow */], {\n    onLoad: onLoad,\n    className: "xflow-workspace"\n  }, /*#__PURE__*/react_default.a.createElement(es["A" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es["a" /* CanvasContextMenu */], {\n    config: menucConfig\n  })));\n};\n\n/* harmony default export */ var demos_dynamic_config = __webpack_exports__["default"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/context-menu/demos/dynamic-config/index.tsx_+_3_modules?')},yenX:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"useGraphConfig\", function() { return /* binding */ useGraphConfig; });\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"KOBo\");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"RY7m\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../xflow/es/index.js + 207 modules\nvar es = __webpack_require__(\"mqVf\");\n\n// EXTERNAL MODULE: /Users/lyn/github/xflow-github/node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js + 1 modules\nvar PlusCircleOutlined = __webpack_require__(\"Uhj0\");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-toolbar/demos/toolbar-layout/toolbar-config.tsx\n\n\n\n\n\nes[\"o\" /* IconStore */].set('PlusCircleOutlined', PlusCircleOutlined[\"a\" /* default */]);\nvar useToolbarConfig1 = Object(es[\"M\" /* createToolbarConfig */])(toolbarConfig => {\n  /** \u751f\u4ea7 toolbar item */\n  toolbarConfig.setToolbarModelService( /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(toolbarModel) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              toolbarModel.setValue(toolbar => {\n                toolbar.mainGroups = [{\n                  name: 'main',\n                  items: [{\n                    id: '1',\n                    iconName: 'PlusCircleOutlined',\n                    tooltip: 'vertical'\n                  }, {\n                    id: '2',\n                    iconName: 'PlusCircleOutlined',\n                    tooltip: 'vertical'\n                  }]\n                }];\n                toolbar.extraGroups = [{\n                  name: 'extra',\n                  items: [{\n                    id: '3',\n                    iconName: 'PlusCircleOutlined',\n                    tooltip: 'vertical'\n                  }]\n                }];\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n});\nvar useToolbarConfig2 = Object(es[\"M\" /* createToolbarConfig */])(toolbarConfig => {\n  /** \u751f\u4ea7 toolbar item */\n  toolbarConfig.setToolbarModelService( /*#__PURE__*/function () {\n    var _ref2 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(toolbarModel) {\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              toolbarModel.setValue(toolbar => {\n                toolbar.mainGroups = [{\n                  name: 'main',\n                  items: [{\n                    id: '1',\n                    text: '\u6dfb\u52a0\u8282\u70b9',\n                    iconName: 'PlusCircleOutlined',\n                    tooltip: 'horizontal'\n                  }, {\n                    id: '2',\n                    text: '\u6dfb\u52a0\u8282\u70b9',\n                    iconName: 'PlusCircleOutlined',\n                    tooltip: 'horizontal'\n                  }]\n                }];\n                toolbar.extraGroups = [{\n                  name: 'extra',\n                  items: [{\n                    id: '3',\n                    iconName: 'PlusCircleOutlined',\n                    text: '\u6dfb\u52a0\u8282\u70b9',\n                    tooltip: '\u6dfb\u52a0\u8282\u70b9\uff0c\u914d\u7f6eextraGroups'\n                  }]\n                }];\n              });\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n});\nvar useToolbarConfig3 = Object(es[\"M\" /* createToolbarConfig */])(toolbarConfig => {\n  /** \u751f\u4ea7 toolbar item */\n  toolbarConfig.setToolbarModelService( /*#__PURE__*/function () {\n    var _ref3 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(toolbarModel) {\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              toolbarModel.setValue(toolbar => {\n                toolbar.mainGroups = [{\n                  name: 'main',\n                  items: [{\n                    id: '1',\n                    text: '\u6dfb\u52a0\u8282\u70b9',\n                    iconName: 'PlusCircleOutlined',\n                    tooltip: 'horizontal-center'\n                  }, {\n                    id: '2',\n                    text: '\u6dfb\u52a0\u8282\u70b9',\n                    iconName: 'PlusCircleOutlined',\n                    tooltip: 'horizontal-center'\n                  }]\n                }];\n                toolbar.extraGroups = [{\n                  name: 'extra',\n                  items: [{\n                    id: '3',\n                    iconName: 'PlusCircleOutlined',\n                    text: '\u6dfb\u52a0\u8282\u70b9',\n                    tooltip: '\u6dfb\u52a0\u8282\u70b9\uff0c\u914d\u7f6eextraGroups'\n                  }]\n                }];\n              });\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n});\n// EXTERNAL MODULE: ./docs/tutorial/extension-components/canvas-toolbar/demos/toolbar-layout/index.less\nvar toolbar_layout = __webpack_require__(\"OTTS\");\n\n// EXTERNAL MODULE: ../xflow/dist/index.css\nvar dist = __webpack_require__(\"1MRj\");\n\n// CONCATENATED MODULE: ./docs/tutorial/extension-components/canvas-toolbar/demos/toolbar-layout/index.tsx\n\n\n\n/**\n * title: \u5de5\u5177\u680f\u5e03\u5c40\n * desc: \u652f\u6301\u4e09\u79cd\u5e03\u5c40\uff1a'vertical'|'horizontal'|'horizontal-center'\n */\n\n\n\n\n\n/**  Demo Props  */\n\n/**  graphConfig\uff1a\u914d\u7f6eGraph  */\nvar useGraphConfig = Object(es[\"I\" /* createGraphConfig */])(graphConfig => {\n  graphConfig.setDefaultNodeRender(props => {\n    return /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: \"react-node\"\n    }, \" \", props.data.label, \" \");\n  });\n});\n\nvar XFlowDemo = props => {\n  var graphConfig = useGraphConfig(props);\n  var toolbarConfig1 = useToolbarConfig1(props);\n  var toolbarConfig2 = useToolbarConfig2(props);\n  var toolbarConfig3 = useToolbarConfig3(props);\n\n  var onLoad = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(app) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(app);\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onLoad(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/react_default.a.createElement(es[\"y\" /* XFlow */], {\n    onLoad: onLoad,\n    className: \"xflow-workspace\"\n  }, /*#__PURE__*/react_default.a.createElement(es[\"f\" /* CanvasToolbar */], {\n    layout: 'vertical',\n    config: toolbarConfig1,\n    position: {\n      top: 48,\n      left: 8,\n      bottom: 48\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es[\"f\" /* CanvasToolbar */], {\n    layout: \"horizontal\",\n    config: toolbarConfig2,\n    position: {\n      top: 0,\n      left: 0,\n      right: 0,\n      height: 40\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es[\"f\" /* CanvasToolbar */], {\n    layout: 'horizontal-center',\n    config: toolbarConfig3,\n    position: {\n      bottom: 0,\n      left: 0,\n      right: 0,\n      height: 40\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es[\"A\" /* XFlowCanvas */], {\n    config: graphConfig,\n    position: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    }\n  }));\n};\n\n/* harmony default export */ var demos_toolbar_layout = __webpack_exports__[\"default\"] = (XFlowDemo);\n\n//# sourceURL=webpack:///./docs/tutorial/extension-components/canvas-toolbar/demos/toolbar-layout/index.tsx_+_1_modules?")}}]);